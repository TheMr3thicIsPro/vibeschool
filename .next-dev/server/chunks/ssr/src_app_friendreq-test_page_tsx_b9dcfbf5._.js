module.exports=[98588,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(56025),e=a.i(86299);a.s(["default",0,()=>{let{state:a}=(0,d.useAuthStore)(),f=a.user,[g,h]=(0,c.useState)(""),[i,j]=(0,c.useState)(""),[k,l]=(0,c.useState)(null),[m,n]=(0,c.useState)(null),[o,p]=(0,c.useState)(!1),[q,r]=(0,c.useState)(null);(0,c.useEffect)(()=>{(async()=>{r(await (0,e.getCommunityDB)())})()},[]);let s=async()=>{if(g&&f)try{p(!0),console.log("[FRIENDREQ] send to",g);let a=await fetch("/api/friends/requests",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({toUserId:g})}),b=await a.json();console.log("[FRIENDREQ] response",a.status,b),j(JSON.stringify(b,null,2))}catch(a){console.error("[FRIENDREQ] Error sending friend request:",a),j(`Error: ${a}`)}finally{p(!1)}},t=async()=>{try{p(!0);let a=await fetch("/api/friends/requests"),b=await a.json();l(b),j(JSON.stringify(b,null,2))}catch(a){console.error("[FRIENDREQ] Error getting requests:",a),j(`Error: ${a}`)}finally{p(!1)}},u=async()=>{try{p(!0);let a=await fetch("/api/friends"),b=await a.json();n(b),j(JSON.stringify(b,null,2))}catch(a){console.error("[FRIENDREQ] Error getting friends:",a),j(`Error: ${a}`)}finally{p(!1)}};return(0,b.jsx)("div",{className:"min-h-screen bg-gray-900 text-white p-8",children:(0,b.jsxs)("div",{className:"max-w-4xl mx-auto",children:[(0,b.jsx)("h1",{className:"text-3xl font-bold mb-8 text-center",children:"Friend Request Test Page"}),(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[(0,b.jsxs)("div",{className:"bg-gray-800 p-6 rounded-lg",children:[(0,b.jsx)("h2",{className:"text-xl font-semibold mb-4",children:"User Info"}),(0,b.jsxs)("div",{className:"mb-4",children:[(0,b.jsxs)("p",{className:"text-gray-300",children:[(0,b.jsx)("strong",{children:"Current User ID:"})," ",f?.id||"Not logged in"]}),(0,b.jsxs)("p",{className:"text-gray-300",children:[(0,b.jsx)("strong",{children:"Current Username:"})," ",f?.username||"Not logged in"]})]}),(0,b.jsxs)("div",{className:"mb-6",children:[(0,b.jsx)("label",{className:"block text-gray-300 mb-2",children:"To User ID:"}),(0,b.jsx)("input",{type:"text",value:g,onChange:a=>h(a.target.value),placeholder:"Enter user ID to send request to",className:"w-full bg-gray-700 text-white rounded-lg p-2 focus:outline-none focus:ring-2 focus:ring-accent-primary"})]}),(0,b.jsx)("button",{onClick:s,disabled:o||!g||!f,className:"w-full py-2 bg-accent-primary text-white rounded-lg hover:bg-accent-primary/90 disabled:opacity-50 border border-accent-primary",children:o?"Sending...":"SEND REQUEST"})]}),(0,b.jsxs)("div",{className:"bg-gray-800 p-6 rounded-lg",children:[(0,b.jsx)("h2",{className:"text-xl font-semibold mb-4",children:"Actions"}),(0,b.jsxs)("div",{className:"space-y-3",children:[(0,b.jsx)("button",{onClick:t,disabled:o,className:"w-full py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-500 disabled:opacity-50",children:"GET REQUESTS"}),(0,b.jsx)("button",{onClick:u,disabled:o,className:"w-full py-2 bg-green-600 text-white rounded-lg hover:bg-green-500 disabled:opacity-50",children:"GET FRIENDS"})]}),(0,b.jsxs)("div",{className:"mt-6",children:[(0,b.jsx)("h3",{className:"text-lg font-medium mb-2",children:"Last Response:"}),(0,b.jsx)("pre",{className:"bg-gray-900 p-4 rounded text-sm overflow-auto max-h-60",children:i||"No response yet"})]})]})]}),k&&(0,b.jsxs)("div",{className:"mt-8 bg-gray-800 p-6 rounded-lg",children:[(0,b.jsx)("h2",{className:"text-xl font-semibold mb-4",children:"Recent Requests"}),(0,b.jsx)("div",{className:"overflow-auto",children:(0,b.jsx)("pre",{className:"text-sm",children:JSON.stringify(k,null,2)})})]}),m&&(0,b.jsxs)("div",{className:"mt-8 bg-gray-800 p-6 rounded-lg",children:[(0,b.jsx)("h2",{className:"text-xl font-semibold mb-4",children:"Friends List"}),(0,b.jsx)("div",{className:"overflow-auto",children:(0,b.jsx)("pre",{className:"text-sm",children:JSON.stringify(m,null,2)})})]})]})})}])}];

//# sourceMappingURL=src_app_friendreq-test_page_tsx_b9dcfbf5._.js.map