module.exports=[38783,(a,b,c)=>{"use strict";b.exports=a.r(42602).vendored["react-ssr"].ReactServerDOMTurbopackClient},36313,(a,b,c)=>{"use strict";b.exports=a.r(42602).vendored.contexts.HooksClientContext},18341,(a,b,c)=>{"use strict";b.exports=a.r(42602).vendored.contexts.ServerInsertedHtml},56704,(a,b,c)=>{b.exports=a.x("next/dist/server/app-render/work-async-storage.external.js",()=>require("next/dist/server/app-render/work-async-storage.external.js"))},32319,(a,b,c)=>{b.exports=a.x("next/dist/server/app-render/work-unit-async-storage.external.js",()=>require("next/dist/server/app-render/work-unit-async-storage.external.js"))},20635,(a,b,c)=>{b.exports=a.x("next/dist/server/app-render/action-async-storage.external.js",()=>require("next/dist/server/app-render/action-async-storage.external.js"))},9270,(a,b,c)=>{"use strict";b.exports=a.r(42602).vendored.contexts.AppRouterContext},39355,a=>{"use strict";let b=(0,a.i(70106).default)("user",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);a.s(["default",()=>b])},46058,(a,b,c)=>{"use strict";function d(a){if("function"!=typeof WeakMap)return null;var b=new WeakMap,c=new WeakMap;return(d=function(a){return a?c:b})(a)}c._=function(a,b){if(!b&&a&&a.__esModule)return a;if(null===a||"object"!=typeof a&&"function"!=typeof a)return{default:a};var c=d(b);if(c&&c.has(a))return c.get(a);var e={__proto__:null},f=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var g in a)if("default"!==g&&Object.prototype.hasOwnProperty.call(a,g)){var h=f?Object.getOwnPropertyDescriptor(a,g):null;h&&(h.get||h.set)?Object.defineProperty(e,g,h):e[g]=a[g]}return e.default=a,c&&c.set(a,e),e}},39118,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0});var d={DEFAULT_SEGMENT_KEY:function(){return l},NOT_FOUND_SEGMENT_KEY:function(){return m},PAGE_SEGMENT_KEY:function(){return k},addSearchParamsIfPageSegment:function(){return i},computeSelectedLayoutSegment:function(){return j},getSegmentValue:function(){return f},getSelectedLayoutSegmentPath:function(){return function a(b,c,d=!0,e=[]){let g;if(d)g=b[1][c];else{let a=b[1];g=a.children??Object.values(a)[0]}if(!g)return e;let h=f(g[0]);return!h||h.startsWith(k)?e:(e.push(h),a(g,c,!1,e))}},isGroupSegment:function(){return g},isParallelRouteSegment:function(){return h}};for(var e in d)Object.defineProperty(c,e,{enumerable:!0,get:d[e]});function f(a){return Array.isArray(a)?a[1]:a}function g(a){return"("===a[0]&&a.endsWith(")")}function h(a){return a.startsWith("@")&&"@children"!==a}function i(a,b){if(a.includes(k)){let a=JSON.stringify(b);return"{}"!==a?k+"?"+a:k}return a}function j(a,b){if(!a||0===a.length)return null;let c="children"===b?a[0]:a[a.length-1];return c===l?null:c}let k="__PAGE__",l="__DEFAULT__",m="/_not-found"},70106,a=>{"use strict";var b=a.i(72131);let c=a=>{let b=a.replace(/^([A-Z])|[\s-_]+(\w)/g,(a,b,c)=>c?c.toUpperCase():b.toLowerCase());return b.charAt(0).toUpperCase()+b.slice(1)},d=(...a)=>a.filter((a,b,c)=>!!a&&""!==a.trim()&&c.indexOf(a)===b).join(" ").trim();var e={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let f=(0,b.forwardRef)(({color:a="currentColor",size:c=24,strokeWidth:f=2,absoluteStrokeWidth:g,className:h="",children:i,iconNode:j,...k},l)=>(0,b.createElement)("svg",{ref:l,...e,width:c,height:c,stroke:a,strokeWidth:g?24*Number(f)/Number(c):f,className:d("lucide",h),...!i&&!(a=>{for(let b in a)if(b.startsWith("aria-")||"role"===b||"title"===b)return!0})(k)&&{"aria-hidden":"true"},...k},[...j.map(([a,c])=>(0,b.createElement)(a,c)),...Array.isArray(i)?i:[i]])),g=(a,e)=>{let g=(0,b.forwardRef)(({className:g,...h},i)=>(0,b.createElement)(f,{ref:i,iconNode:e,className:d(`lucide-${c(a).replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase()}`,`lucide-${a}`,g),...h}));return g.displayName=c(a),g};a.s(["default",()=>g],70106)},90925,21230,33759,a=>{"use strict";var b=a.i(87924),c=a.i(56025),d=a.i(50944),e=a.i(72131);let f=({duration:a=3e3,className:b="",showPercentage:c=!0})=>{let[d,f]=(0,e.useState)(0);return(0,e.useEffect)(()=>{let b=setInterval(()=>{f(a=>a>=100?(clearInterval(b),100):a+1)},a/100);return()=>clearInterval(b)},[a]),e.default.createElement("div",{className:"w-full "+b},c&&e.default.createElement("div",{className:"flex justify-between items-center mb-2"},e.default.createElement("span",{className:"text-sm font-medium text-gray-300"},"Loading..."),e.default.createElement("span",{className:"text-sm font-medium text-accent-primary"},d+"%")),e.default.createElement("div",{className:"w-full bg-gray-800 rounded-full h-2.5"},e.default.createElement("div",{className:"bg-gradient-to-r from-accent-primary to-purple-600 h-2.5 rounded-full transition-all duration-100 ease-out",style:{width:d+"%"}})),d>=100&&e.default.createElement("div",{className:"mt-2 text-center text-sm text-green-400 animate-pulse"},"Complete!"))};a.s(["default",0,f],21230);let g=({className:a="",count:c=1,showLoadingBar:d=!1,loadingDuration:e=3e3})=>{let g=Array.from({length:c},(c,d)=>(0,b.jsx)("div",{className:`animate-pulse bg-gray-700 rounded ${a}`},d));return(0,b.jsxs)(b.Fragment,{children:[d&&(0,b.jsx)("div",{className:"mb-6",children:(0,b.jsx)(f,{duration:e})}),g]})};a.s(["default",0,g],33759);let h=({className:a="",loadingText:c="Loading...",showLoadingBar:d=!0,showSkeletons:e=!0,skeletonCount:h=5,duration:i=5e3})=>(0,b.jsxs)("div",{className:`relative ${a}`,children:[d&&(0,b.jsx)("div",{className:"fixed top-0 left-0 right-0 z-50 pt-2 px-4",children:(0,b.jsx)(f,{duration:i,showPercentage:!1})}),e&&(0,b.jsxs)("div",{className:"container mx-auto px-4 py-8",children:[(0,b.jsxs)("div",{className:"mb-8 text-center",children:[(0,b.jsx)(g,{className:"h-8 w-64 mb-4 mx-auto"}),(0,b.jsx)(g,{className:"h-4 w-48 mx-auto"})]}),(0,b.jsx)("div",{className:"space-y-6",children:Array.from({length:h}).map((a,c)=>(0,b.jsxs)("div",{className:"card p-6 border border-card-border",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,b.jsx)(g,{className:"h-6 w-32"}),(0,b.jsx)(g,{className:"h-4 w-16"})]}),(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsx)(g,{className:"h-4 w-full"}),(0,b.jsx)(g,{className:"h-4 w-5/6"}),(0,b.jsx)(g,{className:"h-4 w-4/6"}),(0,b.jsxs)("div",{className:"flex gap-3 mt-4",children:[(0,b.jsx)(g,{className:"h-10 w-24 rounded-lg"}),(0,b.jsx)(g,{className:"h-10 w-24 rounded-lg"})]})]})]},c))})]})]});a.s(["default",0,({children:a})=>{let[f,g]=(0,e.useState)(!1);(0,e.useEffect)(()=>{g(!0)},[]);let{state:i}=(0,c.useAuthStore)(),{user:j,authLoading:k}=i,l=(0,d.useRouter)();return((0,e.useEffect)(()=>{!f||k||j||l.push("/auth/login")},[f,j,k,l]),f)?k?(0,b.jsx)("div",{className:"min-h-screen bg-background flex items-center justify-center",children:(0,b.jsx)(h,{loadingText:"Checking authentication status..."})}):j?(0,b.jsx)(b.Fragment,{children:a}):null:(0,b.jsx)(b.Fragment,{children:a})}],90925)},43904,a=>{"use strict";var b=a.i(10849);let c=async()=>{console.log("listCourses: Fetching published courses");let{data:a,error:c}=await b.supabase.from("courses").select("id, title, description, thumbnail_url, is_published, created_at").eq("is_published",!0).order("created_at",{ascending:!1});if(c)throw console.error("listCourses: Error fetching courses:",c),console.error("Supabase error",{message:c?.message,details:c?.details,hint:c?.hint,code:c?.code}),c;if(!a||0===a.length)return console.log("listCourses: No courses found"),[];let d=a.map(a=>a.id),{data:e,error:f}=await b.supabase.from("modules").select("id, course_id, title, order_index").in("course_id",d).order("order_index",{ascending:!0});if(f)throw console.error("listCourses: Error fetching modules:",f),console.error("Supabase error",{message:f?.message,details:f?.details,hint:f?.hint,code:f?.code}),f;let g={};if(e)for(let a of e)g[a.course_id]||(g[a.course_id]=[]),g[a.course_id].push(a);let h=e?.map(a=>a.id)||[],i=[];if(h.length>0){let{data:a,error:c}=await b.supabase.from("lessons").select("id, module_id, title, description, order_index, video_provider, video_url, youtube_video_id, is_preview, is_published, created_at").in("module_id",h).order("order_index",{ascending:!0});if(c)throw console.error("listCourses: Error fetching lessons:",c),console.error("Supabase error",{message:c?.message,details:c?.details,hint:c?.hint,code:c?.code}),console.warn("Warning: Failed to fetch lessons, continuing with empty lessons array"),i=[],c;i=a||[]}let j={};for(let a of i)j[a.module_id]||(j[a.module_id]=[]),j[a.module_id].push(a);let k=a.map(a=>({...a,modules:g[a.id]?g[a.id].map(a=>({...a,lessons:j[a.id]||[]})):[]}));return console.log("listCourses: Final result",{count:k.length}),k},d=async(a,c)=>{console.log("getCourse: Fetching course:",a,"for user:",c);let{data:d,error:f}=await b.supabase.from("courses").select("id, title, description, thumbnail_url, is_published, created_at").eq("id",a).eq("is_published",!0).single();if(f)throw console.error("getCourse: Error fetching course:",f),console.error("Supabase error",{message:f?.message,details:f?.details,hint:f?.hint,code:f?.code}),f;if(!d)throw Error("Course not found");let{data:g,error:h}=await b.supabase.from("modules").select("id, course_id, title, order_index").eq("course_id",a).order("order_index",{ascending:!0});if(h)throw console.error("getCourse: Error fetching modules:",h),console.error("Supabase error",{message:h?.message,details:h?.details,hint:h?.hint,code:h?.code}),h;let i=g?.map(a=>a.id)||[],j=[];if(i.length>0){let{data:a,error:c}=await b.supabase.from("lessons").select("id, module_id, title, description, order_index, video_provider, video_url, youtube_video_id, is_preview, is_published, created_at").in("module_id",i).order("order_index",{ascending:!0});if(c)throw console.error("getCourse: Error fetching lessons:",c),console.error("Supabase error",{message:c?.message,details:c?.details,hint:c?.hint,code:c?.code}),console.warn("Warning: Failed to fetch lessons, continuing with empty lessons array"),j=[],c;j=a||[]}let k={};for(let a of j)k[a.module_id]||(k[a.module_id]=[]),k[a.module_id].push(a);let l={...d,modules:g?.map(a=>({...a,lessons:k[a.id]||[]}))||[]};if(console.log("getCourse: Result",{course:l.id,modules:l.modules.length}),c){let b=await e(c,a);return{...l,progress:b}}return l},e=async(a,c)=>{console.log("getCourseProgress: Fetching progress for user:",a,"course:",c);let{data:d,error:e}=await b.supabase.from("modules").select("id").eq("course_id",c);if(e)throw console.error("getCourseProgress: Error fetching modules:",e),console.error("Supabase error",{message:e?.message,details:e?.details,hint:e?.hint,code:e?.code}),e;let f=[];if(d&&d.length>0){let a=d.map(a=>a.id),{data:c,error:e}=await b.supabase.from("lessons").select("id").in("module_id",a);if(e)return console.error("getCourseProgress: Error fetching lessons:",e),console.error("Supabase error",{message:e?.message,details:e?.details,hint:e?.hint,code:e?.code}),console.warn("Warning: Failed to fetch lessons for progress calculation"),{total_lessons:0,completed_lessons:0,progress_percent:0,last_accessed_lesson_id:null};f=c?.map(a=>a.id)||[]}let g=f.length;if(0===g)return{total_lessons:0,completed_lessons:0,progress_percent:0,last_accessed_lesson_id:null};let{data:h,error:i}=await b.supabase.from("user_lesson_progress").select("lesson_id, completed, updated_at").eq("user_id",a).in("lesson_id",f);if(i)throw console.error("getCourseProgress: Error fetching progress data:",i),console.error("Supabase error",{message:i?.message,details:i?.details,hint:i?.hint,code:i?.code}),i;let j=h?.filter(a=>a.completed).length||0,k=g>0?Math.round(j/g*100):0,l=h?.sort((a,b)=>new Date(b.updated_at).getTime()-new Date(a.updated_at).getTime());return{total_lessons:g,completed_lessons:j,progress_percent:k,last_accessed_lesson_id:l?.[0]?.lesson_id||null}},f=async(a,c)=>{console.log("getNextLesson: Finding next lesson for user:",a,"course:",c);let e=await d(c,a);if(!e.modules||0===e.modules.length)return console.log("getNextLesson: No modules found"),null;let{data:f,error:g}=await b.supabase.from("user_lesson_progress").select("lesson_id, completed").eq("user_id",a).eq("completed",!0);if(g)throw console.error("getNextLesson: Error fetching progress:",g),console.error("Supabase error",{message:g?.message,details:g?.details,hint:g?.hint,code:g?.code}),g;let h=new Set(f?.map(a=>a.lesson_id)||[]);for(let a of e.modules)if(a.lessons){for(let b of a.lessons)if(!h.has(b.id))return console.log("getNextLesson: Found next lesson:",b.id),b}console.log("getNextLesson: All lessons completed, returning first lesson");let i=e.modules[0];return i&&i.lessons&&i.lessons.length>0?i.lessons[0]:null},g=async(a,c)=>{console.log("getResumeLesson: Finding resume lesson for user:",a,"course:",c);let{data:d,error:e}=await b.supabase.from("user_lesson_progress").select(`
      lesson_id,
      completed,
      last_position_seconds
    `).eq("user_id",a).order("updated_at",{ascending:!1}).limit(5);if(e)throw console.error("getResumeLesson: Error fetching recent progress:",e),console.error("Supabase error",{message:e?.message,details:e?.details,hint:e?.hint,code:e?.code}),e;if(d){for(let a of d)if(!a.completed&&a.last_position_seconds>0){let{data:c,error:d}=await b.supabase.from("lessons").select("*").eq("id",a.lesson_id).single();if(!d&&c)return console.log("getResumeLesson: Found resume lesson with progress:",c.id),c}}return f(a,c)},h=async(a,c,d)=>{console.log("updateUserLessonProgress: Updating progress for user:",a,"lesson:",c,"data:",d);let{data:e,error:f}=await b.supabase.from("user_lesson_progress").upsert({user_id:a,lesson_id:c,...d,updated_at:new Date().toISOString()},{onConflict:"user_id,lesson_id"}).select().single();if(console.log("updateUserLessonProgress: Result",{data:e,error:f}),f)throw console.error("updateUserLessonProgress: Error updating progress:",f),console.error("Supabase error",{message:f?.message,details:f?.details,hint:f?.hint,code:f?.code}),f;return e},i=async(a,b=3)=>{console.log("getContinueLearningItems: Fetching items for user:",a,"limit:",b);let d=await c(),g=[];for(let b of d){let c=await e(a,b.id);if(c.total_lessons>0&&c.progress_percent<100){let d=await f(a,b.id);d&&g.push({course:b,next_lesson:d,progress_percent:c.progress_percent})}}return g.sort((a,b)=>a.progress_percent-b.progress_percent).slice(0,b)},j=async(a,c)=>{console.log("getUserLessonProgress: Fetching progress for user:",a,"lesson:",c);let{data:d,error:e}=await b.supabase.from("user_lesson_progress").select("*").eq("user_id",a).eq("lesson_id",c).maybeSingle();if(console.log("getUserLessonProgress: Result",{data:d,error:e}),e&&"PGRST116"!==e.code)throw console.error("getUserLessonProgress: Error fetching progress:",e),console.error("Supabase error",{message:e?.message,details:e?.details,hint:e?.hint,code:e?.code}),e;return d||(console.log("getUserLessonProgress: No progress found, returning default"),{user_id:a,lesson_id:c,completed:!1,completed_at:null,last_position_seconds:0,updated_at:new Date().toISOString()})},k=async(a,c)=>{console.log("checkLessonAccess: Checking access for user:",a,"lesson:",c);let{data:d,error:e}=await b.supabase.from("lessons").select("is_preview").eq("id",c).single();if(e)return console.error("checkLessonAccess: Error fetching lesson:",e),console.error("Supabase error",{message:e?.message,details:e?.details,hint:e?.hint,code:e?.code}),{hasAccess:!1,isPreview:!1};if(d.is_preview)return console.log("checkLessonAccess: Lesson is preview, access granted"),{hasAccess:!0,isPreview:!0};let{data:f,error:g}=await b.supabase.from("profiles").select("plan").eq("id",a).maybeSingle();if(g)return console.error("checkLessonAccess: Error fetching profile:",g),console.error("Supabase error",{message:g?.message,details:g?.details,hint:g?.hint,code:g?.code}),{hasAccess:!1,isPreview:!1};if(!f)return console.log("checkLessonAccess: No profile found for user, denying access"),{hasAccess:!1,isPreview:!1};let h="member"===f.plan;return console.log("checkLessonAccess: Member access check result:",{hasAccess:h,plan:f.plan}),{hasAccess:h,isPreview:!1}};a.s(["checkLessonAccess",0,k,"getContinueLearningItems",0,i,"getCourse",0,d,"getCourseProgress",0,e,"getNextLesson",0,f,"getResumeLesson",0,g,"getUserLessonProgress",0,j,"listCourses",0,c,"updateUserLessonProgress",0,h])},41675,a=>{"use strict";let b=(0,a.i(70106).default)("calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);a.s(["Calendar",()=>b],41675)},49731,a=>{"use strict";var b=a.i(10849);let c=async a=>{console.log("getLessonById: Fetching lesson:",a);let{data:c,error:d}=await b.supabase.from("lessons").select(`
      id,
      title,
      description,
      video_provider,
      video_url,
      youtube_video_id,
      is_preview,
      is_published,
      module_id,
      modules (
        id,
        title,
        course_id,
        courses (
          id,
          title
        )
      )
    `).eq("id",a).eq("is_published",!0).single();if(console.log("getLessonById: Result",{data:c,error:d}),d)throw console.error("getLessonById: Error fetching lesson:",d),d;return c},d=async(a=10)=>{console.log("getLatestAnnouncements: Fetching latest announcements, limit:",a);let{data:c,error:d}=await b.supabase.from("announcements").select("id, title, body, created_at").order("created_at",{ascending:!1}).limit(a);if(console.log("getLatestAnnouncements: Result",{data:c,error:d}),d)throw console.error("getLatestAnnouncements: Error fetching announcements:",d),d;return c||[]},e=async a=>{console.log("getUserProfile: Fetching profile for user:",a);let{data:c,error:d}=await b.supabase.from("profiles").select("id, username, full_name, role, plan, created_at, trial_started_at, trial_expires_at, account_locked").eq("id",a).maybeSingle();if(console.log("getUserProfile: Result",{data:c,error:d}),d)throw console.error("getUserProfile: Error fetching profile:",d),d;return c||(console.log("getUserProfile: No profile found for user:",a),null)},f=async()=>{console.log("getAllCourses: Fetching all courses");let{data:a,error:c}=await b.supabase.from("courses").select(`
      id,
      title,
      description,
      thumbnail_url,
      is_published,
      created_at,
      updated_at
    `).order("created_at",{ascending:!1});if(console.log("getAllCourses: Result",{data:a,error:c}),c)throw console.error("getAllCourses: Error fetching courses:",c),c;return a||[]},g=async(a,b)=>{if(console.log("checkLessonAccess: Checking access for user:",a,"lesson:",b),(await c(b)).is_preview)return console.log("checkLessonAccess: Lesson is preview, access granted"),{hasAccess:!0,isPreview:!0};let d=await e(a);if(!d)return console.log("checkLessonAccess: No profile found for user, denying access"),{hasAccess:!1,isPreview:!1};let f=!1;if("member"===d.plan)f=!0;else if("free"===d.plan&&d.trial_expires_at){let a=new Date(d.trial_expires_at);f=new Date<a}return console.log("checkLessonAccess: Trial/membership access check result:",{hasAccess:f,plan:d.plan,trialExpiresAt:d.trial_expires_at}),{hasAccess:f,isPreview:!1}};a.s(["checkLessonAccess",0,g,"getAllCourses",0,f,"getLatestAnnouncements",0,d,"getLessonById",0,c])},24669,a=>{"use strict";let b=(0,a.i(70106).default)("trending-up",[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]]);a.s(["TrendingUp",()=>b],24669)},49846,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(50944),e=a.i(56025);a.i(2159);var f=a.i(10849),g=a.i(53722),h=a.i(41675),i=a.i(24669);let j=(0,a.i(70106).default)("award",[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]]);var k=a.i(90925),l=a.i(48441);a.i(49731),a.i(43904);var m=a.i(21230),n=a.i(33759);let o=({className:a=""})=>(0,b.jsxs)("div",{className:`relative ${a}`,children:[(0,b.jsx)("div",{className:"fixed top-0 left-0 right-0 z-50 pt-2 px-4",children:(0,b.jsx)(m.default,{duration:5e3,showPercentage:!1})}),(0,b.jsxs)("div",{className:"mb-8",children:[(0,b.jsx)(n.default,{className:"h-8 w-64 mb-2"}),(0,b.jsx)(n.default,{className:"h-4 w-48"})]}),(0,b.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[0,1,2,3].map((a,c)=>(0,b.jsx)("div",{className:"card p-6 border border-card-border",children:(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)(n.default,{className:"h-4 w-20 mb-2"}),(0,b.jsx)(n.default,{className:"h-6 w-16"})]}),(0,b.jsx)(n.default,{className:"h-12 w-12 rounded-full"})]})},c))}),(0,b.jsxs)("div",{className:"card p-6 border border-card-border mb-8",children:[(0,b.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,b.jsx)(n.default,{className:"h-6 w-48"}),(0,b.jsx)(n.default,{className:"h-4 w-24"})]}),(0,b.jsx)("div",{className:"space-y-4",children:[0,1,2].map((a,c)=>(0,b.jsxs)("div",{className:"flex items-center p-4 bg-card-bg rounded-lg border border-card-border",children:[(0,b.jsxs)("div",{className:"flex-1",children:[(0,b.jsx)(n.default,{className:"h-5 w-64 mb-2"}),(0,b.jsx)(n.default,{className:"h-4 w-40"})]}),(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsx)(n.default,{className:"h-2 w-32 rounded-full"}),(0,b.jsx)(n.default,{className:"h-4 w-16"}),(0,b.jsx)(n.default,{className:"h-10 w-20 rounded-lg"})]})]},c))})]}),(0,b.jsxs)("div",{className:"card p-6 border border-card-border",children:[(0,b.jsx)(n.default,{className:"h-6 w-32 mb-4"}),(0,b.jsx)("div",{className:"space-y-4",children:[0,1,2].map((a,c)=>(0,b.jsxs)("div",{className:"p-4 bg-card-bg rounded-lg border border-card-border",children:[(0,b.jsx)(n.default,{className:"h-5 w-48 mb-2"}),(0,b.jsx)(n.default,{className:"h-4 w-full mb-2"}),(0,b.jsx)(n.default,{className:"h-3 w-32"})]},c))})]})]});a.s(["default",0,()=>{console.debug("[Dashboard] component mounted");let{state:a}=(0,e.useAuthStore)(),m=a.user;console.debug("[Dashboard] user from auth state:",m?{id:m.id,email:m.email}:"no user");let n=(0,d.useRouter)(),[p,q]=(0,c.useState)(null),[r,s]=(0,c.useState)(!0);console.debug("[Dashboard] initial loading state:",!0);let[t,u]=(0,c.useState)({progressPercent:0,lessonsCompleted:0,currentModule:"Start a course",joined:"N/A"}),[v,w]=(0,c.useState)([]),[x,y]=(0,c.useState)([]);console.debug("[Dashboard] didRun ref initialized:",(0,c.useRef)(!1).current),(0,c.useEffect)(()=>{console.debug("[Dashboard] BUILD-DEBUG: Skipping data load during build time - window undefined"),console.debug("[Dashboard] BUILD-DEBUG: Setting loading to false for static render"),s(!1),console.debug("[Dashboard] BUILD-DEBUG: Data load skipped successfully")},[m,f.supabase]),p&&("admin"===p.role||p.role);let z=[{name:"Progress",value:`${t.progressPercent}%`,icon:i.TrendingUp},{name:"Lessons Completed",value:`${t.lessonsCompleted} completed`,icon:j},{name:"Current Module",value:t.currentModule,icon:g.BookOpen},{name:"Joined",value:t.joined,icon:h.Calendar}];return(console.debug("[Dashboard] render - loading state:",r),r)?(console.debug("[Dashboard] rendering skeleton loading with progress bar overlay"),(0,b.jsx)(k.default,{children:(0,b.jsx)(l.default,{children:(0,b.jsx)("div",{className:"container mx-auto px-4 py-8",children:(0,b.jsx)(o,{})})})})):(console.debug("[Dashboard] loading complete, rendering dashboard content"),(0,b.jsx)(k.default,{children:(0,b.jsx)(l.default,{children:(0,b.jsxs)("div",{className:"container mx-auto px-4 py-8",children:[(0,b.jsxs)("div",{className:"mb-8",children:[(0,b.jsxs)("h1",{className:"text-3xl font-bold text-white",children:["Welcome back, ",p?.username||m?.email?.split("@")[0],"!"]}),(0,b.jsx)("p",{className:"text-gray-400",children:"Continue your journey in AI coding"})]}),(0,b.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:z.map((a,c)=>{let d=a.icon;return(0,b.jsx)("div",{className:"card p-6 border border-card-border",children:(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-gray-400 text-sm",children:a.name}),(0,b.jsx)("p",{className:"text-2xl font-bold text-white mt-1",children:a.value})]}),(0,b.jsx)("div",{className:"p-3 rounded-full bg-accent-primary/10",children:(0,b.jsx)(d,{className:"text-accent-primary",size:24})})]})},c)})}),(0,b.jsxs)(b.Fragment,{children:[(0,b.jsxs)("div",{className:"card p-6 border border-card-border mb-8",children:[(0,b.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,b.jsx)("h2",{className:"text-xl font-bold text-white",children:"Continue Learning"}),(0,b.jsx)("button",{onClick:()=>n.push("/courses"),className:"text-accent-primary hover:underline hover-lift",children:"Browse Courses"})]}),(0,b.jsx)("div",{className:"space-y-4",children:v.length>0?v.map((a,c)=>(0,b.jsxs)("div",{className:"flex items-center p-4 bg-card-bg rounded-lg border border-card-border hover:border-accent-primary transition-colors cursor-pointer",onClick:()=>n.push(`/learn/${a.lesson_id}`),children:[(0,b.jsxs)("div",{className:"flex-1",children:[(0,b.jsx)("h3",{className:"font-medium text-white",children:a.lesson_title}),(0,b.jsx)("p",{className:"text-gray-400 text-sm",children:a.course_title})]}),(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsx)("div",{className:"w-32 bg-gray-700 rounded-full h-2",children:(0,b.jsx)("div",{className:"bg-accent-primary h-2 rounded-full",style:{width:`${a.progress_percent}%`}})}),(0,b.jsxs)("span",{className:"text-sm text-gray-400",children:[a.progress_percent,"%"]}),(0,b.jsx)("button",{className:"ml-4 px-4 py-2 bg-accent-primary text-white rounded-lg hover:bg-accent-primary/90 transition-colors hover-lift border border-accent-primary",onClick:b=>{b.stopPropagation(),n.push(`/learn/${a.lesson_id}`)},children:"Continue"})]})]},c)):(0,b.jsxs)("div",{className:"text-center py-8",children:[(0,b.jsx)(g.BookOpen,{size:48,className:"text-gray-600 mx-auto mb-4"}),(0,b.jsx)("p",{className:"text-gray-400 text-lg mb-2",children:"No ongoing lessons"}),(0,b.jsx)("p",{className:"text-gray-500 mb-4",children:"Start a course to begin your learning journey!"}),(0,b.jsx)("button",{onClick:()=>n.push("/courses"),className:"px-6 py-3 bg-accent-primary text-white rounded-lg hover:bg-accent-primary/90 font-medium hover-lift border border-accent-primary",children:"Browse Courses"})]})})]}),(0,b.jsxs)("div",{className:"card p-6 border border-card-border",children:[(0,b.jsx)("h2",{className:"text-xl font-bold text-white mb-4",children:"Announcements"}),(0,b.jsx)("div",{className:"space-y-4",children:x.length>0?x.map((a,c)=>(0,b.jsxs)("div",{className:"p-4 bg-card-bg rounded-lg border border-card-border",children:[(0,b.jsx)("h3",{className:"font-medium text-white",children:a.title}),(0,b.jsx)("p",{className:"text-gray-400 text-sm mt-2",children:a.body}),(0,b.jsxs)("p",{className:"text-gray-500 text-xs mt-2",children:["Posted ",new Date(a.created_at).toLocaleDateString()]})]},c)):(0,b.jsx)("p",{className:"text-gray-400 text-center py-4",children:"No announcements yet."})})]})]})]})})}))}],49846)}];

//# sourceMappingURL=%5Broot-of-the-server%5D__0357c570._.js.map