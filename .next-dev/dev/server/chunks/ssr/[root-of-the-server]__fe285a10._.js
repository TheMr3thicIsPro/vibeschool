module.exports = [
"[externals]/next/dist/server/app-render/action-async-storage.external.js [external] (next/dist/server/app-render/action-async-storage.external.js, cjs)", ((__turbopack_context__, module, exports) => {

const mod = __turbopack_context__.x("next/dist/server/app-render/action-async-storage.external.js", () => require("next/dist/server/app-render/action-async-storage.external.js"));

module.exports = mod;
}),
"[externals]/next/dist/server/app-render/work-unit-async-storage.external.js [external] (next/dist/server/app-render/work-unit-async-storage.external.js, cjs)", ((__turbopack_context__, module, exports) => {

const mod = __turbopack_context__.x("next/dist/server/app-render/work-unit-async-storage.external.js", () => require("next/dist/server/app-render/work-unit-async-storage.external.js"));

module.exports = mod;
}),
"[externals]/next/dist/server/app-render/work-async-storage.external.js [external] (next/dist/server/app-render/work-async-storage.external.js, cjs)", ((__turbopack_context__, module, exports) => {

const mod = __turbopack_context__.x("next/dist/server/app-render/work-async-storage.external.js", () => require("next/dist/server/app-render/work-async-storage.external.js"));

module.exports = mod;
}),
"[project]/src/lib/utils.ts [app-ssr] (ecmascript)", ((__turbopack_context__) => {
"use strict";

__turbopack_context__.s([
    "cn",
    ()=>cn
]);
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$clsx$2f$dist$2f$clsx$2e$mjs__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/clsx/dist/clsx.mjs [app-ssr] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$tailwind$2d$merge$2f$dist$2f$bundle$2d$mjs$2e$mjs__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/tailwind-merge/dist/bundle-mjs.mjs [app-ssr] (ecmascript)");
;
;
function cn(...inputs) {
    return (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$tailwind$2d$merge$2f$dist$2f$bundle$2d$mjs$2e$mjs__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["twMerge"])((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$clsx$2f$dist$2f$clsx$2e$mjs__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["clsx"])(inputs));
}
}),
"[project]/src/components/layout/Sidebar.tsx [app-ssr] (ecmascript)", ((__turbopack_context__) => {
"use strict";

__turbopack_context__.s([
    "default",
    ()=>__TURBOPACK__default__export__
]);
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/next/dist/server/route-modules/app-page/vendored/ssr/react-jsx-dev-runtime.js [app-ssr] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$client$2f$app$2d$dir$2f$link$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/next/dist/client/app-dir/link.js [app-ssr] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$navigation$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/next/navigation.js [app-ssr] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$lucide$2d$react$2f$dist$2f$esm$2f$icons$2f$house$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$export__default__as__Home$3e$__ = __turbopack_context__.i("[project]/node_modules/lucide-react/dist/esm/icons/house.js [app-ssr] (ecmascript) <export default as Home>");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$lucide$2d$react$2f$dist$2f$esm$2f$icons$2f$book$2d$open$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$export__default__as__BookOpen$3e$__ = __turbopack_context__.i("[project]/node_modules/lucide-react/dist/esm/icons/book-open.js [app-ssr] (ecmascript) <export default as BookOpen>");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$lucide$2d$react$2f$dist$2f$esm$2f$icons$2f$message$2d$circle$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$export__default__as__MessageCircle$3e$__ = __turbopack_context__.i("[project]/node_modules/lucide-react/dist/esm/icons/message-circle.js [app-ssr] (ecmascript) <export default as MessageCircle>");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$lucide$2d$react$2f$dist$2f$esm$2f$icons$2f$user$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$export__default__as__User$3e$__ = __turbopack_context__.i("[project]/node_modules/lucide-react/dist/esm/icons/user.js [app-ssr] (ecmascript) <export default as User>");
var __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$lib$2f$utils$2e$ts__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/src/lib/utils.ts [app-ssr] (ecmascript)");
'use client';
;
;
;
;
;
const Sidebar = ()=>{
    const pathname = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$navigation$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["usePathname"])();
    const navItems = [
        {
            href: '/dashboard',
            icon: __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$lucide$2d$react$2f$dist$2f$esm$2f$icons$2f$house$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$export__default__as__Home$3e$__["Home"],
            label: 'Home'
        },
        {
            href: '/courses',
            icon: __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$lucide$2d$react$2f$dist$2f$esm$2f$icons$2f$book$2d$open$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$export__default__as__BookOpen$3e$__["BookOpen"],
            label: 'Courses'
        },
        {
            href: '/social',
            icon: __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$lucide$2d$react$2f$dist$2f$esm$2f$icons$2f$message$2d$circle$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$export__default__as__MessageCircle$3e$__["MessageCircle"],
            label: 'Social'
        },
        {
            href: '/profile',
            icon: __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$lucide$2d$react$2f$dist$2f$esm$2f$icons$2f$user$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$export__default__as__User$3e$__["User"],
            label: 'Profile'
        }
    ];
    return /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
        className: "w-16 bg-sidebar-bg flex flex-col items-center py-4 space-y-6",
        children: /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
            className: "flex-1 flex flex-col items-center space-y-6",
            children: navItems.map((item)=>{
                const Icon = item.icon;
                const isActive = pathname === item.href;
                return /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$client$2f$app$2d$dir$2f$link$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["default"], {
                    href: item.href,
                    className: (0, __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$lib$2f$utils$2e$ts__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["cn"])('p-2 rounded-lg transition-all duration-200 flex items-center justify-center hover-lift', 'text-gray-400 hover:text-accent-primary hover:bg-gray-800', isActive ? 'text-accent-primary bg-gray-800 active-glow' : 'hover:glow-button'),
                    title: item.label,
                    children: /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])(Icon, {
                        size: 24
                    }, void 0, false, {
                        fileName: "[project]/src/components/layout/Sidebar.tsx",
                        lineNumber: 54,
                        columnNumber: 15
                    }, ("TURBOPACK compile-time value", void 0))
                }, item.href, false, {
                    fileName: "[project]/src/components/layout/Sidebar.tsx",
                    lineNumber: 42,
                    columnNumber: 13
                }, ("TURBOPACK compile-time value", void 0));
            })
        }, void 0, false, {
            fileName: "[project]/src/components/layout/Sidebar.tsx",
            lineNumber: 36,
            columnNumber: 7
        }, ("TURBOPACK compile-time value", void 0))
    }, void 0, false, {
        fileName: "[project]/src/components/layout/Sidebar.tsx",
        lineNumber: 35,
        columnNumber: 5
    }, ("TURBOPACK compile-time value", void 0));
};
const __TURBOPACK__default__export__ = Sidebar;
}),
"[project]/src/components/TrialTimer.tsx [app-ssr] (ecmascript)", ((__turbopack_context__) => {
"use strict";

__turbopack_context__.s([
    "default",
    ()=>__TURBOPACK__default__export__
]);
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/next/dist/server/route-modules/app-page/vendored/ssr/react-jsx-dev-runtime.js [app-ssr] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/next/dist/server/route-modules/app-page/vendored/ssr/react.js [app-ssr] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$context$2f$AuthContext$2e$tsx__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/src/context/AuthContext.tsx [app-ssr] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$lucide$2d$react$2f$dist$2f$esm$2f$icons$2f$clock$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$export__default__as__Clock$3e$__ = __turbopack_context__.i("[project]/node_modules/lucide-react/dist/esm/icons/clock.js [app-ssr] (ecmascript) <export default as Clock>");
'use client';
;
;
;
;
const TrialTimer = ()=>{
    const { state } = (0, __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$context$2f$AuthContext$2e$tsx__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["useAuthStore"])();
    const user = state.user;
    const profile = state.profile;
    const [timeLeft, setTimeLeft] = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["useState"])('');
    const [isExpiringSoon, setIsExpiringSoon] = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["useState"])(false);
    (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["useEffect"])(()=>{
        if (!user || !profile?.trial_expires_at || profile.plan !== 'free') {
            return;
        }
        const calculateTimeLeft = ()=>{
            const expiryDate = new Date(profile.trial_expires_at);
            const now = new Date();
            const difference = expiryDate.getTime() - now.getTime();
            if (difference <= 0) {
                setTimeLeft('Trial Expired');
                setIsExpiringSoon(true);
                return;
            }
            const days = Math.floor(difference / (1000 * 60 * 60 * 24));
            const hours = Math.floor(difference % (1000 * 60 * 60 * 24) / (1000 * 60 * 60));
            const minutes = Math.floor(difference % (1000 * 60 * 60) / (1000 * 60));
            const seconds = Math.floor(difference % (1000 * 60) / 1000);
            if (days === 0 && hours === 0 && minutes < 5) {
                setIsExpiringSoon(true);
            } else {
                setIsExpiringSoon(false);
            }
            let timeString = '';
            if (days > 0) {
                timeString += `${days}d `;
            }
            if (hours > 0) {
                timeString += `${hours}h `;
            }
            if (minutes > 0) {
                timeString += `${minutes}m `;
            }
            timeString += `${seconds}s`;
            setTimeLeft(timeString);
        };
        // Calculate immediately
        calculateTimeLeft();
        // Update every second
        const interval = setInterval(calculateTimeLeft, 1000);
        return ()=>clearInterval(interval);
    }, [
        user,
        profile
    ]);
    if (!user || !profile?.trial_expires_at || profile.plan !== 'free') {
        return null;
    }
    return /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
        className: `flex items-center gap-2 px-3 py-1 rounded-full text-sm font-medium ${isExpiringSoon ? 'bg-red-500/20 text-red-400 border border-red-500/30' : 'bg-blue-500/20 text-blue-400 border border-blue-500/30'}`,
        children: [
            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$lucide$2d$react$2f$dist$2f$esm$2f$icons$2f$clock$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$export__default__as__Clock$3e$__["Clock"], {
                size: 16
            }, void 0, false, {
                fileName: "[project]/src/components/TrialTimer.tsx",
                lineNumber: 76,
                columnNumber: 7
            }, ("TURBOPACK compile-time value", void 0)),
            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("span", {
                children: [
                    "Trial: ",
                    timeLeft
                ]
            }, void 0, true, {
                fileName: "[project]/src/components/TrialTimer.tsx",
                lineNumber: 77,
                columnNumber: 7
            }, ("TURBOPACK compile-time value", void 0))
        ]
    }, void 0, true, {
        fileName: "[project]/src/components/TrialTimer.tsx",
        lineNumber: 71,
        columnNumber: 5
    }, ("TURBOPACK compile-time value", void 0));
};
const __TURBOPACK__default__export__ = TrialTimer;
}),
"[project]/src/components/layout/AppShell.tsx [app-ssr] (ecmascript)", ((__turbopack_context__) => {
"use strict";

__turbopack_context__.s([
    "default",
    ()=>__TURBOPACK__default__export__
]);
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/next/dist/server/route-modules/app-page/vendored/ssr/react-jsx-dev-runtime.js [app-ssr] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/next/dist/server/route-modules/app-page/vendored/ssr/react.js [app-ssr] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$context$2f$AuthContext$2e$tsx__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/src/context/AuthContext.tsx [app-ssr] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$components$2f$layout$2f$Sidebar$2e$tsx__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/src/components/layout/Sidebar.tsx [app-ssr] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$components$2f$TrialTimer$2e$tsx__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/src/components/TrialTimer.tsx [app-ssr] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$lib$2f$utils$2e$ts__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/src/lib/utils.ts [app-ssr] (ecmascript)");
'use client';
;
;
;
;
;
;
;
const AppShell = ({ children })=>{
    // BUILD-TIME GUARD: Skip auth checks during static build
    if ("TURBOPACK compile-time truthy", 1) {
        console.log('[AppShell] Skipping auth check during build time');
        return /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
            className: "min-h-screen bg-background",
            children: children
        }, void 0, false, {
            fileName: "[project]/src/components/layout/AppShell.tsx",
            lineNumber: 19,
            columnNumber: 7
        }, ("TURBOPACK compile-time value", void 0));
    }
    //TURBOPACK unreachable
    ;
    const state = undefined;
    const user = undefined;
    const authLoading = undefined;
    const profile = undefined;
    const sidebarOpen = undefined, setSidebarOpen = undefined;
};
const __TURBOPACK__default__export__ = AppShell;
}),
"[project]/src/actions/data:98ab9f [app-ssr] (ecmascript) <text/javascript>", ((__turbopack_context__) => {
"use strict";

__turbopack_context__.s([
    "listCourses",
    ()=>$$RSC_SERVER_ACTION_0
]);
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$build$2f$webpack$2f$loaders$2f$next$2d$flight$2d$loader$2f$action$2d$client$2d$wrapper$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/next/dist/build/webpack/loaders/next-flight-loader/action-client-wrapper.js [app-ssr] (ecmascript)");
/* __next_internal_action_entry_do_not_use__ [{"00c729f0fcb13a9acca85acc69472af5affee8caf1":"listCourses"},"src/actions/courseActions.ts",""] */ "use turbopack no side effects";
;
const $$RSC_SERVER_ACTION_0 = /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$build$2f$webpack$2f$loaders$2f$next$2d$flight$2d$loader$2f$action$2d$client$2d$wrapper$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["createServerReference"])("00c729f0fcb13a9acca85acc69472af5affee8caf1", __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$build$2f$webpack$2f$loaders$2f$next$2d$flight$2d$loader$2f$action$2d$client$2d$wrapper$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["callServer"], void 0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$build$2f$webpack$2f$loaders$2f$next$2d$flight$2d$loader$2f$action$2d$client$2d$wrapper$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["findSourceMapURL"], "listCourses");
;
 //# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4vY291cnNlQWN0aW9ucy50cyJdLCJzb3VyY2VzQ29udGVudCI6WyIndXNlIHNlcnZlcidcclxuXHJcbmltcG9ydCB7IGNvb2tpZXMgfSBmcm9tICduZXh0L2hlYWRlcnMnO1xyXG5pbXBvcnQgeyBjcmVhdGVTZXJ2ZXJDbGllbnQgfSBmcm9tICdAc3VwYWJhc2Uvc3NyJztcclxuaW1wb3J0IHsgcmV2YWxpZGF0ZVBhdGggfSBmcm9tICduZXh0L2NhY2hlJztcclxuaW1wb3J0IHsgcGFyc2VZb3VUdWJlIH0gZnJvbSAnQC9saWIveW91dHViZVBhcnNlcic7XHJcblxyXG4vLyBUeXBlIGRlZmluaXRpb25zXHJcbnR5cGUgQ291cnNlID0ge1xyXG4gIGlkOiBzdHJpbmc7XHJcbiAgdGl0bGU6IHN0cmluZztcclxuICBkZXNjcmlwdGlvbjogc3RyaW5nO1xyXG4gIGlzX3B1Ymxpc2hlZDogYm9vbGVhbjtcclxuICBjcmVhdGVkX2F0OiBzdHJpbmc7XHJcbiAgdXBkYXRlZF9hdDogc3RyaW5nO1xyXG59O1xyXG5cclxudHlwZSBNb2R1bGUgPSB7XHJcbiAgaWQ6IHN0cmluZztcclxuICBjb3Vyc2VfaWQ6IHN0cmluZztcclxuICB0aXRsZTogc3RyaW5nO1xyXG4gIG9yZGVyX2luZGV4OiBudW1iZXI7XHJcbn07XHJcblxyXG50eXBlIExlc3NvbiA9IHtcclxuICBpZDogc3RyaW5nO1xyXG4gIG1vZHVsZV9pZDogc3RyaW5nO1xyXG4gIHRpdGxlOiBzdHJpbmc7XHJcbiAgZGVzY3JpcHRpb246IHN0cmluZztcclxuICBvcmRlcl9pbmRleDogbnVtYmVyO1xyXG4gIHZpZGVvX3Byb3ZpZGVyOiBzdHJpbmc7XHJcbiAgdmlkZW9fdXJsOiBzdHJpbmcgfCBudWxsO1xyXG4gIHlvdXR1YmVfdmlkZW9faWQ6IHN0cmluZyB8IG51bGw7XHJcbiAgaXNfcHJldmlldzogYm9vbGVhbjtcclxuICBpc19wdWJsaXNoZWQ6IGJvb2xlYW47XHJcbiAgY3JlYXRlZF9hdDogc3RyaW5nO1xyXG4gIHVwZGF0ZWRfYXQ6IHN0cmluZztcclxufTtcclxuXHJcbi8vIEhlbHBlciBmdW5jdGlvbiB0byBjcmVhdGUgU3VwYWJhc2UgY2xpZW50IGZvciBzZXJ2ZXIgYWN0aW9uc1xyXG5hc3luYyBmdW5jdGlvbiBjcmVhdGVTdXBhYmFzZUNsaWVudCgpIHtcclxuICBjb25zdCBjb29raWVTdG9yZSA9IGF3YWl0IGNvb2tpZXMoKTtcclxuICByZXR1cm4gY3JlYXRlU2VydmVyQ2xpZW50KFxyXG4gICAgcHJvY2Vzcy5lbnYuTkVYVF9QVUJMSUNfU1VQQUJBU0VfVVJMISxcclxuICAgIHByb2Nlc3MuZW52Lk5FWFRfUFVCTElDX1NVUEFCQVNFX0FOT05fS0VZISxcclxuICAgIHtcclxuICAgICAgY29va2llczoge1xyXG4gICAgICAgIGdldDogKG5hbWU6IHN0cmluZykgPT4ge1xyXG4gICAgICAgICAgY29uc3QgY29va2llID0gY29va2llU3RvcmUuZ2V0KG5hbWUpO1xyXG4gICAgICAgICAgcmV0dXJuIGNvb2tpZSA/IGNvb2tpZS52YWx1ZSA6IHVuZGVmaW5lZDtcclxuICAgICAgICB9LFxyXG4gICAgICB9LFxyXG4gICAgfVxyXG4gICk7XHJcbn1cclxuXHJcbi8vIENoZWNrIGlmIHVzZXIgaXMgYWRtaW5cclxuYXN5bmMgZnVuY3Rpb24gaXNBZG1pbihzdXBhYmFzZTogYW55KTogUHJvbWlzZTxib29sZWFuPiB7XHJcbiAgY29uc3Qge1xyXG4gICAgZGF0YTogeyB1c2VyIH0sXHJcbiAgICBlcnJvcjogdXNlckVycm9yLFxyXG4gIH0gPSBhd2FpdCBzdXBhYmFzZS5hdXRoLmdldFVzZXIoKTtcclxuXHJcbiAgaWYgKHVzZXJFcnJvciB8fCAhdXNlcikge1xyXG4gICAgcmV0dXJuIGZhbHNlO1xyXG4gIH1cclxuXHJcbiAgY29uc3QgeyBkYXRhOiBwcm9maWxlLCBlcnJvcjogcHJvZmlsZUVycm9yIH0gPSBhd2FpdCBzdXBhYmFzZVxyXG4gICAgLmZyb20oJ3Byb2ZpbGVzJylcclxuICAgIC5zZWxlY3QoJ3JvbGUnKVxyXG4gICAgLmVxKCdpZCcsIHVzZXIuaWQpXHJcbiAgICAuc2luZ2xlKCk7XHJcblxyXG4gIGlmIChwcm9maWxlRXJyb3IgfHwgIXByb2ZpbGUpIHtcclxuICAgIHJldHVybiBmYWxzZTtcclxuICB9XHJcblxyXG4gIHJldHVybiBwcm9maWxlLnJvbGUgPT09ICdhZG1pbicgfHwgcHJvZmlsZS5yb2xlID09PSAndGVhY2hlcic7XHJcbn1cclxuXHJcbi8vIENvdXJzZSBBY3Rpb25zXHJcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBsaXN0Q291cnNlcygpOiBQcm9taXNlPHsgZGF0YTogQ291cnNlW10gfCBudWxsOyBlcnJvcjogc3RyaW5nIHwgbnVsbCB9PiB7XHJcbiAgY29uc3Qgc3VwYWJhc2UgPSBhd2FpdCBjcmVhdGVTdXBhYmFzZUNsaWVudCgpO1xyXG4gIFxyXG4gIHRyeSB7XHJcbiAgICAvLyBDaGVjayBhZG1pbiBhY2Nlc3NcclxuICAgIGNvbnN0IGFkbWluQ2hlY2sgPSBhd2FpdCBpc0FkbWluKHN1cGFiYXNlKTtcclxuICAgIGlmICghYWRtaW5DaGVjaykge1xyXG4gICAgICBjb25zb2xlLmxvZygnREVCVUc6IGxpc3RDb3Vyc2VzIC0gQWNjZXNzIGRlbmllZCwgbm90IGFkbWluL3RlYWNoZXInKTtcclxuICAgICAgcmV0dXJuIHsgZGF0YTogbnVsbCwgZXJyb3I6ICdBY2Nlc3MgZGVuaWVkLiBBZG1pbiBvciB0ZWFjaGVyIHJvbGUgcmVxdWlyZWQuJyB9O1xyXG4gICAgfVxyXG4gICAgXHJcbiAgICBjb25zb2xlLmxvZygnREVCVUc6IGxpc3RDb3Vyc2VzIC0gRmV0Y2hpbmcgYWxsIGNvdXJzZXMgZm9yIGFkbWluJyk7XHJcbiAgICBcclxuICAgIGNvbnN0IHsgZGF0YSwgZXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlXHJcbiAgICAgIC5mcm9tKCdjb3Vyc2VzJylcclxuICAgICAgLnNlbGVjdCgnKicpXHJcbiAgICAgIC5vcmRlcignY3JlYXRlZF9hdCcsIHsgYXNjZW5kaW5nOiBmYWxzZSB9KTtcclxuICAgIFxyXG4gICAgY29uc29sZS5sb2coJ0RFQlVHOiBsaXN0Q291cnNlcyAtIFF1ZXJ5IHJlc3VsdDonLCB7IGRhdGE6IGRhdGE/Lmxlbmd0aCwgZXJyb3IgfSk7XHJcbiAgICBcclxuICAgIGlmIChlcnJvcikge1xyXG4gICAgICBjb25zb2xlLmVycm9yKCdERUJVRzogbGlzdENvdXJzZXMgLSBTdXBhYmFzZSBlcnJvcjonLCBlcnJvcik7XHJcbiAgICAgIHJldHVybiB7IGRhdGE6IG51bGwsIGVycm9yOiBlcnJvci5tZXNzYWdlIH07XHJcbiAgICB9XHJcblxyXG4gICAgY29uc29sZS5sb2coJ0RFQlVHOiBsaXN0Q291cnNlcyAtIFJldHVybmluZyBjb3Vyc2VzOicsIGRhdGE/Lmxlbmd0aCk7XHJcbiAgICByZXR1cm4geyBkYXRhLCBlcnJvcjogbnVsbCB9O1xyXG4gIH0gY2F0Y2ggKGVycm9yOiBhbnkpIHtcclxuICAgIGNvbnNvbGUuZXJyb3IoJ0RFQlVHOiBsaXN0Q291cnNlcyAtIEV4Y2VwdGlvbjonLCBlcnJvcik7XHJcbiAgICByZXR1cm4geyBkYXRhOiBudWxsLCBlcnJvcjogZXJyb3IubWVzc2FnZSB9O1xyXG4gIH1cclxufVxyXG5cclxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGNyZWF0ZUNvdXJzZSh0aXRsZTogc3RyaW5nLCBkZXNjcmlwdGlvbjogc3RyaW5nKTogUHJvbWlzZTx7IGRhdGE6IENvdXJzZSB8IG51bGw7IGVycm9yOiBzdHJpbmcgfCBudWxsIH0+IHtcclxuICBjb25zdCBzdXBhYmFzZSA9IGF3YWl0IGNyZWF0ZVN1cGFiYXNlQ2xpZW50KCk7XHJcbiAgXHJcbiAgdHJ5IHtcclxuICAgIC8vIENoZWNrIGFkbWluIGFjY2Vzc1xyXG4gICAgY29uc3QgYWRtaW5DaGVjayA9IGF3YWl0IGlzQWRtaW4oc3VwYWJhc2UpO1xyXG4gICAgaWYgKCFhZG1pbkNoZWNrKSB7XHJcbiAgICAgIGNvbnNvbGUubG9nKCdERUJVRzogY3JlYXRlQ291cnNlIC0gQWNjZXNzIGRlbmllZCwgbm90IGFkbWluL3RlYWNoZXInKTtcclxuICAgICAgcmV0dXJuIHsgZGF0YTogbnVsbCwgZXJyb3I6ICdBY2Nlc3MgZGVuaWVkLiBBZG1pbiBvciB0ZWFjaGVyIHJvbGUgcmVxdWlyZWQuJyB9O1xyXG4gICAgfVxyXG4gICAgXHJcbiAgICBjb25zb2xlLmxvZygnREVCVUc6IGNyZWF0ZUNvdXJzZSAtIENyZWF0aW5nIGNvdXJzZTonLCB7IHRpdGxlLCBkZXNjcmlwdGlvbiB9KTtcclxuXHJcbiAgICBjb25zdCB7IGRhdGEsIGVycm9yIH0gPSBhd2FpdCBzdXBhYmFzZVxyXG4gICAgICAuZnJvbSgnY291cnNlcycpXHJcbiAgICAgIC5pbnNlcnQoW3sgdGl0bGUsIGRlc2NyaXB0aW9uIH1dKVxyXG4gICAgICAuc2VsZWN0KClcclxuICAgICAgLnNpbmdsZSgpO1xyXG4gICAgXHJcbiAgICBjb25zb2xlLmxvZygnREVCVUc6IGNyZWF0ZUNvdXJzZSAtIEluc2VydCByZXN1bHQ6JywgeyBkYXRhOiAhIWRhdGEsIGVycm9yIH0pO1xyXG5cclxuICAgIGlmIChlcnJvcikge1xyXG4gICAgICBjb25zb2xlLmVycm9yKCdERUJVRzogY3JlYXRlQ291cnNlIC0gU3VwYWJhc2UgZXJyb3I6JywgZXJyb3IpO1xyXG4gICAgICByZXR1cm4geyBkYXRhOiBudWxsLCBlcnJvcjogZXJyb3IubWVzc2FnZSB9O1xyXG4gICAgfVxyXG5cclxuICAgIC8vIFJldmFsaWRhdGUgdGhlIGNhY2hlIHRvIGVuc3VyZSBmcm9udGVuZCByZWZsZWN0cyBjaGFuZ2VzXHJcbiAgICByZXZhbGlkYXRlUGF0aCgnL2NvdXJzZXMnKTtcclxuICAgIHJldmFsaWRhdGVQYXRoKCcvZGFzaGJvYXJkJyk7XHJcbiAgICBcclxuICAgIGNvbnNvbGUubG9nKCdERUJVRzogY3JlYXRlQ291cnNlIC0gQ291cnNlIGNyZWF0ZWQgc3VjY2Vzc2Z1bGx5LCBjYWNoZSBpbnZhbGlkYXRlZCcpO1xyXG4gICAgXHJcbiAgICByZXR1cm4geyBkYXRhLCBlcnJvcjogbnVsbCB9O1xyXG4gIH0gY2F0Y2ggKGVycm9yOiBhbnkpIHtcclxuICAgIGNvbnNvbGUuZXJyb3IoJ0RFQlVHOiBjcmVhdGVDb3Vyc2UgLSBFeGNlcHRpb246JywgZXJyb3IpO1xyXG4gICAgcmV0dXJuIHsgZGF0YTogbnVsbCwgZXJyb3I6IGVycm9yLm1lc3NhZ2UgfTtcclxuICB9XHJcbn1cclxuXHJcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiB1cGRhdGVDb3Vyc2UoaWQ6IHN0cmluZywgdXBkYXRlczogUGFydGlhbDxDb3Vyc2U+KTogUHJvbWlzZTx7IGRhdGE6IENvdXJzZSB8IG51bGw7IGVycm9yOiBzdHJpbmcgfCBudWxsIH0+IHtcclxuICBjb25zdCBzdXBhYmFzZSA9IGF3YWl0IGNyZWF0ZVN1cGFiYXNlQ2xpZW50KCk7XHJcbiAgXHJcbiAgdHJ5IHtcclxuICAgIC8vIENoZWNrIGFkbWluIGFjY2Vzc1xyXG4gICAgY29uc3QgYWRtaW5DaGVjayA9IGF3YWl0IGlzQWRtaW4oc3VwYWJhc2UpO1xyXG4gICAgaWYgKCFhZG1pbkNoZWNrKSB7XHJcbiAgICAgIHJldHVybiB7IGRhdGE6IG51bGwsIGVycm9yOiAnQWNjZXNzIGRlbmllZC4gQWRtaW4gb3IgdGVhY2hlciByb2xlIHJlcXVpcmVkLicgfTtcclxuICAgIH1cclxuXHJcbiAgICBjb25zdCB7IGRhdGEsIGVycm9yIH0gPSBhd2FpdCBzdXBhYmFzZVxyXG4gICAgICAuZnJvbSgnY291cnNlcycpXHJcbiAgICAgIC51cGRhdGUodXBkYXRlcylcclxuICAgICAgLmVxKCdpZCcsIGlkKVxyXG4gICAgICAuc2VsZWN0KClcclxuICAgICAgLnNpbmdsZSgpO1xyXG5cclxuICAgIGlmIChlcnJvcikge1xyXG4gICAgICByZXR1cm4geyBkYXRhOiBudWxsLCBlcnJvcjogZXJyb3IubWVzc2FnZSB9O1xyXG4gICAgfVxyXG5cclxuICAgIC8vIFJldmFsaWRhdGUgdGhlIGNhY2hlIHRvIGVuc3VyZSBmcm9udGVuZCByZWZsZWN0cyBjaGFuZ2VzXHJcbiAgICByZXZhbGlkYXRlUGF0aCgnL2NvdXJzZXMnKTtcclxuICAgIHJldmFsaWRhdGVQYXRoKCcvZGFzaGJvYXJkJyk7XHJcbiAgICBcclxuICAgIHJldHVybiB7IGRhdGEsIGVycm9yOiBudWxsIH07XHJcbiAgfSBjYXRjaCAoZXJyb3I6IGFueSkge1xyXG4gICAgcmV0dXJuIHsgZGF0YTogbnVsbCwgZXJyb3I6IGVycm9yLm1lc3NhZ2UgfTtcclxuICB9XHJcbn1cclxuXHJcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBkZWxldGVDb3Vyc2UoaWQ6IHN0cmluZyk6IFByb21pc2U8eyBlcnJvcjogc3RyaW5nIHwgbnVsbCB9PiB7XHJcbiAgY29uc3Qgc3VwYWJhc2UgPSBhd2FpdCBjcmVhdGVTdXBhYmFzZUNsaWVudCgpO1xyXG4gIFxyXG4gIHRyeSB7XHJcbiAgICAvLyBDaGVjayBhZG1pbiBhY2Nlc3NcclxuICAgIGNvbnN0IGFkbWluQ2hlY2sgPSBhd2FpdCBpc0FkbWluKHN1cGFiYXNlKTtcclxuICAgIGlmICghYWRtaW5DaGVjaykge1xyXG4gICAgICByZXR1cm4geyBlcnJvcjogJ0FjY2VzcyBkZW5pZWQuIEFkbWluIG9yIHRlYWNoZXIgcm9sZSByZXF1aXJlZC4nIH07XHJcbiAgICB9XHJcblxyXG4gICAgY29uc3QgeyBlcnJvciB9ID0gYXdhaXQgc3VwYWJhc2VcclxuICAgICAgLmZyb20oJ2NvdXJzZXMnKVxyXG4gICAgICAuZGVsZXRlKClcclxuICAgICAgLmVxKCdpZCcsIGlkKTtcclxuXHJcbiAgICBpZiAoZXJyb3IpIHtcclxuICAgICAgcmV0dXJuIHsgZXJyb3I6IGVycm9yLm1lc3NhZ2UgfTtcclxuICAgIH1cclxuXHJcbiAgICAvLyBSZXZhbGlkYXRlIHRoZSBjYWNoZSB0byBlbnN1cmUgZnJvbnRlbmQgcmVmbGVjdHMgY2hhbmdlc1xyXG4gICAgcmV2YWxpZGF0ZVBhdGgoJy9jb3Vyc2VzJyk7XHJcbiAgICByZXZhbGlkYXRlUGF0aCgnL2Rhc2hib2FyZCcpO1xyXG4gICAgXHJcbiAgICByZXR1cm4geyBlcnJvcjogbnVsbCB9O1xyXG4gIH0gY2F0Y2ggKGVycm9yOiBhbnkpIHtcclxuICAgIHJldHVybiB7IGVycm9yOiBlcnJvci5tZXNzYWdlIH07XHJcbiAgfVxyXG59XHJcblxyXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gcHVibGlzaENvdXJzZShpZDogc3RyaW5nLCBpc1B1Ymxpc2hlZDogYm9vbGVhbik6IFByb21pc2U8eyBkYXRhOiBDb3Vyc2UgfCBudWxsOyBlcnJvcjogc3RyaW5nIHwgbnVsbCB9PiB7XHJcbiAgY29uc3Qgc3VwYWJhc2UgPSBhd2FpdCBjcmVhdGVTdXBhYmFzZUNsaWVudCgpO1xyXG4gIFxyXG4gIHRyeSB7XHJcbiAgICAvLyBDaGVjayBhZG1pbiBhY2Nlc3NcclxuICAgIGNvbnN0IGFkbWluQ2hlY2sgPSBhd2FpdCBpc0FkbWluKHN1cGFiYXNlKTtcclxuICAgIGlmICghYWRtaW5DaGVjaykge1xyXG4gICAgICByZXR1cm4geyBkYXRhOiBudWxsLCBlcnJvcjogJ0FjY2VzcyBkZW5pZWQuIEFkbWluIG9yIHRlYWNoZXIgcm9sZSByZXF1aXJlZC4nIH07XHJcbiAgICB9XHJcblxyXG4gICAgY29uc3QgeyBkYXRhLCBlcnJvciB9ID0gYXdhaXQgc3VwYWJhc2VcclxuICAgICAgLmZyb20oJ2NvdXJzZXMnKVxyXG4gICAgICAudXBkYXRlKHsgaXNfcHVibGlzaGVkOiBpc1B1Ymxpc2hlZCB9KVxyXG4gICAgICAuZXEoJ2lkJywgaWQpXHJcbiAgICAgIC5zZWxlY3QoKVxyXG4gICAgICAuc2luZ2xlKCk7XHJcblxyXG4gICAgaWYgKGVycm9yKSB7XHJcbiAgICAgIHJldHVybiB7IGRhdGE6IG51bGwsIGVycm9yOiBlcnJvci5tZXNzYWdlIH07XHJcbiAgICB9XHJcblxyXG4gICAgLy8gUmV2YWxpZGF0ZSB0aGUgY2FjaGUgdG8gZW5zdXJlIGZyb250ZW5kIHJlZmxlY3RzIGNoYW5nZXNcclxuICAgIHJldmFsaWRhdGVQYXRoKCcvY291cnNlcycpO1xyXG4gICAgcmV2YWxpZGF0ZVBhdGgoJy9kYXNoYm9hcmQnKTtcclxuICAgIFxyXG4gICAgcmV0dXJuIHsgZGF0YSwgZXJyb3I6IG51bGwgfTtcclxuICB9IGNhdGNoIChlcnJvcjogYW55KSB7XHJcbiAgICByZXR1cm4geyBkYXRhOiBudWxsLCBlcnJvcjogZXJyb3IubWVzc2FnZSB9O1xyXG4gIH1cclxufVxyXG5cclxuLy8gTW9kdWxlIEFjdGlvbnNcclxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGxpc3RNb2R1bGVzKGNvdXJzZUlkOiBzdHJpbmcpOiBQcm9taXNlPHsgZGF0YTogTW9kdWxlW10gfCBudWxsOyBlcnJvcjogc3RyaW5nIHwgbnVsbCB9PiB7XHJcbiAgY29uc3Qgc3VwYWJhc2UgPSBhd2FpdCBjcmVhdGVTdXBhYmFzZUNsaWVudCgpO1xyXG4gIFxyXG4gIHRyeSB7XHJcbiAgICAvLyBDaGVjayBhZG1pbiBhY2Nlc3NcclxuICAgIGNvbnN0IGFkbWluQ2hlY2sgPSBhd2FpdCBpc0FkbWluKHN1cGFiYXNlKTtcclxuICAgIGlmICghYWRtaW5DaGVjaykge1xyXG4gICAgICByZXR1cm4geyBkYXRhOiBudWxsLCBlcnJvcjogJ0FjY2VzcyBkZW5pZWQuIEFkbWluIG9yIHRlYWNoZXIgcm9sZSByZXF1aXJlZC4nIH07XHJcbiAgICB9XHJcblxyXG4gICAgY29uc3QgeyBkYXRhLCBlcnJvciB9ID0gYXdhaXQgc3VwYWJhc2VcclxuICAgICAgLmZyb20oJ21vZHVsZXMnKVxyXG4gICAgICAuc2VsZWN0KCcqJylcclxuICAgICAgLmVxKCdjb3Vyc2VfaWQnLCBjb3Vyc2VJZClcclxuICAgICAgLm9yZGVyKCdvcmRlcl9pbmRleCcsIHsgYXNjZW5kaW5nOiB0cnVlIH0pO1xyXG5cclxuICAgIGlmIChlcnJvcikge1xyXG4gICAgICByZXR1cm4geyBkYXRhOiBudWxsLCBlcnJvcjogZXJyb3IubWVzc2FnZSB9O1xyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiB7IGRhdGEsIGVycm9yOiBudWxsIH07XHJcbiAgfSBjYXRjaCAoZXJyb3I6IGFueSkge1xyXG4gICAgcmV0dXJuIHsgZGF0YTogbnVsbCwgZXJyb3I6IGVycm9yLm1lc3NhZ2UgfTtcclxuICB9XHJcbn1cclxuXHJcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBjcmVhdGVNb2R1bGUoY291cnNlSWQ6IHN0cmluZywgdGl0bGU6IHN0cmluZyk6IFByb21pc2U8eyBkYXRhOiBNb2R1bGUgfCBudWxsOyBlcnJvcjogc3RyaW5nIHwgbnVsbCB9PiB7XHJcbiAgY29uc3Qgc3VwYWJhc2UgPSBhd2FpdCBjcmVhdGVTdXBhYmFzZUNsaWVudCgpO1xyXG4gIFxyXG4gIHRyeSB7XHJcbiAgICAvLyBDaGVjayBhZG1pbiBhY2Nlc3NcclxuICAgIGNvbnN0IGFkbWluQ2hlY2sgPSBhd2FpdCBpc0FkbWluKHN1cGFiYXNlKTtcclxuICAgIGlmICghYWRtaW5DaGVjaykge1xyXG4gICAgICByZXR1cm4geyBkYXRhOiBudWxsLCBlcnJvcjogJ0FjY2VzcyBkZW5pZWQuIEFkbWluIG9yIHRlYWNoZXIgcm9sZSByZXF1aXJlZC4nIH07XHJcbiAgICB9XHJcblxyXG4gICAgLy8gR2V0IHRoZSBoaWdoZXN0IG9yZGVyX2luZGV4IHRvIGRldGVybWluZSB0aGUgbmV3IHBvc2l0aW9uXHJcbiAgICBjb25zdCB7IGRhdGE6IGV4aXN0aW5nTW9kdWxlcyB9ID0gYXdhaXQgc3VwYWJhc2VcclxuICAgICAgLmZyb20oJ21vZHVsZXMnKVxyXG4gICAgICAuc2VsZWN0KCdvcmRlcl9pbmRleCcpXHJcbiAgICAgIC5lcSgnY291cnNlX2lkJywgY291cnNlSWQpXHJcbiAgICAgIC5vcmRlcignb3JkZXJfaW5kZXgnLCB7IGFzY2VuZGluZzogZmFsc2UgfSlcclxuICAgICAgLmxpbWl0KDEpO1xyXG5cclxuICAgIGNvbnN0IG5ld09yZGVySW5kZXggPSBleGlzdGluZ01vZHVsZXMgJiYgZXhpc3RpbmdNb2R1bGVzLmxlbmd0aCA+IDAgXHJcbiAgICAgID8gZXhpc3RpbmdNb2R1bGVzWzBdLm9yZGVyX2luZGV4ICsgMTAgXHJcbiAgICAgIDogMDtcclxuXHJcbiAgICBjb25zdCB7IGRhdGEsIGVycm9yIH0gPSBhd2FpdCBzdXBhYmFzZVxyXG4gICAgICAuZnJvbSgnbW9kdWxlcycpXHJcbiAgICAgIC5pbnNlcnQoW3sgY291cnNlX2lkOiBjb3Vyc2VJZCwgdGl0bGUsIG9yZGVyX2luZGV4OiBuZXdPcmRlckluZGV4IH1dKVxyXG4gICAgICAuc2VsZWN0KClcclxuICAgICAgLnNpbmdsZSgpO1xyXG5cclxuICAgIGlmIChlcnJvcikge1xyXG4gICAgICByZXR1cm4geyBkYXRhOiBudWxsLCBlcnJvcjogZXJyb3IubWVzc2FnZSB9O1xyXG4gICAgfVxyXG5cclxuICAgIC8vIFJldmFsaWRhdGUgdGhlIGNhY2hlIHRvIGVuc3VyZSBmcm9udGVuZCByZWZsZWN0cyBjaGFuZ2VzXHJcbiAgICByZXZhbGlkYXRlUGF0aCgnL2NvdXJzZXMnKTtcclxuICAgIHJldmFsaWRhdGVQYXRoKCcvZGFzaGJvYXJkJyk7XHJcbiAgICBcclxuICAgIHJldHVybiB7IGRhdGEsIGVycm9yOiBudWxsIH07XHJcbiAgfSBjYXRjaCAoZXJyb3I6IGFueSkge1xyXG4gICAgcmV0dXJuIHsgZGF0YTogbnVsbCwgZXJyb3I6IGVycm9yLm1lc3NhZ2UgfTtcclxuICB9XHJcbn1cclxuXHJcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiB1cGRhdGVNb2R1bGUoaWQ6IHN0cmluZywgdXBkYXRlczogUGFydGlhbDxNb2R1bGU+KTogUHJvbWlzZTx7IGRhdGE6IE1vZHVsZSB8IG51bGw7IGVycm9yOiBzdHJpbmcgfCBudWxsIH0+IHtcclxuICBjb25zdCBzdXBhYmFzZSA9IGF3YWl0IGNyZWF0ZVN1cGFiYXNlQ2xpZW50KCk7XHJcbiAgXHJcbiAgdHJ5IHtcclxuICAgIC8vIENoZWNrIGFkbWluIGFjY2Vzc1xyXG4gICAgY29uc3QgYWRtaW5DaGVjayA9IGF3YWl0IGlzQWRtaW4oc3VwYWJhc2UpO1xyXG4gICAgaWYgKCFhZG1pbkNoZWNrKSB7XHJcbiAgICAgIHJldHVybiB7IGRhdGE6IG51bGwsIGVycm9yOiAnQWNjZXNzIGRlbmllZC4gQWRtaW4gb3IgdGVhY2hlciByb2xlIHJlcXVpcmVkLicgfTtcclxuICAgIH1cclxuXHJcbiAgICBjb25zdCB7IGRhdGEsIGVycm9yIH0gPSBhd2FpdCBzdXBhYmFzZVxyXG4gICAgICAuZnJvbSgnbW9kdWxlcycpXHJcbiAgICAgIC51cGRhdGUodXBkYXRlcylcclxuICAgICAgLmVxKCdpZCcsIGlkKVxyXG4gICAgICAuc2VsZWN0KClcclxuICAgICAgLnNpbmdsZSgpO1xyXG5cclxuICAgIGlmIChlcnJvcikge1xyXG4gICAgICByZXR1cm4geyBkYXRhOiBudWxsLCBlcnJvcjogZXJyb3IubWVzc2FnZSB9O1xyXG4gICAgfVxyXG5cclxuICAgIC8vIFJldmFsaWRhdGUgdGhlIGNhY2hlIHRvIGVuc3VyZSBmcm9udGVuZCByZWZsZWN0cyBjaGFuZ2VzXHJcbiAgICByZXZhbGlkYXRlUGF0aCgnL2NvdXJzZXMnKTtcclxuICAgIHJldmFsaWRhdGVQYXRoKCcvZGFzaGJvYXJkJyk7XHJcbiAgICBcclxuICAgIHJldHVybiB7IGRhdGEsIGVycm9yOiBudWxsIH07XHJcbiAgfSBjYXRjaCAoZXJyb3I6IGFueSkge1xyXG4gICAgcmV0dXJuIHsgZGF0YTogbnVsbCwgZXJyb3I6IGVycm9yLm1lc3NhZ2UgfTtcclxuICB9XHJcbn1cclxuXHJcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBkZWxldGVNb2R1bGUoaWQ6IHN0cmluZyk6IFByb21pc2U8eyBlcnJvcjogc3RyaW5nIHwgbnVsbCB9PiB7XHJcbiAgY29uc3Qgc3VwYWJhc2UgPSBhd2FpdCBjcmVhdGVTdXBhYmFzZUNsaWVudCgpO1xyXG4gIFxyXG4gIHRyeSB7XHJcbiAgICAvLyBDaGVjayBhZG1pbiBhY2Nlc3NcclxuICAgIGNvbnN0IGFkbWluQ2hlY2sgPSBhd2FpdCBpc0FkbWluKHN1cGFiYXNlKTtcclxuICAgIGlmICghYWRtaW5DaGVjaykge1xyXG4gICAgICByZXR1cm4geyBlcnJvcjogJ0FjY2VzcyBkZW5pZWQuIEFkbWluIG9yIHRlYWNoZXIgcm9sZSByZXF1aXJlZC4nIH07XHJcbiAgICB9XHJcblxyXG4gICAgY29uc3QgeyBlcnJvciB9ID0gYXdhaXQgc3VwYWJhc2VcclxuICAgICAgLmZyb20oJ21vZHVsZXMnKVxyXG4gICAgICAuZGVsZXRlKClcclxuICAgICAgLmVxKCdpZCcsIGlkKTtcclxuXHJcbiAgICBpZiAoZXJyb3IpIHtcclxuICAgICAgcmV0dXJuIHsgZXJyb3I6IGVycm9yLm1lc3NhZ2UgfTtcclxuICAgIH1cclxuXHJcbiAgICAvLyBSZXZhbGlkYXRlIHRoZSBjYWNoZSB0byBlbnN1cmUgZnJvbnRlbmQgcmVmbGVjdHMgY2hhbmdlc1xyXG4gICAgcmV2YWxpZGF0ZVBhdGgoJy9jb3Vyc2VzJyk7XHJcbiAgICByZXZhbGlkYXRlUGF0aCgnL2Rhc2hib2FyZCcpO1xyXG4gICAgXHJcbiAgICByZXR1cm4geyBlcnJvcjogbnVsbCB9O1xyXG4gIH0gY2F0Y2ggKGVycm9yOiBhbnkpIHtcclxuICAgIHJldHVybiB7IGVycm9yOiBlcnJvci5tZXNzYWdlIH07XHJcbiAgfVxyXG59XHJcblxyXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gcmVvcmRlck1vZHVsZXMoY291cnNlSWQ6IHN0cmluZywgbW9kdWxlSWRzOiBzdHJpbmdbXSk6IFByb21pc2U8eyBlcnJvcjogc3RyaW5nIHwgbnVsbCB9PiB7XHJcbiAgY29uc3Qgc3VwYWJhc2UgPSBhd2FpdCBjcmVhdGVTdXBhYmFzZUNsaWVudCgpO1xyXG4gIFxyXG4gIHRyeSB7XHJcbiAgICAvLyBDaGVjayBhZG1pbiBhY2Nlc3NcclxuICAgIGNvbnN0IGFkbWluQ2hlY2sgPSBhd2FpdCBpc0FkbWluKHN1cGFiYXNlKTtcclxuICAgIGlmICghYWRtaW5DaGVjaykge1xyXG4gICAgICByZXR1cm4geyBlcnJvcjogJ0FjY2VzcyBkZW5pZWQuIEFkbWluIG9yIHRlYWNoZXIgcm9sZSByZXF1aXJlZC4nIH07XHJcbiAgICB9XHJcblxyXG4gICAgLy8gVXBkYXRlIGFsbCBtb2R1bGVzIHdpdGggdGhlaXIgbmV3IHBvc2l0aW9ucyBpbiBhIHNpbmdsZSB0cmFuc2FjdGlvblxyXG4gICAgY29uc3QgdXBkYXRlcyA9IG1vZHVsZUlkcy5tYXAoKGlkLCBpbmRleCkgPT4gKHtcclxuICAgICAgaWQsXHJcbiAgICAgIG9yZGVyX2luZGV4OiBpbmRleCAqIDEwIC8vIFVzZSBpbmNyZW1lbnRzIG9mIDEwIHRvIGFsbG93IGZvciBmdXR1cmUgaW5zZXJ0aW9ucyBiZXR3ZWVuIGl0ZW1zXHJcbiAgICB9KSk7XHJcblxyXG4gICAgLy8gUGVyZm9ybSB1cGRhdGVzIGluIGEgYmF0Y2hcclxuICAgIGZvciAoY29uc3QgdXBkYXRlIG9mIHVwZGF0ZXMpIHtcclxuICAgICAgY29uc3QgeyBlcnJvciB9ID0gYXdhaXQgc3VwYWJhc2VcclxuICAgICAgICAuZnJvbSgnbW9kdWxlcycpXHJcbiAgICAgICAgLnVwZGF0ZSh7IG9yZGVyX2luZGV4OiB1cGRhdGUub3JkZXJfaW5kZXggfSlcclxuICAgICAgICAuZXEoJ2lkJywgdXBkYXRlLmlkKVxyXG4gICAgICAgIC5lcSgnY291cnNlX2lkJywgY291cnNlSWQpOyAvLyBBZGRpdGlvbmFsIHNhZmV0eSBjaGVja1xyXG5cclxuICAgICAgaWYgKGVycm9yKSB7XHJcbiAgICAgICAgcmV0dXJuIHsgZXJyb3I6IGVycm9yLm1lc3NhZ2UgfTtcclxuICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8vIFJldmFsaWRhdGUgdGhlIGNhY2hlIHRvIGVuc3VyZSBmcm9udGVuZCByZWZsZWN0cyBjaGFuZ2VzXHJcbiAgICByZXZhbGlkYXRlUGF0aCgnL2NvdXJzZXMnKTtcclxuICAgIHJldmFsaWRhdGVQYXRoKCcvZGFzaGJvYXJkJyk7XHJcbiAgICBcclxuICAgIHJldHVybiB7IGVycm9yOiBudWxsIH07XHJcbiAgfSBjYXRjaCAoZXJyb3I6IGFueSkge1xyXG4gICAgcmV0dXJuIHsgZXJyb3I6IGVycm9yLm1lc3NhZ2UgfTtcclxuICB9XHJcbn1cclxuXHJcbi8vIExlc3NvbiBBY3Rpb25zXHJcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBsaXN0TGVzc29ucyhtb2R1bGVJZDogc3RyaW5nKTogUHJvbWlzZTx7IGRhdGE6IExlc3NvbltdIHwgbnVsbDsgZXJyb3I6IHN0cmluZyB8IG51bGwgfT4ge1xyXG4gIGNvbnN0IHN1cGFiYXNlID0gYXdhaXQgY3JlYXRlU3VwYWJhc2VDbGllbnQoKTtcclxuICBcclxuICB0cnkge1xyXG4gICAgLy8gQ2hlY2sgYWRtaW4gYWNjZXNzXHJcbiAgICBjb25zdCBhZG1pbkNoZWNrID0gYXdhaXQgaXNBZG1pbihzdXBhYmFzZSk7XHJcbiAgICBpZiAoIWFkbWluQ2hlY2spIHtcclxuICAgICAgcmV0dXJuIHsgZGF0YTogbnVsbCwgZXJyb3I6ICdBY2Nlc3MgZGVuaWVkLiBBZG1pbiBvciB0ZWFjaGVyIHJvbGUgcmVxdWlyZWQuJyB9O1xyXG4gICAgfVxyXG5cclxuICAgIGNvbnN0IHsgZGF0YSwgZXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlXHJcbiAgICAgIC5mcm9tKCdsZXNzb25zJylcclxuICAgICAgLnNlbGVjdCgnKicpXHJcbiAgICAgIC5lcSgnbW9kdWxlX2lkJywgbW9kdWxlSWQpXHJcbiAgICAgIC5vcmRlcignb3JkZXJfaW5kZXgnLCB7IGFzY2VuZGluZzogdHJ1ZSB9KTtcclxuXHJcbiAgICBpZiAoZXJyb3IpIHtcclxuICAgICAgcmV0dXJuIHsgZGF0YTogbnVsbCwgZXJyb3I6IGVycm9yLm1lc3NhZ2UgfTtcclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4geyBkYXRhLCBlcnJvcjogbnVsbCB9O1xyXG4gIH0gY2F0Y2ggKGVycm9yOiBhbnkpIHtcclxuICAgIHJldHVybiB7IGRhdGE6IG51bGwsIGVycm9yOiBlcnJvci5tZXNzYWdlIH07XHJcbiAgfVxyXG59XHJcblxyXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gY3JlYXRlTGVzc29uKFxyXG4gIG1vZHVsZUlkOiBzdHJpbmcsIFxyXG4gIHRpdGxlOiBzdHJpbmcsIFxyXG4gIGRlc2NyaXB0aW9uOiBzdHJpbmcsIFxyXG4gIHlvdXR1YmVVcmw6IHN0cmluZ1xyXG4pOiBQcm9taXNlPHsgZGF0YTogTGVzc29uIHwgbnVsbDsgZXJyb3I6IHN0cmluZyB8IG51bGwgfT4ge1xyXG4gIGNvbnN0IHN1cGFiYXNlID0gYXdhaXQgY3JlYXRlU3VwYWJhc2VDbGllbnQoKTtcclxuICBcclxuICB0cnkge1xyXG4gICAgLy8gQ2hlY2sgYWRtaW4gYWNjZXNzXHJcbiAgICBjb25zdCBhZG1pbkNoZWNrID0gYXdhaXQgaXNBZG1pbihzdXBhYmFzZSk7XHJcbiAgICBpZiAoIWFkbWluQ2hlY2spIHtcclxuICAgICAgcmV0dXJuIHsgZGF0YTogbnVsbCwgZXJyb3I6ICdBY2Nlc3MgZGVuaWVkLiBBZG1pbiBvciB0ZWFjaGVyIHJvbGUgcmVxdWlyZWQuJyB9O1xyXG4gICAgfVxyXG5cclxuICAgIC8vIFBhcnNlIHRoZSBZb3VUdWJlIFVSTFxyXG4gICAgY29uc3QgcGFyc2VkID0gcGFyc2VZb3VUdWJlKHlvdXR1YmVVcmwpO1xyXG4gICAgaWYgKHBhcnNlZC5lcnJvcikge1xyXG4gICAgICByZXR1cm4geyBkYXRhOiBudWxsLCBlcnJvcjogcGFyc2VkLmVycm9yIH07XHJcbiAgICB9XHJcblxyXG4gICAgLy8gR2V0IHRoZSBoaWdoZXN0IG9yZGVyX2luZGV4IHRvIGRldGVybWluZSB0aGUgbmV3IHBvc2l0aW9uXHJcbiAgICBjb25zdCB7IGRhdGE6IGV4aXN0aW5nTGVzc29ucyB9ID0gYXdhaXQgc3VwYWJhc2VcclxuICAgICAgLmZyb20oJ2xlc3NvbnMnKVxyXG4gICAgICAuc2VsZWN0KCdvcmRlcl9pbmRleCcpXHJcbiAgICAgIC5lcSgnbW9kdWxlX2lkJywgbW9kdWxlSWQpXHJcbiAgICAgIC5vcmRlcignb3JkZXJfaW5kZXgnLCB7IGFzY2VuZGluZzogZmFsc2UgfSlcclxuICAgICAgLmxpbWl0KDEpO1xyXG5cclxuICAgIGNvbnN0IG5ld09yZGVySW5kZXggPSBleGlzdGluZ0xlc3NvbnMgJiYgZXhpc3RpbmdMZXNzb25zLmxlbmd0aCA+IDAgXHJcbiAgICAgID8gZXhpc3RpbmdMZXNzb25zWzBdLm9yZGVyX2luZGV4ICsgMTAgXHJcbiAgICAgIDogMDtcclxuXHJcbiAgICBjb25zdCB7IGRhdGEsIGVycm9yIH0gPSBhd2FpdCBzdXBhYmFzZVxyXG4gICAgICAuZnJvbSgnbGVzc29ucycpXHJcbiAgICAgIC5pbnNlcnQoW3tcclxuICAgICAgICBtb2R1bGVfaWQ6IG1vZHVsZUlkLFxyXG4gICAgICAgIHRpdGxlLFxyXG4gICAgICAgIGRlc2NyaXB0aW9uLFxyXG4gICAgICAgIHlvdXR1YmVfdmlkZW9faWQ6IHBhcnNlZC52aWRlb0lkLFxyXG4gICAgICAgIHZpZGVvX3VybDogcGFyc2VkLmVtYmVkVXJsLFxyXG4gICAgICAgIG9yZGVyX2luZGV4OiBuZXdPcmRlckluZGV4LFxyXG4gICAgICAgIGlzX3ByZXZpZXc6IGZhbHNlLFxyXG4gICAgICAgIGlzX3B1Ymxpc2hlZDogdHJ1ZVxyXG4gICAgICB9XSlcclxuICAgICAgLnNlbGVjdCgpXHJcbiAgICAgIC5zaW5nbGUoKTtcclxuXHJcbiAgICBpZiAoZXJyb3IpIHtcclxuICAgICAgcmV0dXJuIHsgZGF0YTogbnVsbCwgZXJyb3I6IGVycm9yLm1lc3NhZ2UgfTtcclxuICAgIH1cclxuXHJcbiAgICAvLyBSZXZhbGlkYXRlIHRoZSBjYWNoZSB0byBlbnN1cmUgZnJvbnRlbmQgcmVmbGVjdHMgY2hhbmdlc1xyXG4gICAgcmV2YWxpZGF0ZVBhdGgoJy9jb3Vyc2VzJyk7XHJcbiAgICByZXZhbGlkYXRlUGF0aCgnL2Rhc2hib2FyZCcpO1xyXG4gICAgXHJcbiAgICByZXR1cm4geyBkYXRhLCBlcnJvcjogbnVsbCB9O1xyXG4gIH0gY2F0Y2ggKGVycm9yOiBhbnkpIHtcclxuICAgIHJldHVybiB7IGRhdGE6IG51bGwsIGVycm9yOiBlcnJvci5tZXNzYWdlIH07XHJcbiAgfVxyXG59XHJcblxyXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gdXBkYXRlTGVzc29uKFxyXG4gIGlkOiBzdHJpbmcsIFxyXG4gIHVwZGF0ZXM6IFBhcnRpYWw8T21pdDxMZXNzb24sICdpZCcgfCAnbW9kdWxlX2lkJyB8ICdjcmVhdGVkX2F0JyB8ICd1cGRhdGVkX2F0Jz4+XHJcbik6IFByb21pc2U8eyBkYXRhOiBMZXNzb24gfCBudWxsOyBlcnJvcjogc3RyaW5nIHwgbnVsbCB9PiB7XHJcbiAgY29uc3Qgc3VwYWJhc2UgPSBhd2FpdCBjcmVhdGVTdXBhYmFzZUNsaWVudCgpO1xyXG4gIFxyXG4gIHRyeSB7XHJcbiAgICAvLyBDaGVjayBhZG1pbiBhY2Nlc3NcclxuICAgIGNvbnN0IGFkbWluQ2hlY2sgPSBhd2FpdCBpc0FkbWluKHN1cGFiYXNlKTtcclxuICAgIGlmICghYWRtaW5DaGVjaykge1xyXG4gICAgICByZXR1cm4geyBkYXRhOiBudWxsLCBlcnJvcjogJ0FjY2VzcyBkZW5pZWQuIEFkbWluIG9yIHRlYWNoZXIgcm9sZSByZXF1aXJlZC4nIH07XHJcbiAgICB9XHJcblxyXG4gICAgLy8gSWYgdXBkYXRpbmcgWW91VHViZSBVUkwsIHBhcnNlIGl0IGZpcnN0XHJcbiAgICBpZiAodXBkYXRlcy52aWRlb191cmwpIHtcclxuICAgICAgY29uc3QgcGFyc2VkID0gcGFyc2VZb3VUdWJlKHVwZGF0ZXMudmlkZW9fdXJsKTtcclxuICAgICAgaWYgKHBhcnNlZC5lcnJvcikge1xyXG4gICAgICAgIHJldHVybiB7IGRhdGE6IG51bGwsIGVycm9yOiBwYXJzZWQuZXJyb3IgfTtcclxuICAgICAgfVxyXG4gICAgICB1cGRhdGVzLnlvdXR1YmVfdmlkZW9faWQgPSBwYXJzZWQudmlkZW9JZDtcclxuICAgICAgdXBkYXRlcy52aWRlb191cmwgPSBwYXJzZWQuZW1iZWRVcmw7XHJcbiAgICB9XHJcblxyXG4gICAgY29uc3QgeyBkYXRhLCBlcnJvciB9ID0gYXdhaXQgc3VwYWJhc2VcclxuICAgICAgLmZyb20oJ2xlc3NvbnMnKVxyXG4gICAgICAudXBkYXRlKHVwZGF0ZXMpXHJcbiAgICAgIC5lcSgnaWQnLCBpZClcclxuICAgICAgLnNlbGVjdCgpXHJcbiAgICAgIC5zaW5nbGUoKTtcclxuXHJcbiAgICBpZiAoZXJyb3IpIHtcclxuICAgICAgcmV0dXJuIHsgZGF0YTogbnVsbCwgZXJyb3I6IGVycm9yLm1lc3NhZ2UgfTtcclxuICAgIH1cclxuXHJcbiAgICAvLyBSZXZhbGlkYXRlIHRoZSBjYWNoZSB0byBlbnN1cmUgZnJvbnRlbmQgcmVmbGVjdHMgY2hhbmdlc1xyXG4gICAgcmV2YWxpZGF0ZVBhdGgoJy9jb3Vyc2VzJyk7XHJcbiAgICByZXZhbGlkYXRlUGF0aCgnL2Rhc2hib2FyZCcpO1xyXG4gICAgXHJcbiAgICByZXR1cm4geyBkYXRhLCBlcnJvcjogbnVsbCB9O1xyXG4gIH0gY2F0Y2ggKGVycm9yOiBhbnkpIHtcclxuICAgIHJldHVybiB7IGRhdGE6IG51bGwsIGVycm9yOiBlcnJvci5tZXNzYWdlIH07XHJcbiAgfVxyXG59XHJcblxyXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZGVsZXRlTGVzc29uKGlkOiBzdHJpbmcpOiBQcm9taXNlPHsgZXJyb3I6IHN0cmluZyB8IG51bGwgfT4ge1xyXG4gIGNvbnN0IHN1cGFiYXNlID0gYXdhaXQgY3JlYXRlU3VwYWJhc2VDbGllbnQoKTtcclxuICBcclxuICB0cnkge1xyXG4gICAgLy8gQ2hlY2sgYWRtaW4gYWNjZXNzXHJcbiAgICBjb25zdCBhZG1pbkNoZWNrID0gYXdhaXQgaXNBZG1pbihzdXBhYmFzZSk7XHJcbiAgICBpZiAoIWFkbWluQ2hlY2spIHtcclxuICAgICAgcmV0dXJuIHsgZXJyb3I6ICdBY2Nlc3MgZGVuaWVkLiBBZG1pbiBvciB0ZWFjaGVyIHJvbGUgcmVxdWlyZWQuJyB9O1xyXG4gICAgfVxyXG5cclxuICAgIGNvbnN0IHsgZXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlXHJcbiAgICAgIC5mcm9tKCdsZXNzb25zJylcclxuICAgICAgLmRlbGV0ZSgpXHJcbiAgICAgIC5lcSgnaWQnLCBpZCk7XHJcblxyXG4gICAgaWYgKGVycm9yKSB7XHJcbiAgICAgIHJldHVybiB7IGVycm9yOiBlcnJvci5tZXNzYWdlIH07XHJcbiAgICB9XHJcblxyXG4gICAgLy8gUmV2YWxpZGF0ZSB0aGUgY2FjaGUgdG8gZW5zdXJlIGZyb250ZW5kIHJlZmxlY3RzIGNoYW5nZXNcclxuICAgIHJldmFsaWRhdGVQYXRoKCcvY291cnNlcycpO1xyXG4gICAgcmV2YWxpZGF0ZVBhdGgoJy9kYXNoYm9hcmQnKTtcclxuICAgIFxyXG4gICAgcmV0dXJuIHsgZXJyb3I6IG51bGwgfTtcclxuICB9IGNhdGNoIChlcnJvcjogYW55KSB7XHJcbiAgICByZXR1cm4geyBlcnJvcjogZXJyb3IubWVzc2FnZSB9O1xyXG4gIH1cclxufVxyXG5cclxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIHJlb3JkZXJMZXNzb25zKG1vZHVsZUlkOiBzdHJpbmcsIGxlc3Nvbklkczogc3RyaW5nW10pOiBQcm9taXNlPHsgZXJyb3I6IHN0cmluZyB8IG51bGwgfT4ge1xyXG4gIGNvbnN0IHN1cGFiYXNlID0gYXdhaXQgY3JlYXRlU3VwYWJhc2VDbGllbnQoKTtcclxuICBcclxuICB0cnkge1xyXG4gICAgLy8gQ2hlY2sgYWRtaW4gYWNjZXNzXHJcbiAgICBjb25zdCBhZG1pbkNoZWNrID0gYXdhaXQgaXNBZG1pbihzdXBhYmFzZSk7XHJcbiAgICBpZiAoIWFkbWluQ2hlY2spIHtcclxuICAgICAgcmV0dXJuIHsgZXJyb3I6ICdBY2Nlc3MgZGVuaWVkLiBBZG1pbiBvciB0ZWFjaGVyIHJvbGUgcmVxdWlyZWQuJyB9O1xyXG4gICAgfVxyXG5cclxuICAgIC8vIFVwZGF0ZSBhbGwgbGVzc29ucyB3aXRoIHRoZWlyIG5ldyBwb3NpdGlvbnMgaW4gYSBzaW5nbGUgdHJhbnNhY3Rpb25cclxuICAgIGNvbnN0IHVwZGF0ZXMgPSBsZXNzb25JZHMubWFwKChpZCwgaW5kZXgpID0+ICh7XHJcbiAgICAgIGlkLFxyXG4gICAgICBvcmRlcl9pbmRleDogaW5kZXggKiAxMCAvLyBVc2UgaW5jcmVtZW50cyBvZiAxMCB0byBhbGxvdyBmb3IgZnV0dXJlIGluc2VydGlvbnMgYmV0d2VlbiBpdGVtc1xyXG4gICAgfSkpO1xyXG5cclxuICAgIC8vIFBlcmZvcm0gdXBkYXRlcyBpbiBhIGJhdGNoXHJcbiAgICBmb3IgKGNvbnN0IHVwZGF0ZSBvZiB1cGRhdGVzKSB7XHJcbiAgICAgIGNvbnN0IHsgZXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlXHJcbiAgICAgICAgLmZyb20oJ2xlc3NvbnMnKVxyXG4gICAgICAgIC51cGRhdGUoeyBvcmRlcl9pbmRleDogdXBkYXRlLm9yZGVyX2luZGV4IH0pXHJcbiAgICAgICAgLmVxKCdpZCcsIHVwZGF0ZS5pZClcclxuICAgICAgICAuZXEoJ21vZHVsZV9pZCcsIG1vZHVsZUlkKTsgLy8gQWRkaXRpb25hbCBzYWZldHkgY2hlY2tcclxuXHJcbiAgICAgIGlmIChlcnJvcikge1xyXG4gICAgICAgIHJldHVybiB7IGVycm9yOiBlcnJvci5tZXNzYWdlIH07XHJcbiAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvLyBSZXZhbGlkYXRlIHRoZSBjYWNoZSB0byBlbnN1cmUgZnJvbnRlbmQgcmVmbGVjdHMgY2hhbmdlc1xyXG4gICAgcmV2YWxpZGF0ZVBhdGgoJy9jb3Vyc2VzJyk7XHJcbiAgICByZXZhbGlkYXRlUGF0aCgnL2Rhc2hib2FyZCcpO1xyXG4gICAgXHJcbiAgICByZXR1cm4geyBlcnJvcjogbnVsbCB9O1xyXG4gIH0gY2F0Y2ggKGVycm9yOiBhbnkpIHtcclxuICAgIHJldHVybiB7IGVycm9yOiBlcnJvci5tZXNzYWdlIH07XHJcbiAgfVxyXG59Il0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI0UkFpRnNCLHdMQUFBIn0=
}),
"[project]/src/actions/data:b11ae6 [app-ssr] (ecmascript) <text/javascript>", ((__turbopack_context__) => {
"use strict";

__turbopack_context__.s([
    "createCourse",
    ()=>$$RSC_SERVER_ACTION_1
]);
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$build$2f$webpack$2f$loaders$2f$next$2d$flight$2d$loader$2f$action$2d$client$2d$wrapper$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/next/dist/build/webpack/loaders/next-flight-loader/action-client-wrapper.js [app-ssr] (ecmascript)");
/* __next_internal_action_entry_do_not_use__ [{"60b20a256cfaf7dc44fb26ead925cb0f33e7c114b3":"createCourse"},"src/actions/courseActions.ts",""] */ "use turbopack no side effects";
;
const $$RSC_SERVER_ACTION_1 = /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$build$2f$webpack$2f$loaders$2f$next$2d$flight$2d$loader$2f$action$2d$client$2d$wrapper$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["createServerReference"])("60b20a256cfaf7dc44fb26ead925cb0f33e7c114b3", __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$build$2f$webpack$2f$loaders$2f$next$2d$flight$2d$loader$2f$action$2d$client$2d$wrapper$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["callServer"], void 0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$build$2f$webpack$2f$loaders$2f$next$2d$flight$2d$loader$2f$action$2d$client$2d$wrapper$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["findSourceMapURL"], "createCourse");
;
 //# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4vY291cnNlQWN0aW9ucy50cyJdLCJzb3VyY2VzQ29udGVudCI6WyIndXNlIHNlcnZlcidcclxuXHJcbmltcG9ydCB7IGNvb2tpZXMgfSBmcm9tICduZXh0L2hlYWRlcnMnO1xyXG5pbXBvcnQgeyBjcmVhdGVTZXJ2ZXJDbGllbnQgfSBmcm9tICdAc3VwYWJhc2Uvc3NyJztcclxuaW1wb3J0IHsgcmV2YWxpZGF0ZVBhdGggfSBmcm9tICduZXh0L2NhY2hlJztcclxuaW1wb3J0IHsgcGFyc2VZb3VUdWJlIH0gZnJvbSAnQC9saWIveW91dHViZVBhcnNlcic7XHJcblxyXG4vLyBUeXBlIGRlZmluaXRpb25zXHJcbnR5cGUgQ291cnNlID0ge1xyXG4gIGlkOiBzdHJpbmc7XHJcbiAgdGl0bGU6IHN0cmluZztcclxuICBkZXNjcmlwdGlvbjogc3RyaW5nO1xyXG4gIGlzX3B1Ymxpc2hlZDogYm9vbGVhbjtcclxuICBjcmVhdGVkX2F0OiBzdHJpbmc7XHJcbiAgdXBkYXRlZF9hdDogc3RyaW5nO1xyXG59O1xyXG5cclxudHlwZSBNb2R1bGUgPSB7XHJcbiAgaWQ6IHN0cmluZztcclxuICBjb3Vyc2VfaWQ6IHN0cmluZztcclxuICB0aXRsZTogc3RyaW5nO1xyXG4gIG9yZGVyX2luZGV4OiBudW1iZXI7XHJcbn07XHJcblxyXG50eXBlIExlc3NvbiA9IHtcclxuICBpZDogc3RyaW5nO1xyXG4gIG1vZHVsZV9pZDogc3RyaW5nO1xyXG4gIHRpdGxlOiBzdHJpbmc7XHJcbiAgZGVzY3JpcHRpb246IHN0cmluZztcclxuICBvcmRlcl9pbmRleDogbnVtYmVyO1xyXG4gIHZpZGVvX3Byb3ZpZGVyOiBzdHJpbmc7XHJcbiAgdmlkZW9fdXJsOiBzdHJpbmcgfCBudWxsO1xyXG4gIHlvdXR1YmVfdmlkZW9faWQ6IHN0cmluZyB8IG51bGw7XHJcbiAgaXNfcHJldmlldzogYm9vbGVhbjtcclxuICBpc19wdWJsaXNoZWQ6IGJvb2xlYW47XHJcbiAgY3JlYXRlZF9hdDogc3RyaW5nO1xyXG4gIHVwZGF0ZWRfYXQ6IHN0cmluZztcclxufTtcclxuXHJcbi8vIEhlbHBlciBmdW5jdGlvbiB0byBjcmVhdGUgU3VwYWJhc2UgY2xpZW50IGZvciBzZXJ2ZXIgYWN0aW9uc1xyXG5hc3luYyBmdW5jdGlvbiBjcmVhdGVTdXBhYmFzZUNsaWVudCgpIHtcclxuICBjb25zdCBjb29raWVTdG9yZSA9IGF3YWl0IGNvb2tpZXMoKTtcclxuICByZXR1cm4gY3JlYXRlU2VydmVyQ2xpZW50KFxyXG4gICAgcHJvY2Vzcy5lbnYuTkVYVF9QVUJMSUNfU1VQQUJBU0VfVVJMISxcclxuICAgIHByb2Nlc3MuZW52Lk5FWFRfUFVCTElDX1NVUEFCQVNFX0FOT05fS0VZISxcclxuICAgIHtcclxuICAgICAgY29va2llczoge1xyXG4gICAgICAgIGdldDogKG5hbWU6IHN0cmluZykgPT4ge1xyXG4gICAgICAgICAgY29uc3QgY29va2llID0gY29va2llU3RvcmUuZ2V0KG5hbWUpO1xyXG4gICAgICAgICAgcmV0dXJuIGNvb2tpZSA/IGNvb2tpZS52YWx1ZSA6IHVuZGVmaW5lZDtcclxuICAgICAgICB9LFxyXG4gICAgICB9LFxyXG4gICAgfVxyXG4gICk7XHJcbn1cclxuXHJcbi8vIENoZWNrIGlmIHVzZXIgaXMgYWRtaW5cclxuYXN5bmMgZnVuY3Rpb24gaXNBZG1pbihzdXBhYmFzZTogYW55KTogUHJvbWlzZTxib29sZWFuPiB7XHJcbiAgY29uc3Qge1xyXG4gICAgZGF0YTogeyB1c2VyIH0sXHJcbiAgICBlcnJvcjogdXNlckVycm9yLFxyXG4gIH0gPSBhd2FpdCBzdXBhYmFzZS5hdXRoLmdldFVzZXIoKTtcclxuXHJcbiAgaWYgKHVzZXJFcnJvciB8fCAhdXNlcikge1xyXG4gICAgcmV0dXJuIGZhbHNlO1xyXG4gIH1cclxuXHJcbiAgY29uc3QgeyBkYXRhOiBwcm9maWxlLCBlcnJvcjogcHJvZmlsZUVycm9yIH0gPSBhd2FpdCBzdXBhYmFzZVxyXG4gICAgLmZyb20oJ3Byb2ZpbGVzJylcclxuICAgIC5zZWxlY3QoJ3JvbGUnKVxyXG4gICAgLmVxKCdpZCcsIHVzZXIuaWQpXHJcbiAgICAuc2luZ2xlKCk7XHJcblxyXG4gIGlmIChwcm9maWxlRXJyb3IgfHwgIXByb2ZpbGUpIHtcclxuICAgIHJldHVybiBmYWxzZTtcclxuICB9XHJcblxyXG4gIHJldHVybiBwcm9maWxlLnJvbGUgPT09ICdhZG1pbicgfHwgcHJvZmlsZS5yb2xlID09PSAndGVhY2hlcic7XHJcbn1cclxuXHJcbi8vIENvdXJzZSBBY3Rpb25zXHJcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBsaXN0Q291cnNlcygpOiBQcm9taXNlPHsgZGF0YTogQ291cnNlW10gfCBudWxsOyBlcnJvcjogc3RyaW5nIHwgbnVsbCB9PiB7XHJcbiAgY29uc3Qgc3VwYWJhc2UgPSBhd2FpdCBjcmVhdGVTdXBhYmFzZUNsaWVudCgpO1xyXG4gIFxyXG4gIHRyeSB7XHJcbiAgICAvLyBDaGVjayBhZG1pbiBhY2Nlc3NcclxuICAgIGNvbnN0IGFkbWluQ2hlY2sgPSBhd2FpdCBpc0FkbWluKHN1cGFiYXNlKTtcclxuICAgIGlmICghYWRtaW5DaGVjaykge1xyXG4gICAgICBjb25zb2xlLmxvZygnREVCVUc6IGxpc3RDb3Vyc2VzIC0gQWNjZXNzIGRlbmllZCwgbm90IGFkbWluL3RlYWNoZXInKTtcclxuICAgICAgcmV0dXJuIHsgZGF0YTogbnVsbCwgZXJyb3I6ICdBY2Nlc3MgZGVuaWVkLiBBZG1pbiBvciB0ZWFjaGVyIHJvbGUgcmVxdWlyZWQuJyB9O1xyXG4gICAgfVxyXG4gICAgXHJcbiAgICBjb25zb2xlLmxvZygnREVCVUc6IGxpc3RDb3Vyc2VzIC0gRmV0Y2hpbmcgYWxsIGNvdXJzZXMgZm9yIGFkbWluJyk7XHJcbiAgICBcclxuICAgIGNvbnN0IHsgZGF0YSwgZXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlXHJcbiAgICAgIC5mcm9tKCdjb3Vyc2VzJylcclxuICAgICAgLnNlbGVjdCgnKicpXHJcbiAgICAgIC5vcmRlcignY3JlYXRlZF9hdCcsIHsgYXNjZW5kaW5nOiBmYWxzZSB9KTtcclxuICAgIFxyXG4gICAgY29uc29sZS5sb2coJ0RFQlVHOiBsaXN0Q291cnNlcyAtIFF1ZXJ5IHJlc3VsdDonLCB7IGRhdGE6IGRhdGE/Lmxlbmd0aCwgZXJyb3IgfSk7XHJcbiAgICBcclxuICAgIGlmIChlcnJvcikge1xyXG4gICAgICBjb25zb2xlLmVycm9yKCdERUJVRzogbGlzdENvdXJzZXMgLSBTdXBhYmFzZSBlcnJvcjonLCBlcnJvcik7XHJcbiAgICAgIHJldHVybiB7IGRhdGE6IG51bGwsIGVycm9yOiBlcnJvci5tZXNzYWdlIH07XHJcbiAgICB9XHJcblxyXG4gICAgY29uc29sZS5sb2coJ0RFQlVHOiBsaXN0Q291cnNlcyAtIFJldHVybmluZyBjb3Vyc2VzOicsIGRhdGE/Lmxlbmd0aCk7XHJcbiAgICByZXR1cm4geyBkYXRhLCBlcnJvcjogbnVsbCB9O1xyXG4gIH0gY2F0Y2ggKGVycm9yOiBhbnkpIHtcclxuICAgIGNvbnNvbGUuZXJyb3IoJ0RFQlVHOiBsaXN0Q291cnNlcyAtIEV4Y2VwdGlvbjonLCBlcnJvcik7XHJcbiAgICByZXR1cm4geyBkYXRhOiBudWxsLCBlcnJvcjogZXJyb3IubWVzc2FnZSB9O1xyXG4gIH1cclxufVxyXG5cclxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGNyZWF0ZUNvdXJzZSh0aXRsZTogc3RyaW5nLCBkZXNjcmlwdGlvbjogc3RyaW5nKTogUHJvbWlzZTx7IGRhdGE6IENvdXJzZSB8IG51bGw7IGVycm9yOiBzdHJpbmcgfCBudWxsIH0+IHtcclxuICBjb25zdCBzdXBhYmFzZSA9IGF3YWl0IGNyZWF0ZVN1cGFiYXNlQ2xpZW50KCk7XHJcbiAgXHJcbiAgdHJ5IHtcclxuICAgIC8vIENoZWNrIGFkbWluIGFjY2Vzc1xyXG4gICAgY29uc3QgYWRtaW5DaGVjayA9IGF3YWl0IGlzQWRtaW4oc3VwYWJhc2UpO1xyXG4gICAgaWYgKCFhZG1pbkNoZWNrKSB7XHJcbiAgICAgIGNvbnNvbGUubG9nKCdERUJVRzogY3JlYXRlQ291cnNlIC0gQWNjZXNzIGRlbmllZCwgbm90IGFkbWluL3RlYWNoZXInKTtcclxuICAgICAgcmV0dXJuIHsgZGF0YTogbnVsbCwgZXJyb3I6ICdBY2Nlc3MgZGVuaWVkLiBBZG1pbiBvciB0ZWFjaGVyIHJvbGUgcmVxdWlyZWQuJyB9O1xyXG4gICAgfVxyXG4gICAgXHJcbiAgICBjb25zb2xlLmxvZygnREVCVUc6IGNyZWF0ZUNvdXJzZSAtIENyZWF0aW5nIGNvdXJzZTonLCB7IHRpdGxlLCBkZXNjcmlwdGlvbiB9KTtcclxuXHJcbiAgICBjb25zdCB7IGRhdGEsIGVycm9yIH0gPSBhd2FpdCBzdXBhYmFzZVxyXG4gICAgICAuZnJvbSgnY291cnNlcycpXHJcbiAgICAgIC5pbnNlcnQoW3sgdGl0bGUsIGRlc2NyaXB0aW9uIH1dKVxyXG4gICAgICAuc2VsZWN0KClcclxuICAgICAgLnNpbmdsZSgpO1xyXG4gICAgXHJcbiAgICBjb25zb2xlLmxvZygnREVCVUc6IGNyZWF0ZUNvdXJzZSAtIEluc2VydCByZXN1bHQ6JywgeyBkYXRhOiAhIWRhdGEsIGVycm9yIH0pO1xyXG5cclxuICAgIGlmIChlcnJvcikge1xyXG4gICAgICBjb25zb2xlLmVycm9yKCdERUJVRzogY3JlYXRlQ291cnNlIC0gU3VwYWJhc2UgZXJyb3I6JywgZXJyb3IpO1xyXG4gICAgICByZXR1cm4geyBkYXRhOiBudWxsLCBlcnJvcjogZXJyb3IubWVzc2FnZSB9O1xyXG4gICAgfVxyXG5cclxuICAgIC8vIFJldmFsaWRhdGUgdGhlIGNhY2hlIHRvIGVuc3VyZSBmcm9udGVuZCByZWZsZWN0cyBjaGFuZ2VzXHJcbiAgICByZXZhbGlkYXRlUGF0aCgnL2NvdXJzZXMnKTtcclxuICAgIHJldmFsaWRhdGVQYXRoKCcvZGFzaGJvYXJkJyk7XHJcbiAgICBcclxuICAgIGNvbnNvbGUubG9nKCdERUJVRzogY3JlYXRlQ291cnNlIC0gQ291cnNlIGNyZWF0ZWQgc3VjY2Vzc2Z1bGx5LCBjYWNoZSBpbnZhbGlkYXRlZCcpO1xyXG4gICAgXHJcbiAgICByZXR1cm4geyBkYXRhLCBlcnJvcjogbnVsbCB9O1xyXG4gIH0gY2F0Y2ggKGVycm9yOiBhbnkpIHtcclxuICAgIGNvbnNvbGUuZXJyb3IoJ0RFQlVHOiBjcmVhdGVDb3Vyc2UgLSBFeGNlcHRpb246JywgZXJyb3IpO1xyXG4gICAgcmV0dXJuIHsgZGF0YTogbnVsbCwgZXJyb3I6IGVycm9yLm1lc3NhZ2UgfTtcclxuICB9XHJcbn1cclxuXHJcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiB1cGRhdGVDb3Vyc2UoaWQ6IHN0cmluZywgdXBkYXRlczogUGFydGlhbDxDb3Vyc2U+KTogUHJvbWlzZTx7IGRhdGE6IENvdXJzZSB8IG51bGw7IGVycm9yOiBzdHJpbmcgfCBudWxsIH0+IHtcclxuICBjb25zdCBzdXBhYmFzZSA9IGF3YWl0IGNyZWF0ZVN1cGFiYXNlQ2xpZW50KCk7XHJcbiAgXHJcbiAgdHJ5IHtcclxuICAgIC8vIENoZWNrIGFkbWluIGFjY2Vzc1xyXG4gICAgY29uc3QgYWRtaW5DaGVjayA9IGF3YWl0IGlzQWRtaW4oc3VwYWJhc2UpO1xyXG4gICAgaWYgKCFhZG1pbkNoZWNrKSB7XHJcbiAgICAgIHJldHVybiB7IGRhdGE6IG51bGwsIGVycm9yOiAnQWNjZXNzIGRlbmllZC4gQWRtaW4gb3IgdGVhY2hlciByb2xlIHJlcXVpcmVkLicgfTtcclxuICAgIH1cclxuXHJcbiAgICBjb25zdCB7IGRhdGEsIGVycm9yIH0gPSBhd2FpdCBzdXBhYmFzZVxyXG4gICAgICAuZnJvbSgnY291cnNlcycpXHJcbiAgICAgIC51cGRhdGUodXBkYXRlcylcclxuICAgICAgLmVxKCdpZCcsIGlkKVxyXG4gICAgICAuc2VsZWN0KClcclxuICAgICAgLnNpbmdsZSgpO1xyXG5cclxuICAgIGlmIChlcnJvcikge1xyXG4gICAgICByZXR1cm4geyBkYXRhOiBudWxsLCBlcnJvcjogZXJyb3IubWVzc2FnZSB9O1xyXG4gICAgfVxyXG5cclxuICAgIC8vIFJldmFsaWRhdGUgdGhlIGNhY2hlIHRvIGVuc3VyZSBmcm9udGVuZCByZWZsZWN0cyBjaGFuZ2VzXHJcbiAgICByZXZhbGlkYXRlUGF0aCgnL2NvdXJzZXMnKTtcclxuICAgIHJldmFsaWRhdGVQYXRoKCcvZGFzaGJvYXJkJyk7XHJcbiAgICBcclxuICAgIHJldHVybiB7IGRhdGEsIGVycm9yOiBudWxsIH07XHJcbiAgfSBjYXRjaCAoZXJyb3I6IGFueSkge1xyXG4gICAgcmV0dXJuIHsgZGF0YTogbnVsbCwgZXJyb3I6IGVycm9yLm1lc3NhZ2UgfTtcclxuICB9XHJcbn1cclxuXHJcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBkZWxldGVDb3Vyc2UoaWQ6IHN0cmluZyk6IFByb21pc2U8eyBlcnJvcjogc3RyaW5nIHwgbnVsbCB9PiB7XHJcbiAgY29uc3Qgc3VwYWJhc2UgPSBhd2FpdCBjcmVhdGVTdXBhYmFzZUNsaWVudCgpO1xyXG4gIFxyXG4gIHRyeSB7XHJcbiAgICAvLyBDaGVjayBhZG1pbiBhY2Nlc3NcclxuICAgIGNvbnN0IGFkbWluQ2hlY2sgPSBhd2FpdCBpc0FkbWluKHN1cGFiYXNlKTtcclxuICAgIGlmICghYWRtaW5DaGVjaykge1xyXG4gICAgICByZXR1cm4geyBlcnJvcjogJ0FjY2VzcyBkZW5pZWQuIEFkbWluIG9yIHRlYWNoZXIgcm9sZSByZXF1aXJlZC4nIH07XHJcbiAgICB9XHJcblxyXG4gICAgY29uc3QgeyBlcnJvciB9ID0gYXdhaXQgc3VwYWJhc2VcclxuICAgICAgLmZyb20oJ2NvdXJzZXMnKVxyXG4gICAgICAuZGVsZXRlKClcclxuICAgICAgLmVxKCdpZCcsIGlkKTtcclxuXHJcbiAgICBpZiAoZXJyb3IpIHtcclxuICAgICAgcmV0dXJuIHsgZXJyb3I6IGVycm9yLm1lc3NhZ2UgfTtcclxuICAgIH1cclxuXHJcbiAgICAvLyBSZXZhbGlkYXRlIHRoZSBjYWNoZSB0byBlbnN1cmUgZnJvbnRlbmQgcmVmbGVjdHMgY2hhbmdlc1xyXG4gICAgcmV2YWxpZGF0ZVBhdGgoJy9jb3Vyc2VzJyk7XHJcbiAgICByZXZhbGlkYXRlUGF0aCgnL2Rhc2hib2FyZCcpO1xyXG4gICAgXHJcbiAgICByZXR1cm4geyBlcnJvcjogbnVsbCB9O1xyXG4gIH0gY2F0Y2ggKGVycm9yOiBhbnkpIHtcclxuICAgIHJldHVybiB7IGVycm9yOiBlcnJvci5tZXNzYWdlIH07XHJcbiAgfVxyXG59XHJcblxyXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gcHVibGlzaENvdXJzZShpZDogc3RyaW5nLCBpc1B1Ymxpc2hlZDogYm9vbGVhbik6IFByb21pc2U8eyBkYXRhOiBDb3Vyc2UgfCBudWxsOyBlcnJvcjogc3RyaW5nIHwgbnVsbCB9PiB7XHJcbiAgY29uc3Qgc3VwYWJhc2UgPSBhd2FpdCBjcmVhdGVTdXBhYmFzZUNsaWVudCgpO1xyXG4gIFxyXG4gIHRyeSB7XHJcbiAgICAvLyBDaGVjayBhZG1pbiBhY2Nlc3NcclxuICAgIGNvbnN0IGFkbWluQ2hlY2sgPSBhd2FpdCBpc0FkbWluKHN1cGFiYXNlKTtcclxuICAgIGlmICghYWRtaW5DaGVjaykge1xyXG4gICAgICByZXR1cm4geyBkYXRhOiBudWxsLCBlcnJvcjogJ0FjY2VzcyBkZW5pZWQuIEFkbWluIG9yIHRlYWNoZXIgcm9sZSByZXF1aXJlZC4nIH07XHJcbiAgICB9XHJcblxyXG4gICAgY29uc3QgeyBkYXRhLCBlcnJvciB9ID0gYXdhaXQgc3VwYWJhc2VcclxuICAgICAgLmZyb20oJ2NvdXJzZXMnKVxyXG4gICAgICAudXBkYXRlKHsgaXNfcHVibGlzaGVkOiBpc1B1Ymxpc2hlZCB9KVxyXG4gICAgICAuZXEoJ2lkJywgaWQpXHJcbiAgICAgIC5zZWxlY3QoKVxyXG4gICAgICAuc2luZ2xlKCk7XHJcblxyXG4gICAgaWYgKGVycm9yKSB7XHJcbiAgICAgIHJldHVybiB7IGRhdGE6IG51bGwsIGVycm9yOiBlcnJvci5tZXNzYWdlIH07XHJcbiAgICB9XHJcblxyXG4gICAgLy8gUmV2YWxpZGF0ZSB0aGUgY2FjaGUgdG8gZW5zdXJlIGZyb250ZW5kIHJlZmxlY3RzIGNoYW5nZXNcclxuICAgIHJldmFsaWRhdGVQYXRoKCcvY291cnNlcycpO1xyXG4gICAgcmV2YWxpZGF0ZVBhdGgoJy9kYXNoYm9hcmQnKTtcclxuICAgIFxyXG4gICAgcmV0dXJuIHsgZGF0YSwgZXJyb3I6IG51bGwgfTtcclxuICB9IGNhdGNoIChlcnJvcjogYW55KSB7XHJcbiAgICByZXR1cm4geyBkYXRhOiBudWxsLCBlcnJvcjogZXJyb3IubWVzc2FnZSB9O1xyXG4gIH1cclxufVxyXG5cclxuLy8gTW9kdWxlIEFjdGlvbnNcclxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGxpc3RNb2R1bGVzKGNvdXJzZUlkOiBzdHJpbmcpOiBQcm9taXNlPHsgZGF0YTogTW9kdWxlW10gfCBudWxsOyBlcnJvcjogc3RyaW5nIHwgbnVsbCB9PiB7XHJcbiAgY29uc3Qgc3VwYWJhc2UgPSBhd2FpdCBjcmVhdGVTdXBhYmFzZUNsaWVudCgpO1xyXG4gIFxyXG4gIHRyeSB7XHJcbiAgICAvLyBDaGVjayBhZG1pbiBhY2Nlc3NcclxuICAgIGNvbnN0IGFkbWluQ2hlY2sgPSBhd2FpdCBpc0FkbWluKHN1cGFiYXNlKTtcclxuICAgIGlmICghYWRtaW5DaGVjaykge1xyXG4gICAgICByZXR1cm4geyBkYXRhOiBudWxsLCBlcnJvcjogJ0FjY2VzcyBkZW5pZWQuIEFkbWluIG9yIHRlYWNoZXIgcm9sZSByZXF1aXJlZC4nIH07XHJcbiAgICB9XHJcblxyXG4gICAgY29uc3QgeyBkYXRhLCBlcnJvciB9ID0gYXdhaXQgc3VwYWJhc2VcclxuICAgICAgLmZyb20oJ21vZHVsZXMnKVxyXG4gICAgICAuc2VsZWN0KCcqJylcclxuICAgICAgLmVxKCdjb3Vyc2VfaWQnLCBjb3Vyc2VJZClcclxuICAgICAgLm9yZGVyKCdvcmRlcl9pbmRleCcsIHsgYXNjZW5kaW5nOiB0cnVlIH0pO1xyXG5cclxuICAgIGlmIChlcnJvcikge1xyXG4gICAgICByZXR1cm4geyBkYXRhOiBudWxsLCBlcnJvcjogZXJyb3IubWVzc2FnZSB9O1xyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiB7IGRhdGEsIGVycm9yOiBudWxsIH07XHJcbiAgfSBjYXRjaCAoZXJyb3I6IGFueSkge1xyXG4gICAgcmV0dXJuIHsgZGF0YTogbnVsbCwgZXJyb3I6IGVycm9yLm1lc3NhZ2UgfTtcclxuICB9XHJcbn1cclxuXHJcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBjcmVhdGVNb2R1bGUoY291cnNlSWQ6IHN0cmluZywgdGl0bGU6IHN0cmluZyk6IFByb21pc2U8eyBkYXRhOiBNb2R1bGUgfCBudWxsOyBlcnJvcjogc3RyaW5nIHwgbnVsbCB9PiB7XHJcbiAgY29uc3Qgc3VwYWJhc2UgPSBhd2FpdCBjcmVhdGVTdXBhYmFzZUNsaWVudCgpO1xyXG4gIFxyXG4gIHRyeSB7XHJcbiAgICAvLyBDaGVjayBhZG1pbiBhY2Nlc3NcclxuICAgIGNvbnN0IGFkbWluQ2hlY2sgPSBhd2FpdCBpc0FkbWluKHN1cGFiYXNlKTtcclxuICAgIGlmICghYWRtaW5DaGVjaykge1xyXG4gICAgICByZXR1cm4geyBkYXRhOiBudWxsLCBlcnJvcjogJ0FjY2VzcyBkZW5pZWQuIEFkbWluIG9yIHRlYWNoZXIgcm9sZSByZXF1aXJlZC4nIH07XHJcbiAgICB9XHJcblxyXG4gICAgLy8gR2V0IHRoZSBoaWdoZXN0IG9yZGVyX2luZGV4IHRvIGRldGVybWluZSB0aGUgbmV3IHBvc2l0aW9uXHJcbiAgICBjb25zdCB7IGRhdGE6IGV4aXN0aW5nTW9kdWxlcyB9ID0gYXdhaXQgc3VwYWJhc2VcclxuICAgICAgLmZyb20oJ21vZHVsZXMnKVxyXG4gICAgICAuc2VsZWN0KCdvcmRlcl9pbmRleCcpXHJcbiAgICAgIC5lcSgnY291cnNlX2lkJywgY291cnNlSWQpXHJcbiAgICAgIC5vcmRlcignb3JkZXJfaW5kZXgnLCB7IGFzY2VuZGluZzogZmFsc2UgfSlcclxuICAgICAgLmxpbWl0KDEpO1xyXG5cclxuICAgIGNvbnN0IG5ld09yZGVySW5kZXggPSBleGlzdGluZ01vZHVsZXMgJiYgZXhpc3RpbmdNb2R1bGVzLmxlbmd0aCA+IDAgXHJcbiAgICAgID8gZXhpc3RpbmdNb2R1bGVzWzBdLm9yZGVyX2luZGV4ICsgMTAgXHJcbiAgICAgIDogMDtcclxuXHJcbiAgICBjb25zdCB7IGRhdGEsIGVycm9yIH0gPSBhd2FpdCBzdXBhYmFzZVxyXG4gICAgICAuZnJvbSgnbW9kdWxlcycpXHJcbiAgICAgIC5pbnNlcnQoW3sgY291cnNlX2lkOiBjb3Vyc2VJZCwgdGl0bGUsIG9yZGVyX2luZGV4OiBuZXdPcmRlckluZGV4IH1dKVxyXG4gICAgICAuc2VsZWN0KClcclxuICAgICAgLnNpbmdsZSgpO1xyXG5cclxuICAgIGlmIChlcnJvcikge1xyXG4gICAgICByZXR1cm4geyBkYXRhOiBudWxsLCBlcnJvcjogZXJyb3IubWVzc2FnZSB9O1xyXG4gICAgfVxyXG5cclxuICAgIC8vIFJldmFsaWRhdGUgdGhlIGNhY2hlIHRvIGVuc3VyZSBmcm9udGVuZCByZWZsZWN0cyBjaGFuZ2VzXHJcbiAgICByZXZhbGlkYXRlUGF0aCgnL2NvdXJzZXMnKTtcclxuICAgIHJldmFsaWRhdGVQYXRoKCcvZGFzaGJvYXJkJyk7XHJcbiAgICBcclxuICAgIHJldHVybiB7IGRhdGEsIGVycm9yOiBudWxsIH07XHJcbiAgfSBjYXRjaCAoZXJyb3I6IGFueSkge1xyXG4gICAgcmV0dXJuIHsgZGF0YTogbnVsbCwgZXJyb3I6IGVycm9yLm1lc3NhZ2UgfTtcclxuICB9XHJcbn1cclxuXHJcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiB1cGRhdGVNb2R1bGUoaWQ6IHN0cmluZywgdXBkYXRlczogUGFydGlhbDxNb2R1bGU+KTogUHJvbWlzZTx7IGRhdGE6IE1vZHVsZSB8IG51bGw7IGVycm9yOiBzdHJpbmcgfCBudWxsIH0+IHtcclxuICBjb25zdCBzdXBhYmFzZSA9IGF3YWl0IGNyZWF0ZVN1cGFiYXNlQ2xpZW50KCk7XHJcbiAgXHJcbiAgdHJ5IHtcclxuICAgIC8vIENoZWNrIGFkbWluIGFjY2Vzc1xyXG4gICAgY29uc3QgYWRtaW5DaGVjayA9IGF3YWl0IGlzQWRtaW4oc3VwYWJhc2UpO1xyXG4gICAgaWYgKCFhZG1pbkNoZWNrKSB7XHJcbiAgICAgIHJldHVybiB7IGRhdGE6IG51bGwsIGVycm9yOiAnQWNjZXNzIGRlbmllZC4gQWRtaW4gb3IgdGVhY2hlciByb2xlIHJlcXVpcmVkLicgfTtcclxuICAgIH1cclxuXHJcbiAgICBjb25zdCB7IGRhdGEsIGVycm9yIH0gPSBhd2FpdCBzdXBhYmFzZVxyXG4gICAgICAuZnJvbSgnbW9kdWxlcycpXHJcbiAgICAgIC51cGRhdGUodXBkYXRlcylcclxuICAgICAgLmVxKCdpZCcsIGlkKVxyXG4gICAgICAuc2VsZWN0KClcclxuICAgICAgLnNpbmdsZSgpO1xyXG5cclxuICAgIGlmIChlcnJvcikge1xyXG4gICAgICByZXR1cm4geyBkYXRhOiBudWxsLCBlcnJvcjogZXJyb3IubWVzc2FnZSB9O1xyXG4gICAgfVxyXG5cclxuICAgIC8vIFJldmFsaWRhdGUgdGhlIGNhY2hlIHRvIGVuc3VyZSBmcm9udGVuZCByZWZsZWN0cyBjaGFuZ2VzXHJcbiAgICByZXZhbGlkYXRlUGF0aCgnL2NvdXJzZXMnKTtcclxuICAgIHJldmFsaWRhdGVQYXRoKCcvZGFzaGJvYXJkJyk7XHJcbiAgICBcclxuICAgIHJldHVybiB7IGRhdGEsIGVycm9yOiBudWxsIH07XHJcbiAgfSBjYXRjaCAoZXJyb3I6IGFueSkge1xyXG4gICAgcmV0dXJuIHsgZGF0YTogbnVsbCwgZXJyb3I6IGVycm9yLm1lc3NhZ2UgfTtcclxuICB9XHJcbn1cclxuXHJcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBkZWxldGVNb2R1bGUoaWQ6IHN0cmluZyk6IFByb21pc2U8eyBlcnJvcjogc3RyaW5nIHwgbnVsbCB9PiB7XHJcbiAgY29uc3Qgc3VwYWJhc2UgPSBhd2FpdCBjcmVhdGVTdXBhYmFzZUNsaWVudCgpO1xyXG4gIFxyXG4gIHRyeSB7XHJcbiAgICAvLyBDaGVjayBhZG1pbiBhY2Nlc3NcclxuICAgIGNvbnN0IGFkbWluQ2hlY2sgPSBhd2FpdCBpc0FkbWluKHN1cGFiYXNlKTtcclxuICAgIGlmICghYWRtaW5DaGVjaykge1xyXG4gICAgICByZXR1cm4geyBlcnJvcjogJ0FjY2VzcyBkZW5pZWQuIEFkbWluIG9yIHRlYWNoZXIgcm9sZSByZXF1aXJlZC4nIH07XHJcbiAgICB9XHJcblxyXG4gICAgY29uc3QgeyBlcnJvciB9ID0gYXdhaXQgc3VwYWJhc2VcclxuICAgICAgLmZyb20oJ21vZHVsZXMnKVxyXG4gICAgICAuZGVsZXRlKClcclxuICAgICAgLmVxKCdpZCcsIGlkKTtcclxuXHJcbiAgICBpZiAoZXJyb3IpIHtcclxuICAgICAgcmV0dXJuIHsgZXJyb3I6IGVycm9yLm1lc3NhZ2UgfTtcclxuICAgIH1cclxuXHJcbiAgICAvLyBSZXZhbGlkYXRlIHRoZSBjYWNoZSB0byBlbnN1cmUgZnJvbnRlbmQgcmVmbGVjdHMgY2hhbmdlc1xyXG4gICAgcmV2YWxpZGF0ZVBhdGgoJy9jb3Vyc2VzJyk7XHJcbiAgICByZXZhbGlkYXRlUGF0aCgnL2Rhc2hib2FyZCcpO1xyXG4gICAgXHJcbiAgICByZXR1cm4geyBlcnJvcjogbnVsbCB9O1xyXG4gIH0gY2F0Y2ggKGVycm9yOiBhbnkpIHtcclxuICAgIHJldHVybiB7IGVycm9yOiBlcnJvci5tZXNzYWdlIH07XHJcbiAgfVxyXG59XHJcblxyXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gcmVvcmRlck1vZHVsZXMoY291cnNlSWQ6IHN0cmluZywgbW9kdWxlSWRzOiBzdHJpbmdbXSk6IFByb21pc2U8eyBlcnJvcjogc3RyaW5nIHwgbnVsbCB9PiB7XHJcbiAgY29uc3Qgc3VwYWJhc2UgPSBhd2FpdCBjcmVhdGVTdXBhYmFzZUNsaWVudCgpO1xyXG4gIFxyXG4gIHRyeSB7XHJcbiAgICAvLyBDaGVjayBhZG1pbiBhY2Nlc3NcclxuICAgIGNvbnN0IGFkbWluQ2hlY2sgPSBhd2FpdCBpc0FkbWluKHN1cGFiYXNlKTtcclxuICAgIGlmICghYWRtaW5DaGVjaykge1xyXG4gICAgICByZXR1cm4geyBlcnJvcjogJ0FjY2VzcyBkZW5pZWQuIEFkbWluIG9yIHRlYWNoZXIgcm9sZSByZXF1aXJlZC4nIH07XHJcbiAgICB9XHJcblxyXG4gICAgLy8gVXBkYXRlIGFsbCBtb2R1bGVzIHdpdGggdGhlaXIgbmV3IHBvc2l0aW9ucyBpbiBhIHNpbmdsZSB0cmFuc2FjdGlvblxyXG4gICAgY29uc3QgdXBkYXRlcyA9IG1vZHVsZUlkcy5tYXAoKGlkLCBpbmRleCkgPT4gKHtcclxuICAgICAgaWQsXHJcbiAgICAgIG9yZGVyX2luZGV4OiBpbmRleCAqIDEwIC8vIFVzZSBpbmNyZW1lbnRzIG9mIDEwIHRvIGFsbG93IGZvciBmdXR1cmUgaW5zZXJ0aW9ucyBiZXR3ZWVuIGl0ZW1zXHJcbiAgICB9KSk7XHJcblxyXG4gICAgLy8gUGVyZm9ybSB1cGRhdGVzIGluIGEgYmF0Y2hcclxuICAgIGZvciAoY29uc3QgdXBkYXRlIG9mIHVwZGF0ZXMpIHtcclxuICAgICAgY29uc3QgeyBlcnJvciB9ID0gYXdhaXQgc3VwYWJhc2VcclxuICAgICAgICAuZnJvbSgnbW9kdWxlcycpXHJcbiAgICAgICAgLnVwZGF0ZSh7IG9yZGVyX2luZGV4OiB1cGRhdGUub3JkZXJfaW5kZXggfSlcclxuICAgICAgICAuZXEoJ2lkJywgdXBkYXRlLmlkKVxyXG4gICAgICAgIC5lcSgnY291cnNlX2lkJywgY291cnNlSWQpOyAvLyBBZGRpdGlvbmFsIHNhZmV0eSBjaGVja1xyXG5cclxuICAgICAgaWYgKGVycm9yKSB7XHJcbiAgICAgICAgcmV0dXJuIHsgZXJyb3I6IGVycm9yLm1lc3NhZ2UgfTtcclxuICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8vIFJldmFsaWRhdGUgdGhlIGNhY2hlIHRvIGVuc3VyZSBmcm9udGVuZCByZWZsZWN0cyBjaGFuZ2VzXHJcbiAgICByZXZhbGlkYXRlUGF0aCgnL2NvdXJzZXMnKTtcclxuICAgIHJldmFsaWRhdGVQYXRoKCcvZGFzaGJvYXJkJyk7XHJcbiAgICBcclxuICAgIHJldHVybiB7IGVycm9yOiBudWxsIH07XHJcbiAgfSBjYXRjaCAoZXJyb3I6IGFueSkge1xyXG4gICAgcmV0dXJuIHsgZXJyb3I6IGVycm9yLm1lc3NhZ2UgfTtcclxuICB9XHJcbn1cclxuXHJcbi8vIExlc3NvbiBBY3Rpb25zXHJcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBsaXN0TGVzc29ucyhtb2R1bGVJZDogc3RyaW5nKTogUHJvbWlzZTx7IGRhdGE6IExlc3NvbltdIHwgbnVsbDsgZXJyb3I6IHN0cmluZyB8IG51bGwgfT4ge1xyXG4gIGNvbnN0IHN1cGFiYXNlID0gYXdhaXQgY3JlYXRlU3VwYWJhc2VDbGllbnQoKTtcclxuICBcclxuICB0cnkge1xyXG4gICAgLy8gQ2hlY2sgYWRtaW4gYWNjZXNzXHJcbiAgICBjb25zdCBhZG1pbkNoZWNrID0gYXdhaXQgaXNBZG1pbihzdXBhYmFzZSk7XHJcbiAgICBpZiAoIWFkbWluQ2hlY2spIHtcclxuICAgICAgcmV0dXJuIHsgZGF0YTogbnVsbCwgZXJyb3I6ICdBY2Nlc3MgZGVuaWVkLiBBZG1pbiBvciB0ZWFjaGVyIHJvbGUgcmVxdWlyZWQuJyB9O1xyXG4gICAgfVxyXG5cclxuICAgIGNvbnN0IHsgZGF0YSwgZXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlXHJcbiAgICAgIC5mcm9tKCdsZXNzb25zJylcclxuICAgICAgLnNlbGVjdCgnKicpXHJcbiAgICAgIC5lcSgnbW9kdWxlX2lkJywgbW9kdWxlSWQpXHJcbiAgICAgIC5vcmRlcignb3JkZXJfaW5kZXgnLCB7IGFzY2VuZGluZzogdHJ1ZSB9KTtcclxuXHJcbiAgICBpZiAoZXJyb3IpIHtcclxuICAgICAgcmV0dXJuIHsgZGF0YTogbnVsbCwgZXJyb3I6IGVycm9yLm1lc3NhZ2UgfTtcclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4geyBkYXRhLCBlcnJvcjogbnVsbCB9O1xyXG4gIH0gY2F0Y2ggKGVycm9yOiBhbnkpIHtcclxuICAgIHJldHVybiB7IGRhdGE6IG51bGwsIGVycm9yOiBlcnJvci5tZXNzYWdlIH07XHJcbiAgfVxyXG59XHJcblxyXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gY3JlYXRlTGVzc29uKFxyXG4gIG1vZHVsZUlkOiBzdHJpbmcsIFxyXG4gIHRpdGxlOiBzdHJpbmcsIFxyXG4gIGRlc2NyaXB0aW9uOiBzdHJpbmcsIFxyXG4gIHlvdXR1YmVVcmw6IHN0cmluZ1xyXG4pOiBQcm9taXNlPHsgZGF0YTogTGVzc29uIHwgbnVsbDsgZXJyb3I6IHN0cmluZyB8IG51bGwgfT4ge1xyXG4gIGNvbnN0IHN1cGFiYXNlID0gYXdhaXQgY3JlYXRlU3VwYWJhc2VDbGllbnQoKTtcclxuICBcclxuICB0cnkge1xyXG4gICAgLy8gQ2hlY2sgYWRtaW4gYWNjZXNzXHJcbiAgICBjb25zdCBhZG1pbkNoZWNrID0gYXdhaXQgaXNBZG1pbihzdXBhYmFzZSk7XHJcbiAgICBpZiAoIWFkbWluQ2hlY2spIHtcclxuICAgICAgcmV0dXJuIHsgZGF0YTogbnVsbCwgZXJyb3I6ICdBY2Nlc3MgZGVuaWVkLiBBZG1pbiBvciB0ZWFjaGVyIHJvbGUgcmVxdWlyZWQuJyB9O1xyXG4gICAgfVxyXG5cclxuICAgIC8vIFBhcnNlIHRoZSBZb3VUdWJlIFVSTFxyXG4gICAgY29uc3QgcGFyc2VkID0gcGFyc2VZb3VUdWJlKHlvdXR1YmVVcmwpO1xyXG4gICAgaWYgKHBhcnNlZC5lcnJvcikge1xyXG4gICAgICByZXR1cm4geyBkYXRhOiBudWxsLCBlcnJvcjogcGFyc2VkLmVycm9yIH07XHJcbiAgICB9XHJcblxyXG4gICAgLy8gR2V0IHRoZSBoaWdoZXN0IG9yZGVyX2luZGV4IHRvIGRldGVybWluZSB0aGUgbmV3IHBvc2l0aW9uXHJcbiAgICBjb25zdCB7IGRhdGE6IGV4aXN0aW5nTGVzc29ucyB9ID0gYXdhaXQgc3VwYWJhc2VcclxuICAgICAgLmZyb20oJ2xlc3NvbnMnKVxyXG4gICAgICAuc2VsZWN0KCdvcmRlcl9pbmRleCcpXHJcbiAgICAgIC5lcSgnbW9kdWxlX2lkJywgbW9kdWxlSWQpXHJcbiAgICAgIC5vcmRlcignb3JkZXJfaW5kZXgnLCB7IGFzY2VuZGluZzogZmFsc2UgfSlcclxuICAgICAgLmxpbWl0KDEpO1xyXG5cclxuICAgIGNvbnN0IG5ld09yZGVySW5kZXggPSBleGlzdGluZ0xlc3NvbnMgJiYgZXhpc3RpbmdMZXNzb25zLmxlbmd0aCA+IDAgXHJcbiAgICAgID8gZXhpc3RpbmdMZXNzb25zWzBdLm9yZGVyX2luZGV4ICsgMTAgXHJcbiAgICAgIDogMDtcclxuXHJcbiAgICBjb25zdCB7IGRhdGEsIGVycm9yIH0gPSBhd2FpdCBzdXBhYmFzZVxyXG4gICAgICAuZnJvbSgnbGVzc29ucycpXHJcbiAgICAgIC5pbnNlcnQoW3tcclxuICAgICAgICBtb2R1bGVfaWQ6IG1vZHVsZUlkLFxyXG4gICAgICAgIHRpdGxlLFxyXG4gICAgICAgIGRlc2NyaXB0aW9uLFxyXG4gICAgICAgIHlvdXR1YmVfdmlkZW9faWQ6IHBhcnNlZC52aWRlb0lkLFxyXG4gICAgICAgIHZpZGVvX3VybDogcGFyc2VkLmVtYmVkVXJsLFxyXG4gICAgICAgIG9yZGVyX2luZGV4OiBuZXdPcmRlckluZGV4LFxyXG4gICAgICAgIGlzX3ByZXZpZXc6IGZhbHNlLFxyXG4gICAgICAgIGlzX3B1Ymxpc2hlZDogdHJ1ZVxyXG4gICAgICB9XSlcclxuICAgICAgLnNlbGVjdCgpXHJcbiAgICAgIC5zaW5nbGUoKTtcclxuXHJcbiAgICBpZiAoZXJyb3IpIHtcclxuICAgICAgcmV0dXJuIHsgZGF0YTogbnVsbCwgZXJyb3I6IGVycm9yLm1lc3NhZ2UgfTtcclxuICAgIH1cclxuXHJcbiAgICAvLyBSZXZhbGlkYXRlIHRoZSBjYWNoZSB0byBlbnN1cmUgZnJvbnRlbmQgcmVmbGVjdHMgY2hhbmdlc1xyXG4gICAgcmV2YWxpZGF0ZVBhdGgoJy9jb3Vyc2VzJyk7XHJcbiAgICByZXZhbGlkYXRlUGF0aCgnL2Rhc2hib2FyZCcpO1xyXG4gICAgXHJcbiAgICByZXR1cm4geyBkYXRhLCBlcnJvcjogbnVsbCB9O1xyXG4gIH0gY2F0Y2ggKGVycm9yOiBhbnkpIHtcclxuICAgIHJldHVybiB7IGRhdGE6IG51bGwsIGVycm9yOiBlcnJvci5tZXNzYWdlIH07XHJcbiAgfVxyXG59XHJcblxyXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gdXBkYXRlTGVzc29uKFxyXG4gIGlkOiBzdHJpbmcsIFxyXG4gIHVwZGF0ZXM6IFBhcnRpYWw8T21pdDxMZXNzb24sICdpZCcgfCAnbW9kdWxlX2lkJyB8ICdjcmVhdGVkX2F0JyB8ICd1cGRhdGVkX2F0Jz4+XHJcbik6IFByb21pc2U8eyBkYXRhOiBMZXNzb24gfCBudWxsOyBlcnJvcjogc3RyaW5nIHwgbnVsbCB9PiB7XHJcbiAgY29uc3Qgc3VwYWJhc2UgPSBhd2FpdCBjcmVhdGVTdXBhYmFzZUNsaWVudCgpO1xyXG4gIFxyXG4gIHRyeSB7XHJcbiAgICAvLyBDaGVjayBhZG1pbiBhY2Nlc3NcclxuICAgIGNvbnN0IGFkbWluQ2hlY2sgPSBhd2FpdCBpc0FkbWluKHN1cGFiYXNlKTtcclxuICAgIGlmICghYWRtaW5DaGVjaykge1xyXG4gICAgICByZXR1cm4geyBkYXRhOiBudWxsLCBlcnJvcjogJ0FjY2VzcyBkZW5pZWQuIEFkbWluIG9yIHRlYWNoZXIgcm9sZSByZXF1aXJlZC4nIH07XHJcbiAgICB9XHJcblxyXG4gICAgLy8gSWYgdXBkYXRpbmcgWW91VHViZSBVUkwsIHBhcnNlIGl0IGZpcnN0XHJcbiAgICBpZiAodXBkYXRlcy52aWRlb191cmwpIHtcclxuICAgICAgY29uc3QgcGFyc2VkID0gcGFyc2VZb3VUdWJlKHVwZGF0ZXMudmlkZW9fdXJsKTtcclxuICAgICAgaWYgKHBhcnNlZC5lcnJvcikge1xyXG4gICAgICAgIHJldHVybiB7IGRhdGE6IG51bGwsIGVycm9yOiBwYXJzZWQuZXJyb3IgfTtcclxuICAgICAgfVxyXG4gICAgICB1cGRhdGVzLnlvdXR1YmVfdmlkZW9faWQgPSBwYXJzZWQudmlkZW9JZDtcclxuICAgICAgdXBkYXRlcy52aWRlb191cmwgPSBwYXJzZWQuZW1iZWRVcmw7XHJcbiAgICB9XHJcblxyXG4gICAgY29uc3QgeyBkYXRhLCBlcnJvciB9ID0gYXdhaXQgc3VwYWJhc2VcclxuICAgICAgLmZyb20oJ2xlc3NvbnMnKVxyXG4gICAgICAudXBkYXRlKHVwZGF0ZXMpXHJcbiAgICAgIC5lcSgnaWQnLCBpZClcclxuICAgICAgLnNlbGVjdCgpXHJcbiAgICAgIC5zaW5nbGUoKTtcclxuXHJcbiAgICBpZiAoZXJyb3IpIHtcclxuICAgICAgcmV0dXJuIHsgZGF0YTogbnVsbCwgZXJyb3I6IGVycm9yLm1lc3NhZ2UgfTtcclxuICAgIH1cclxuXHJcbiAgICAvLyBSZXZhbGlkYXRlIHRoZSBjYWNoZSB0byBlbnN1cmUgZnJvbnRlbmQgcmVmbGVjdHMgY2hhbmdlc1xyXG4gICAgcmV2YWxpZGF0ZVBhdGgoJy9jb3Vyc2VzJyk7XHJcbiAgICByZXZhbGlkYXRlUGF0aCgnL2Rhc2hib2FyZCcpO1xyXG4gICAgXHJcbiAgICByZXR1cm4geyBkYXRhLCBlcnJvcjogbnVsbCB9O1xyXG4gIH0gY2F0Y2ggKGVycm9yOiBhbnkpIHtcclxuICAgIHJldHVybiB7IGRhdGE6IG51bGwsIGVycm9yOiBlcnJvci5tZXNzYWdlIH07XHJcbiAgfVxyXG59XHJcblxyXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZGVsZXRlTGVzc29uKGlkOiBzdHJpbmcpOiBQcm9taXNlPHsgZXJyb3I6IHN0cmluZyB8IG51bGwgfT4ge1xyXG4gIGNvbnN0IHN1cGFiYXNlID0gYXdhaXQgY3JlYXRlU3VwYWJhc2VDbGllbnQoKTtcclxuICBcclxuICB0cnkge1xyXG4gICAgLy8gQ2hlY2sgYWRtaW4gYWNjZXNzXHJcbiAgICBjb25zdCBhZG1pbkNoZWNrID0gYXdhaXQgaXNBZG1pbihzdXBhYmFzZSk7XHJcbiAgICBpZiAoIWFkbWluQ2hlY2spIHtcclxuICAgICAgcmV0dXJuIHsgZXJyb3I6ICdBY2Nlc3MgZGVuaWVkLiBBZG1pbiBvciB0ZWFjaGVyIHJvbGUgcmVxdWlyZWQuJyB9O1xyXG4gICAgfVxyXG5cclxuICAgIGNvbnN0IHsgZXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlXHJcbiAgICAgIC5mcm9tKCdsZXNzb25zJylcclxuICAgICAgLmRlbGV0ZSgpXHJcbiAgICAgIC5lcSgnaWQnLCBpZCk7XHJcblxyXG4gICAgaWYgKGVycm9yKSB7XHJcbiAgICAgIHJldHVybiB7IGVycm9yOiBlcnJvci5tZXNzYWdlIH07XHJcbiAgICB9XHJcblxyXG4gICAgLy8gUmV2YWxpZGF0ZSB0aGUgY2FjaGUgdG8gZW5zdXJlIGZyb250ZW5kIHJlZmxlY3RzIGNoYW5nZXNcclxuICAgIHJldmFsaWRhdGVQYXRoKCcvY291cnNlcycpO1xyXG4gICAgcmV2YWxpZGF0ZVBhdGgoJy9kYXNoYm9hcmQnKTtcclxuICAgIFxyXG4gICAgcmV0dXJuIHsgZXJyb3I6IG51bGwgfTtcclxuICB9IGNhdGNoIChlcnJvcjogYW55KSB7XHJcbiAgICByZXR1cm4geyBlcnJvcjogZXJyb3IubWVzc2FnZSB9O1xyXG4gIH1cclxufVxyXG5cclxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIHJlb3JkZXJMZXNzb25zKG1vZHVsZUlkOiBzdHJpbmcsIGxlc3Nvbklkczogc3RyaW5nW10pOiBQcm9taXNlPHsgZXJyb3I6IHN0cmluZyB8IG51bGwgfT4ge1xyXG4gIGNvbnN0IHN1cGFiYXNlID0gYXdhaXQgY3JlYXRlU3VwYWJhc2VDbGllbnQoKTtcclxuICBcclxuICB0cnkge1xyXG4gICAgLy8gQ2hlY2sgYWRtaW4gYWNjZXNzXHJcbiAgICBjb25zdCBhZG1pbkNoZWNrID0gYXdhaXQgaXNBZG1pbihzdXBhYmFzZSk7XHJcbiAgICBpZiAoIWFkbWluQ2hlY2spIHtcclxuICAgICAgcmV0dXJuIHsgZXJyb3I6ICdBY2Nlc3MgZGVuaWVkLiBBZG1pbiBvciB0ZWFjaGVyIHJvbGUgcmVxdWlyZWQuJyB9O1xyXG4gICAgfVxyXG5cclxuICAgIC8vIFVwZGF0ZSBhbGwgbGVzc29ucyB3aXRoIHRoZWlyIG5ldyBwb3NpdGlvbnMgaW4gYSBzaW5nbGUgdHJhbnNhY3Rpb25cclxuICAgIGNvbnN0IHVwZGF0ZXMgPSBsZXNzb25JZHMubWFwKChpZCwgaW5kZXgpID0+ICh7XHJcbiAgICAgIGlkLFxyXG4gICAgICBvcmRlcl9pbmRleDogaW5kZXggKiAxMCAvLyBVc2UgaW5jcmVtZW50cyBvZiAxMCB0byBhbGxvdyBmb3IgZnV0dXJlIGluc2VydGlvbnMgYmV0d2VlbiBpdGVtc1xyXG4gICAgfSkpO1xyXG5cclxuICAgIC8vIFBlcmZvcm0gdXBkYXRlcyBpbiBhIGJhdGNoXHJcbiAgICBmb3IgKGNvbnN0IHVwZGF0ZSBvZiB1cGRhdGVzKSB7XHJcbiAgICAgIGNvbnN0IHsgZXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlXHJcbiAgICAgICAgLmZyb20oJ2xlc3NvbnMnKVxyXG4gICAgICAgIC51cGRhdGUoeyBvcmRlcl9pbmRleDogdXBkYXRlLm9yZGVyX2luZGV4IH0pXHJcbiAgICAgICAgLmVxKCdpZCcsIHVwZGF0ZS5pZClcclxuICAgICAgICAuZXEoJ21vZHVsZV9pZCcsIG1vZHVsZUlkKTsgLy8gQWRkaXRpb25hbCBzYWZldHkgY2hlY2tcclxuXHJcbiAgICAgIGlmIChlcnJvcikge1xyXG4gICAgICAgIHJldHVybiB7IGVycm9yOiBlcnJvci5tZXNzYWdlIH07XHJcbiAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvLyBSZXZhbGlkYXRlIHRoZSBjYWNoZSB0byBlbnN1cmUgZnJvbnRlbmQgcmVmbGVjdHMgY2hhbmdlc1xyXG4gICAgcmV2YWxpZGF0ZVBhdGgoJy9jb3Vyc2VzJyk7XHJcbiAgICByZXZhbGlkYXRlUGF0aCgnL2Rhc2hib2FyZCcpO1xyXG4gICAgXHJcbiAgICByZXR1cm4geyBlcnJvcjogbnVsbCB9O1xyXG4gIH0gY2F0Y2ggKGVycm9yOiBhbnkpIHtcclxuICAgIHJldHVybiB7IGVycm9yOiBlcnJvci5tZXNzYWdlIH07XHJcbiAgfVxyXG59Il0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI2UkFrSHNCLHlMQUFBIn0=
}),
"[project]/src/actions/data:4b2417 [app-ssr] (ecmascript) <text/javascript>", ((__turbopack_context__) => {
"use strict";

__turbopack_context__.s([
    "deleteCourse",
    ()=>$$RSC_SERVER_ACTION_3
]);
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$build$2f$webpack$2f$loaders$2f$next$2d$flight$2d$loader$2f$action$2d$client$2d$wrapper$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/next/dist/build/webpack/loaders/next-flight-loader/action-client-wrapper.js [app-ssr] (ecmascript)");
/* __next_internal_action_entry_do_not_use__ [{"40cada5192e4898fc97c2bec447f5f0c82920adcbf":"deleteCourse"},"src/actions/courseActions.ts",""] */ "use turbopack no side effects";
;
const $$RSC_SERVER_ACTION_3 = /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$build$2f$webpack$2f$loaders$2f$next$2d$flight$2d$loader$2f$action$2d$client$2d$wrapper$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["createServerReference"])("40cada5192e4898fc97c2bec447f5f0c82920adcbf", __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$build$2f$webpack$2f$loaders$2f$next$2d$flight$2d$loader$2f$action$2d$client$2d$wrapper$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["callServer"], void 0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$build$2f$webpack$2f$loaders$2f$next$2d$flight$2d$loader$2f$action$2d$client$2d$wrapper$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["findSourceMapURL"], "deleteCourse");
;
 //# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4vY291cnNlQWN0aW9ucy50cyJdLCJzb3VyY2VzQ29udGVudCI6WyIndXNlIHNlcnZlcidcclxuXHJcbmltcG9ydCB7IGNvb2tpZXMgfSBmcm9tICduZXh0L2hlYWRlcnMnO1xyXG5pbXBvcnQgeyBjcmVhdGVTZXJ2ZXJDbGllbnQgfSBmcm9tICdAc3VwYWJhc2Uvc3NyJztcclxuaW1wb3J0IHsgcmV2YWxpZGF0ZVBhdGggfSBmcm9tICduZXh0L2NhY2hlJztcclxuaW1wb3J0IHsgcGFyc2VZb3VUdWJlIH0gZnJvbSAnQC9saWIveW91dHViZVBhcnNlcic7XHJcblxyXG4vLyBUeXBlIGRlZmluaXRpb25zXHJcbnR5cGUgQ291cnNlID0ge1xyXG4gIGlkOiBzdHJpbmc7XHJcbiAgdGl0bGU6IHN0cmluZztcclxuICBkZXNjcmlwdGlvbjogc3RyaW5nO1xyXG4gIGlzX3B1Ymxpc2hlZDogYm9vbGVhbjtcclxuICBjcmVhdGVkX2F0OiBzdHJpbmc7XHJcbiAgdXBkYXRlZF9hdDogc3RyaW5nO1xyXG59O1xyXG5cclxudHlwZSBNb2R1bGUgPSB7XHJcbiAgaWQ6IHN0cmluZztcclxuICBjb3Vyc2VfaWQ6IHN0cmluZztcclxuICB0aXRsZTogc3RyaW5nO1xyXG4gIG9yZGVyX2luZGV4OiBudW1iZXI7XHJcbn07XHJcblxyXG50eXBlIExlc3NvbiA9IHtcclxuICBpZDogc3RyaW5nO1xyXG4gIG1vZHVsZV9pZDogc3RyaW5nO1xyXG4gIHRpdGxlOiBzdHJpbmc7XHJcbiAgZGVzY3JpcHRpb246IHN0cmluZztcclxuICBvcmRlcl9pbmRleDogbnVtYmVyO1xyXG4gIHZpZGVvX3Byb3ZpZGVyOiBzdHJpbmc7XHJcbiAgdmlkZW9fdXJsOiBzdHJpbmcgfCBudWxsO1xyXG4gIHlvdXR1YmVfdmlkZW9faWQ6IHN0cmluZyB8IG51bGw7XHJcbiAgaXNfcHJldmlldzogYm9vbGVhbjtcclxuICBpc19wdWJsaXNoZWQ6IGJvb2xlYW47XHJcbiAgY3JlYXRlZF9hdDogc3RyaW5nO1xyXG4gIHVwZGF0ZWRfYXQ6IHN0cmluZztcclxufTtcclxuXHJcbi8vIEhlbHBlciBmdW5jdGlvbiB0byBjcmVhdGUgU3VwYWJhc2UgY2xpZW50IGZvciBzZXJ2ZXIgYWN0aW9uc1xyXG5hc3luYyBmdW5jdGlvbiBjcmVhdGVTdXBhYmFzZUNsaWVudCgpIHtcclxuICBjb25zdCBjb29raWVTdG9yZSA9IGF3YWl0IGNvb2tpZXMoKTtcclxuICByZXR1cm4gY3JlYXRlU2VydmVyQ2xpZW50KFxyXG4gICAgcHJvY2Vzcy5lbnYuTkVYVF9QVUJMSUNfU1VQQUJBU0VfVVJMISxcclxuICAgIHByb2Nlc3MuZW52Lk5FWFRfUFVCTElDX1NVUEFCQVNFX0FOT05fS0VZISxcclxuICAgIHtcclxuICAgICAgY29va2llczoge1xyXG4gICAgICAgIGdldDogKG5hbWU6IHN0cmluZykgPT4ge1xyXG4gICAgICAgICAgY29uc3QgY29va2llID0gY29va2llU3RvcmUuZ2V0KG5hbWUpO1xyXG4gICAgICAgICAgcmV0dXJuIGNvb2tpZSA/IGNvb2tpZS52YWx1ZSA6IHVuZGVmaW5lZDtcclxuICAgICAgICB9LFxyXG4gICAgICB9LFxyXG4gICAgfVxyXG4gICk7XHJcbn1cclxuXHJcbi8vIENoZWNrIGlmIHVzZXIgaXMgYWRtaW5cclxuYXN5bmMgZnVuY3Rpb24gaXNBZG1pbihzdXBhYmFzZTogYW55KTogUHJvbWlzZTxib29sZWFuPiB7XHJcbiAgY29uc3Qge1xyXG4gICAgZGF0YTogeyB1c2VyIH0sXHJcbiAgICBlcnJvcjogdXNlckVycm9yLFxyXG4gIH0gPSBhd2FpdCBzdXBhYmFzZS5hdXRoLmdldFVzZXIoKTtcclxuXHJcbiAgaWYgKHVzZXJFcnJvciB8fCAhdXNlcikge1xyXG4gICAgcmV0dXJuIGZhbHNlO1xyXG4gIH1cclxuXHJcbiAgY29uc3QgeyBkYXRhOiBwcm9maWxlLCBlcnJvcjogcHJvZmlsZUVycm9yIH0gPSBhd2FpdCBzdXBhYmFzZVxyXG4gICAgLmZyb20oJ3Byb2ZpbGVzJylcclxuICAgIC5zZWxlY3QoJ3JvbGUnKVxyXG4gICAgLmVxKCdpZCcsIHVzZXIuaWQpXHJcbiAgICAuc2luZ2xlKCk7XHJcblxyXG4gIGlmIChwcm9maWxlRXJyb3IgfHwgIXByb2ZpbGUpIHtcclxuICAgIHJldHVybiBmYWxzZTtcclxuICB9XHJcblxyXG4gIHJldHVybiBwcm9maWxlLnJvbGUgPT09ICdhZG1pbicgfHwgcHJvZmlsZS5yb2xlID09PSAndGVhY2hlcic7XHJcbn1cclxuXHJcbi8vIENvdXJzZSBBY3Rpb25zXHJcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBsaXN0Q291cnNlcygpOiBQcm9taXNlPHsgZGF0YTogQ291cnNlW10gfCBudWxsOyBlcnJvcjogc3RyaW5nIHwgbnVsbCB9PiB7XHJcbiAgY29uc3Qgc3VwYWJhc2UgPSBhd2FpdCBjcmVhdGVTdXBhYmFzZUNsaWVudCgpO1xyXG4gIFxyXG4gIHRyeSB7XHJcbiAgICAvLyBDaGVjayBhZG1pbiBhY2Nlc3NcclxuICAgIGNvbnN0IGFkbWluQ2hlY2sgPSBhd2FpdCBpc0FkbWluKHN1cGFiYXNlKTtcclxuICAgIGlmICghYWRtaW5DaGVjaykge1xyXG4gICAgICBjb25zb2xlLmxvZygnREVCVUc6IGxpc3RDb3Vyc2VzIC0gQWNjZXNzIGRlbmllZCwgbm90IGFkbWluL3RlYWNoZXInKTtcclxuICAgICAgcmV0dXJuIHsgZGF0YTogbnVsbCwgZXJyb3I6ICdBY2Nlc3MgZGVuaWVkLiBBZG1pbiBvciB0ZWFjaGVyIHJvbGUgcmVxdWlyZWQuJyB9O1xyXG4gICAgfVxyXG4gICAgXHJcbiAgICBjb25zb2xlLmxvZygnREVCVUc6IGxpc3RDb3Vyc2VzIC0gRmV0Y2hpbmcgYWxsIGNvdXJzZXMgZm9yIGFkbWluJyk7XHJcbiAgICBcclxuICAgIGNvbnN0IHsgZGF0YSwgZXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlXHJcbiAgICAgIC5mcm9tKCdjb3Vyc2VzJylcclxuICAgICAgLnNlbGVjdCgnKicpXHJcbiAgICAgIC5vcmRlcignY3JlYXRlZF9hdCcsIHsgYXNjZW5kaW5nOiBmYWxzZSB9KTtcclxuICAgIFxyXG4gICAgY29uc29sZS5sb2coJ0RFQlVHOiBsaXN0Q291cnNlcyAtIFF1ZXJ5IHJlc3VsdDonLCB7IGRhdGE6IGRhdGE/Lmxlbmd0aCwgZXJyb3IgfSk7XHJcbiAgICBcclxuICAgIGlmIChlcnJvcikge1xyXG4gICAgICBjb25zb2xlLmVycm9yKCdERUJVRzogbGlzdENvdXJzZXMgLSBTdXBhYmFzZSBlcnJvcjonLCBlcnJvcik7XHJcbiAgICAgIHJldHVybiB7IGRhdGE6IG51bGwsIGVycm9yOiBlcnJvci5tZXNzYWdlIH07XHJcbiAgICB9XHJcblxyXG4gICAgY29uc29sZS5sb2coJ0RFQlVHOiBsaXN0Q291cnNlcyAtIFJldHVybmluZyBjb3Vyc2VzOicsIGRhdGE/Lmxlbmd0aCk7XHJcbiAgICByZXR1cm4geyBkYXRhLCBlcnJvcjogbnVsbCB9O1xyXG4gIH0gY2F0Y2ggKGVycm9yOiBhbnkpIHtcclxuICAgIGNvbnNvbGUuZXJyb3IoJ0RFQlVHOiBsaXN0Q291cnNlcyAtIEV4Y2VwdGlvbjonLCBlcnJvcik7XHJcbiAgICByZXR1cm4geyBkYXRhOiBudWxsLCBlcnJvcjogZXJyb3IubWVzc2FnZSB9O1xyXG4gIH1cclxufVxyXG5cclxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGNyZWF0ZUNvdXJzZSh0aXRsZTogc3RyaW5nLCBkZXNjcmlwdGlvbjogc3RyaW5nKTogUHJvbWlzZTx7IGRhdGE6IENvdXJzZSB8IG51bGw7IGVycm9yOiBzdHJpbmcgfCBudWxsIH0+IHtcclxuICBjb25zdCBzdXBhYmFzZSA9IGF3YWl0IGNyZWF0ZVN1cGFiYXNlQ2xpZW50KCk7XHJcbiAgXHJcbiAgdHJ5IHtcclxuICAgIC8vIENoZWNrIGFkbWluIGFjY2Vzc1xyXG4gICAgY29uc3QgYWRtaW5DaGVjayA9IGF3YWl0IGlzQWRtaW4oc3VwYWJhc2UpO1xyXG4gICAgaWYgKCFhZG1pbkNoZWNrKSB7XHJcbiAgICAgIGNvbnNvbGUubG9nKCdERUJVRzogY3JlYXRlQ291cnNlIC0gQWNjZXNzIGRlbmllZCwgbm90IGFkbWluL3RlYWNoZXInKTtcclxuICAgICAgcmV0dXJuIHsgZGF0YTogbnVsbCwgZXJyb3I6ICdBY2Nlc3MgZGVuaWVkLiBBZG1pbiBvciB0ZWFjaGVyIHJvbGUgcmVxdWlyZWQuJyB9O1xyXG4gICAgfVxyXG4gICAgXHJcbiAgICBjb25zb2xlLmxvZygnREVCVUc6IGNyZWF0ZUNvdXJzZSAtIENyZWF0aW5nIGNvdXJzZTonLCB7IHRpdGxlLCBkZXNjcmlwdGlvbiB9KTtcclxuXHJcbiAgICBjb25zdCB7IGRhdGEsIGVycm9yIH0gPSBhd2FpdCBzdXBhYmFzZVxyXG4gICAgICAuZnJvbSgnY291cnNlcycpXHJcbiAgICAgIC5pbnNlcnQoW3sgdGl0bGUsIGRlc2NyaXB0aW9uIH1dKVxyXG4gICAgICAuc2VsZWN0KClcclxuICAgICAgLnNpbmdsZSgpO1xyXG4gICAgXHJcbiAgICBjb25zb2xlLmxvZygnREVCVUc6IGNyZWF0ZUNvdXJzZSAtIEluc2VydCByZXN1bHQ6JywgeyBkYXRhOiAhIWRhdGEsIGVycm9yIH0pO1xyXG5cclxuICAgIGlmIChlcnJvcikge1xyXG4gICAgICBjb25zb2xlLmVycm9yKCdERUJVRzogY3JlYXRlQ291cnNlIC0gU3VwYWJhc2UgZXJyb3I6JywgZXJyb3IpO1xyXG4gICAgICByZXR1cm4geyBkYXRhOiBudWxsLCBlcnJvcjogZXJyb3IubWVzc2FnZSB9O1xyXG4gICAgfVxyXG5cclxuICAgIC8vIFJldmFsaWRhdGUgdGhlIGNhY2hlIHRvIGVuc3VyZSBmcm9udGVuZCByZWZsZWN0cyBjaGFuZ2VzXHJcbiAgICByZXZhbGlkYXRlUGF0aCgnL2NvdXJzZXMnKTtcclxuICAgIHJldmFsaWRhdGVQYXRoKCcvZGFzaGJvYXJkJyk7XHJcbiAgICBcclxuICAgIGNvbnNvbGUubG9nKCdERUJVRzogY3JlYXRlQ291cnNlIC0gQ291cnNlIGNyZWF0ZWQgc3VjY2Vzc2Z1bGx5LCBjYWNoZSBpbnZhbGlkYXRlZCcpO1xyXG4gICAgXHJcbiAgICByZXR1cm4geyBkYXRhLCBlcnJvcjogbnVsbCB9O1xyXG4gIH0gY2F0Y2ggKGVycm9yOiBhbnkpIHtcclxuICAgIGNvbnNvbGUuZXJyb3IoJ0RFQlVHOiBjcmVhdGVDb3Vyc2UgLSBFeGNlcHRpb246JywgZXJyb3IpO1xyXG4gICAgcmV0dXJuIHsgZGF0YTogbnVsbCwgZXJyb3I6IGVycm9yLm1lc3NhZ2UgfTtcclxuICB9XHJcbn1cclxuXHJcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiB1cGRhdGVDb3Vyc2UoaWQ6IHN0cmluZywgdXBkYXRlczogUGFydGlhbDxDb3Vyc2U+KTogUHJvbWlzZTx7IGRhdGE6IENvdXJzZSB8IG51bGw7IGVycm9yOiBzdHJpbmcgfCBudWxsIH0+IHtcclxuICBjb25zdCBzdXBhYmFzZSA9IGF3YWl0IGNyZWF0ZVN1cGFiYXNlQ2xpZW50KCk7XHJcbiAgXHJcbiAgdHJ5IHtcclxuICAgIC8vIENoZWNrIGFkbWluIGFjY2Vzc1xyXG4gICAgY29uc3QgYWRtaW5DaGVjayA9IGF3YWl0IGlzQWRtaW4oc3VwYWJhc2UpO1xyXG4gICAgaWYgKCFhZG1pbkNoZWNrKSB7XHJcbiAgICAgIHJldHVybiB7IGRhdGE6IG51bGwsIGVycm9yOiAnQWNjZXNzIGRlbmllZC4gQWRtaW4gb3IgdGVhY2hlciByb2xlIHJlcXVpcmVkLicgfTtcclxuICAgIH1cclxuXHJcbiAgICBjb25zdCB7IGRhdGEsIGVycm9yIH0gPSBhd2FpdCBzdXBhYmFzZVxyXG4gICAgICAuZnJvbSgnY291cnNlcycpXHJcbiAgICAgIC51cGRhdGUodXBkYXRlcylcclxuICAgICAgLmVxKCdpZCcsIGlkKVxyXG4gICAgICAuc2VsZWN0KClcclxuICAgICAgLnNpbmdsZSgpO1xyXG5cclxuICAgIGlmIChlcnJvcikge1xyXG4gICAgICByZXR1cm4geyBkYXRhOiBudWxsLCBlcnJvcjogZXJyb3IubWVzc2FnZSB9O1xyXG4gICAgfVxyXG5cclxuICAgIC8vIFJldmFsaWRhdGUgdGhlIGNhY2hlIHRvIGVuc3VyZSBmcm9udGVuZCByZWZsZWN0cyBjaGFuZ2VzXHJcbiAgICByZXZhbGlkYXRlUGF0aCgnL2NvdXJzZXMnKTtcclxuICAgIHJldmFsaWRhdGVQYXRoKCcvZGFzaGJvYXJkJyk7XHJcbiAgICBcclxuICAgIHJldHVybiB7IGRhdGEsIGVycm9yOiBudWxsIH07XHJcbiAgfSBjYXRjaCAoZXJyb3I6IGFueSkge1xyXG4gICAgcmV0dXJuIHsgZGF0YTogbnVsbCwgZXJyb3I6IGVycm9yLm1lc3NhZ2UgfTtcclxuICB9XHJcbn1cclxuXHJcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBkZWxldGVDb3Vyc2UoaWQ6IHN0cmluZyk6IFByb21pc2U8eyBlcnJvcjogc3RyaW5nIHwgbnVsbCB9PiB7XHJcbiAgY29uc3Qgc3VwYWJhc2UgPSBhd2FpdCBjcmVhdGVTdXBhYmFzZUNsaWVudCgpO1xyXG4gIFxyXG4gIHRyeSB7XHJcbiAgICAvLyBDaGVjayBhZG1pbiBhY2Nlc3NcclxuICAgIGNvbnN0IGFkbWluQ2hlY2sgPSBhd2FpdCBpc0FkbWluKHN1cGFiYXNlKTtcclxuICAgIGlmICghYWRtaW5DaGVjaykge1xyXG4gICAgICByZXR1cm4geyBlcnJvcjogJ0FjY2VzcyBkZW5pZWQuIEFkbWluIG9yIHRlYWNoZXIgcm9sZSByZXF1aXJlZC4nIH07XHJcbiAgICB9XHJcblxyXG4gICAgY29uc3QgeyBlcnJvciB9ID0gYXdhaXQgc3VwYWJhc2VcclxuICAgICAgLmZyb20oJ2NvdXJzZXMnKVxyXG4gICAgICAuZGVsZXRlKClcclxuICAgICAgLmVxKCdpZCcsIGlkKTtcclxuXHJcbiAgICBpZiAoZXJyb3IpIHtcclxuICAgICAgcmV0dXJuIHsgZXJyb3I6IGVycm9yLm1lc3NhZ2UgfTtcclxuICAgIH1cclxuXHJcbiAgICAvLyBSZXZhbGlkYXRlIHRoZSBjYWNoZSB0byBlbnN1cmUgZnJvbnRlbmQgcmVmbGVjdHMgY2hhbmdlc1xyXG4gICAgcmV2YWxpZGF0ZVBhdGgoJy9jb3Vyc2VzJyk7XHJcbiAgICByZXZhbGlkYXRlUGF0aCgnL2Rhc2hib2FyZCcpO1xyXG4gICAgXHJcbiAgICByZXR1cm4geyBlcnJvcjogbnVsbCB9O1xyXG4gIH0gY2F0Y2ggKGVycm9yOiBhbnkpIHtcclxuICAgIHJldHVybiB7IGVycm9yOiBlcnJvci5tZXNzYWdlIH07XHJcbiAgfVxyXG59XHJcblxyXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gcHVibGlzaENvdXJzZShpZDogc3RyaW5nLCBpc1B1Ymxpc2hlZDogYm9vbGVhbik6IFByb21pc2U8eyBkYXRhOiBDb3Vyc2UgfCBudWxsOyBlcnJvcjogc3RyaW5nIHwgbnVsbCB9PiB7XHJcbiAgY29uc3Qgc3VwYWJhc2UgPSBhd2FpdCBjcmVhdGVTdXBhYmFzZUNsaWVudCgpO1xyXG4gIFxyXG4gIHRyeSB7XHJcbiAgICAvLyBDaGVjayBhZG1pbiBhY2Nlc3NcclxuICAgIGNvbnN0IGFkbWluQ2hlY2sgPSBhd2FpdCBpc0FkbWluKHN1cGFiYXNlKTtcclxuICAgIGlmICghYWRtaW5DaGVjaykge1xyXG4gICAgICByZXR1cm4geyBkYXRhOiBudWxsLCBlcnJvcjogJ0FjY2VzcyBkZW5pZWQuIEFkbWluIG9yIHRlYWNoZXIgcm9sZSByZXF1aXJlZC4nIH07XHJcbiAgICB9XHJcblxyXG4gICAgY29uc3QgeyBkYXRhLCBlcnJvciB9ID0gYXdhaXQgc3VwYWJhc2VcclxuICAgICAgLmZyb20oJ2NvdXJzZXMnKVxyXG4gICAgICAudXBkYXRlKHsgaXNfcHVibGlzaGVkOiBpc1B1Ymxpc2hlZCB9KVxyXG4gICAgICAuZXEoJ2lkJywgaWQpXHJcbiAgICAgIC5zZWxlY3QoKVxyXG4gICAgICAuc2luZ2xlKCk7XHJcblxyXG4gICAgaWYgKGVycm9yKSB7XHJcbiAgICAgIHJldHVybiB7IGRhdGE6IG51bGwsIGVycm9yOiBlcnJvci5tZXNzYWdlIH07XHJcbiAgICB9XHJcblxyXG4gICAgLy8gUmV2YWxpZGF0ZSB0aGUgY2FjaGUgdG8gZW5zdXJlIGZyb250ZW5kIHJlZmxlY3RzIGNoYW5nZXNcclxuICAgIHJldmFsaWRhdGVQYXRoKCcvY291cnNlcycpO1xyXG4gICAgcmV2YWxpZGF0ZVBhdGgoJy9kYXNoYm9hcmQnKTtcclxuICAgIFxyXG4gICAgcmV0dXJuIHsgZGF0YSwgZXJyb3I6IG51bGwgfTtcclxuICB9IGNhdGNoIChlcnJvcjogYW55KSB7XHJcbiAgICByZXR1cm4geyBkYXRhOiBudWxsLCBlcnJvcjogZXJyb3IubWVzc2FnZSB9O1xyXG4gIH1cclxufVxyXG5cclxuLy8gTW9kdWxlIEFjdGlvbnNcclxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGxpc3RNb2R1bGVzKGNvdXJzZUlkOiBzdHJpbmcpOiBQcm9taXNlPHsgZGF0YTogTW9kdWxlW10gfCBudWxsOyBlcnJvcjogc3RyaW5nIHwgbnVsbCB9PiB7XHJcbiAgY29uc3Qgc3VwYWJhc2UgPSBhd2FpdCBjcmVhdGVTdXBhYmFzZUNsaWVudCgpO1xyXG4gIFxyXG4gIHRyeSB7XHJcbiAgICAvLyBDaGVjayBhZG1pbiBhY2Nlc3NcclxuICAgIGNvbnN0IGFkbWluQ2hlY2sgPSBhd2FpdCBpc0FkbWluKHN1cGFiYXNlKTtcclxuICAgIGlmICghYWRtaW5DaGVjaykge1xyXG4gICAgICByZXR1cm4geyBkYXRhOiBudWxsLCBlcnJvcjogJ0FjY2VzcyBkZW5pZWQuIEFkbWluIG9yIHRlYWNoZXIgcm9sZSByZXF1aXJlZC4nIH07XHJcbiAgICB9XHJcblxyXG4gICAgY29uc3QgeyBkYXRhLCBlcnJvciB9ID0gYXdhaXQgc3VwYWJhc2VcclxuICAgICAgLmZyb20oJ21vZHVsZXMnKVxyXG4gICAgICAuc2VsZWN0KCcqJylcclxuICAgICAgLmVxKCdjb3Vyc2VfaWQnLCBjb3Vyc2VJZClcclxuICAgICAgLm9yZGVyKCdvcmRlcl9pbmRleCcsIHsgYXNjZW5kaW5nOiB0cnVlIH0pO1xyXG5cclxuICAgIGlmIChlcnJvcikge1xyXG4gICAgICByZXR1cm4geyBkYXRhOiBudWxsLCBlcnJvcjogZXJyb3IubWVzc2FnZSB9O1xyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiB7IGRhdGEsIGVycm9yOiBudWxsIH07XHJcbiAgfSBjYXRjaCAoZXJyb3I6IGFueSkge1xyXG4gICAgcmV0dXJuIHsgZGF0YTogbnVsbCwgZXJyb3I6IGVycm9yLm1lc3NhZ2UgfTtcclxuICB9XHJcbn1cclxuXHJcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBjcmVhdGVNb2R1bGUoY291cnNlSWQ6IHN0cmluZywgdGl0bGU6IHN0cmluZyk6IFByb21pc2U8eyBkYXRhOiBNb2R1bGUgfCBudWxsOyBlcnJvcjogc3RyaW5nIHwgbnVsbCB9PiB7XHJcbiAgY29uc3Qgc3VwYWJhc2UgPSBhd2FpdCBjcmVhdGVTdXBhYmFzZUNsaWVudCgpO1xyXG4gIFxyXG4gIHRyeSB7XHJcbiAgICAvLyBDaGVjayBhZG1pbiBhY2Nlc3NcclxuICAgIGNvbnN0IGFkbWluQ2hlY2sgPSBhd2FpdCBpc0FkbWluKHN1cGFiYXNlKTtcclxuICAgIGlmICghYWRtaW5DaGVjaykge1xyXG4gICAgICByZXR1cm4geyBkYXRhOiBudWxsLCBlcnJvcjogJ0FjY2VzcyBkZW5pZWQuIEFkbWluIG9yIHRlYWNoZXIgcm9sZSByZXF1aXJlZC4nIH07XHJcbiAgICB9XHJcblxyXG4gICAgLy8gR2V0IHRoZSBoaWdoZXN0IG9yZGVyX2luZGV4IHRvIGRldGVybWluZSB0aGUgbmV3IHBvc2l0aW9uXHJcbiAgICBjb25zdCB7IGRhdGE6IGV4aXN0aW5nTW9kdWxlcyB9ID0gYXdhaXQgc3VwYWJhc2VcclxuICAgICAgLmZyb20oJ21vZHVsZXMnKVxyXG4gICAgICAuc2VsZWN0KCdvcmRlcl9pbmRleCcpXHJcbiAgICAgIC5lcSgnY291cnNlX2lkJywgY291cnNlSWQpXHJcbiAgICAgIC5vcmRlcignb3JkZXJfaW5kZXgnLCB7IGFzY2VuZGluZzogZmFsc2UgfSlcclxuICAgICAgLmxpbWl0KDEpO1xyXG5cclxuICAgIGNvbnN0IG5ld09yZGVySW5kZXggPSBleGlzdGluZ01vZHVsZXMgJiYgZXhpc3RpbmdNb2R1bGVzLmxlbmd0aCA+IDAgXHJcbiAgICAgID8gZXhpc3RpbmdNb2R1bGVzWzBdLm9yZGVyX2luZGV4ICsgMTAgXHJcbiAgICAgIDogMDtcclxuXHJcbiAgICBjb25zdCB7IGRhdGEsIGVycm9yIH0gPSBhd2FpdCBzdXBhYmFzZVxyXG4gICAgICAuZnJvbSgnbW9kdWxlcycpXHJcbiAgICAgIC5pbnNlcnQoW3sgY291cnNlX2lkOiBjb3Vyc2VJZCwgdGl0bGUsIG9yZGVyX2luZGV4OiBuZXdPcmRlckluZGV4IH1dKVxyXG4gICAgICAuc2VsZWN0KClcclxuICAgICAgLnNpbmdsZSgpO1xyXG5cclxuICAgIGlmIChlcnJvcikge1xyXG4gICAgICByZXR1cm4geyBkYXRhOiBudWxsLCBlcnJvcjogZXJyb3IubWVzc2FnZSB9O1xyXG4gICAgfVxyXG5cclxuICAgIC8vIFJldmFsaWRhdGUgdGhlIGNhY2hlIHRvIGVuc3VyZSBmcm9udGVuZCByZWZsZWN0cyBjaGFuZ2VzXHJcbiAgICByZXZhbGlkYXRlUGF0aCgnL2NvdXJzZXMnKTtcclxuICAgIHJldmFsaWRhdGVQYXRoKCcvZGFzaGJvYXJkJyk7XHJcbiAgICBcclxuICAgIHJldHVybiB7IGRhdGEsIGVycm9yOiBudWxsIH07XHJcbiAgfSBjYXRjaCAoZXJyb3I6IGFueSkge1xyXG4gICAgcmV0dXJuIHsgZGF0YTogbnVsbCwgZXJyb3I6IGVycm9yLm1lc3NhZ2UgfTtcclxuICB9XHJcbn1cclxuXHJcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiB1cGRhdGVNb2R1bGUoaWQ6IHN0cmluZywgdXBkYXRlczogUGFydGlhbDxNb2R1bGU+KTogUHJvbWlzZTx7IGRhdGE6IE1vZHVsZSB8IG51bGw7IGVycm9yOiBzdHJpbmcgfCBudWxsIH0+IHtcclxuICBjb25zdCBzdXBhYmFzZSA9IGF3YWl0IGNyZWF0ZVN1cGFiYXNlQ2xpZW50KCk7XHJcbiAgXHJcbiAgdHJ5IHtcclxuICAgIC8vIENoZWNrIGFkbWluIGFjY2Vzc1xyXG4gICAgY29uc3QgYWRtaW5DaGVjayA9IGF3YWl0IGlzQWRtaW4oc3VwYWJhc2UpO1xyXG4gICAgaWYgKCFhZG1pbkNoZWNrKSB7XHJcbiAgICAgIHJldHVybiB7IGRhdGE6IG51bGwsIGVycm9yOiAnQWNjZXNzIGRlbmllZC4gQWRtaW4gb3IgdGVhY2hlciByb2xlIHJlcXVpcmVkLicgfTtcclxuICAgIH1cclxuXHJcbiAgICBjb25zdCB7IGRhdGEsIGVycm9yIH0gPSBhd2FpdCBzdXBhYmFzZVxyXG4gICAgICAuZnJvbSgnbW9kdWxlcycpXHJcbiAgICAgIC51cGRhdGUodXBkYXRlcylcclxuICAgICAgLmVxKCdpZCcsIGlkKVxyXG4gICAgICAuc2VsZWN0KClcclxuICAgICAgLnNpbmdsZSgpO1xyXG5cclxuICAgIGlmIChlcnJvcikge1xyXG4gICAgICByZXR1cm4geyBkYXRhOiBudWxsLCBlcnJvcjogZXJyb3IubWVzc2FnZSB9O1xyXG4gICAgfVxyXG5cclxuICAgIC8vIFJldmFsaWRhdGUgdGhlIGNhY2hlIHRvIGVuc3VyZSBmcm9udGVuZCByZWZsZWN0cyBjaGFuZ2VzXHJcbiAgICByZXZhbGlkYXRlUGF0aCgnL2NvdXJzZXMnKTtcclxuICAgIHJldmFsaWRhdGVQYXRoKCcvZGFzaGJvYXJkJyk7XHJcbiAgICBcclxuICAgIHJldHVybiB7IGRhdGEsIGVycm9yOiBudWxsIH07XHJcbiAgfSBjYXRjaCAoZXJyb3I6IGFueSkge1xyXG4gICAgcmV0dXJuIHsgZGF0YTogbnVsbCwgZXJyb3I6IGVycm9yLm1lc3NhZ2UgfTtcclxuICB9XHJcbn1cclxuXHJcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBkZWxldGVNb2R1bGUoaWQ6IHN0cmluZyk6IFByb21pc2U8eyBlcnJvcjogc3RyaW5nIHwgbnVsbCB9PiB7XHJcbiAgY29uc3Qgc3VwYWJhc2UgPSBhd2FpdCBjcmVhdGVTdXBhYmFzZUNsaWVudCgpO1xyXG4gIFxyXG4gIHRyeSB7XHJcbiAgICAvLyBDaGVjayBhZG1pbiBhY2Nlc3NcclxuICAgIGNvbnN0IGFkbWluQ2hlY2sgPSBhd2FpdCBpc0FkbWluKHN1cGFiYXNlKTtcclxuICAgIGlmICghYWRtaW5DaGVjaykge1xyXG4gICAgICByZXR1cm4geyBlcnJvcjogJ0FjY2VzcyBkZW5pZWQuIEFkbWluIG9yIHRlYWNoZXIgcm9sZSByZXF1aXJlZC4nIH07XHJcbiAgICB9XHJcblxyXG4gICAgY29uc3QgeyBlcnJvciB9ID0gYXdhaXQgc3VwYWJhc2VcclxuICAgICAgLmZyb20oJ21vZHVsZXMnKVxyXG4gICAgICAuZGVsZXRlKClcclxuICAgICAgLmVxKCdpZCcsIGlkKTtcclxuXHJcbiAgICBpZiAoZXJyb3IpIHtcclxuICAgICAgcmV0dXJuIHsgZXJyb3I6IGVycm9yLm1lc3NhZ2UgfTtcclxuICAgIH1cclxuXHJcbiAgICAvLyBSZXZhbGlkYXRlIHRoZSBjYWNoZSB0byBlbnN1cmUgZnJvbnRlbmQgcmVmbGVjdHMgY2hhbmdlc1xyXG4gICAgcmV2YWxpZGF0ZVBhdGgoJy9jb3Vyc2VzJyk7XHJcbiAgICByZXZhbGlkYXRlUGF0aCgnL2Rhc2hib2FyZCcpO1xyXG4gICAgXHJcbiAgICByZXR1cm4geyBlcnJvcjogbnVsbCB9O1xyXG4gIH0gY2F0Y2ggKGVycm9yOiBhbnkpIHtcclxuICAgIHJldHVybiB7IGVycm9yOiBlcnJvci5tZXNzYWdlIH07XHJcbiAgfVxyXG59XHJcblxyXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gcmVvcmRlck1vZHVsZXMoY291cnNlSWQ6IHN0cmluZywgbW9kdWxlSWRzOiBzdHJpbmdbXSk6IFByb21pc2U8eyBlcnJvcjogc3RyaW5nIHwgbnVsbCB9PiB7XHJcbiAgY29uc3Qgc3VwYWJhc2UgPSBhd2FpdCBjcmVhdGVTdXBhYmFzZUNsaWVudCgpO1xyXG4gIFxyXG4gIHRyeSB7XHJcbiAgICAvLyBDaGVjayBhZG1pbiBhY2Nlc3NcclxuICAgIGNvbnN0IGFkbWluQ2hlY2sgPSBhd2FpdCBpc0FkbWluKHN1cGFiYXNlKTtcclxuICAgIGlmICghYWRtaW5DaGVjaykge1xyXG4gICAgICByZXR1cm4geyBlcnJvcjogJ0FjY2VzcyBkZW5pZWQuIEFkbWluIG9yIHRlYWNoZXIgcm9sZSByZXF1aXJlZC4nIH07XHJcbiAgICB9XHJcblxyXG4gICAgLy8gVXBkYXRlIGFsbCBtb2R1bGVzIHdpdGggdGhlaXIgbmV3IHBvc2l0aW9ucyBpbiBhIHNpbmdsZSB0cmFuc2FjdGlvblxyXG4gICAgY29uc3QgdXBkYXRlcyA9IG1vZHVsZUlkcy5tYXAoKGlkLCBpbmRleCkgPT4gKHtcclxuICAgICAgaWQsXHJcbiAgICAgIG9yZGVyX2luZGV4OiBpbmRleCAqIDEwIC8vIFVzZSBpbmNyZW1lbnRzIG9mIDEwIHRvIGFsbG93IGZvciBmdXR1cmUgaW5zZXJ0aW9ucyBiZXR3ZWVuIGl0ZW1zXHJcbiAgICB9KSk7XHJcblxyXG4gICAgLy8gUGVyZm9ybSB1cGRhdGVzIGluIGEgYmF0Y2hcclxuICAgIGZvciAoY29uc3QgdXBkYXRlIG9mIHVwZGF0ZXMpIHtcclxuICAgICAgY29uc3QgeyBlcnJvciB9ID0gYXdhaXQgc3VwYWJhc2VcclxuICAgICAgICAuZnJvbSgnbW9kdWxlcycpXHJcbiAgICAgICAgLnVwZGF0ZSh7IG9yZGVyX2luZGV4OiB1cGRhdGUub3JkZXJfaW5kZXggfSlcclxuICAgICAgICAuZXEoJ2lkJywgdXBkYXRlLmlkKVxyXG4gICAgICAgIC5lcSgnY291cnNlX2lkJywgY291cnNlSWQpOyAvLyBBZGRpdGlvbmFsIHNhZmV0eSBjaGVja1xyXG5cclxuICAgICAgaWYgKGVycm9yKSB7XHJcbiAgICAgICAgcmV0dXJuIHsgZXJyb3I6IGVycm9yLm1lc3NhZ2UgfTtcclxuICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8vIFJldmFsaWRhdGUgdGhlIGNhY2hlIHRvIGVuc3VyZSBmcm9udGVuZCByZWZsZWN0cyBjaGFuZ2VzXHJcbiAgICByZXZhbGlkYXRlUGF0aCgnL2NvdXJzZXMnKTtcclxuICAgIHJldmFsaWRhdGVQYXRoKCcvZGFzaGJvYXJkJyk7XHJcbiAgICBcclxuICAgIHJldHVybiB7IGVycm9yOiBudWxsIH07XHJcbiAgfSBjYXRjaCAoZXJyb3I6IGFueSkge1xyXG4gICAgcmV0dXJuIHsgZXJyb3I6IGVycm9yLm1lc3NhZ2UgfTtcclxuICB9XHJcbn1cclxuXHJcbi8vIExlc3NvbiBBY3Rpb25zXHJcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBsaXN0TGVzc29ucyhtb2R1bGVJZDogc3RyaW5nKTogUHJvbWlzZTx7IGRhdGE6IExlc3NvbltdIHwgbnVsbDsgZXJyb3I6IHN0cmluZyB8IG51bGwgfT4ge1xyXG4gIGNvbnN0IHN1cGFiYXNlID0gYXdhaXQgY3JlYXRlU3VwYWJhc2VDbGllbnQoKTtcclxuICBcclxuICB0cnkge1xyXG4gICAgLy8gQ2hlY2sgYWRtaW4gYWNjZXNzXHJcbiAgICBjb25zdCBhZG1pbkNoZWNrID0gYXdhaXQgaXNBZG1pbihzdXBhYmFzZSk7XHJcbiAgICBpZiAoIWFkbWluQ2hlY2spIHtcclxuICAgICAgcmV0dXJuIHsgZGF0YTogbnVsbCwgZXJyb3I6ICdBY2Nlc3MgZGVuaWVkLiBBZG1pbiBvciB0ZWFjaGVyIHJvbGUgcmVxdWlyZWQuJyB9O1xyXG4gICAgfVxyXG5cclxuICAgIGNvbnN0IHsgZGF0YSwgZXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlXHJcbiAgICAgIC5mcm9tKCdsZXNzb25zJylcclxuICAgICAgLnNlbGVjdCgnKicpXHJcbiAgICAgIC5lcSgnbW9kdWxlX2lkJywgbW9kdWxlSWQpXHJcbiAgICAgIC5vcmRlcignb3JkZXJfaW5kZXgnLCB7IGFzY2VuZGluZzogdHJ1ZSB9KTtcclxuXHJcbiAgICBpZiAoZXJyb3IpIHtcclxuICAgICAgcmV0dXJuIHsgZGF0YTogbnVsbCwgZXJyb3I6IGVycm9yLm1lc3NhZ2UgfTtcclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4geyBkYXRhLCBlcnJvcjogbnVsbCB9O1xyXG4gIH0gY2F0Y2ggKGVycm9yOiBhbnkpIHtcclxuICAgIHJldHVybiB7IGRhdGE6IG51bGwsIGVycm9yOiBlcnJvci5tZXNzYWdlIH07XHJcbiAgfVxyXG59XHJcblxyXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gY3JlYXRlTGVzc29uKFxyXG4gIG1vZHVsZUlkOiBzdHJpbmcsIFxyXG4gIHRpdGxlOiBzdHJpbmcsIFxyXG4gIGRlc2NyaXB0aW9uOiBzdHJpbmcsIFxyXG4gIHlvdXR1YmVVcmw6IHN0cmluZ1xyXG4pOiBQcm9taXNlPHsgZGF0YTogTGVzc29uIHwgbnVsbDsgZXJyb3I6IHN0cmluZyB8IG51bGwgfT4ge1xyXG4gIGNvbnN0IHN1cGFiYXNlID0gYXdhaXQgY3JlYXRlU3VwYWJhc2VDbGllbnQoKTtcclxuICBcclxuICB0cnkge1xyXG4gICAgLy8gQ2hlY2sgYWRtaW4gYWNjZXNzXHJcbiAgICBjb25zdCBhZG1pbkNoZWNrID0gYXdhaXQgaXNBZG1pbihzdXBhYmFzZSk7XHJcbiAgICBpZiAoIWFkbWluQ2hlY2spIHtcclxuICAgICAgcmV0dXJuIHsgZGF0YTogbnVsbCwgZXJyb3I6ICdBY2Nlc3MgZGVuaWVkLiBBZG1pbiBvciB0ZWFjaGVyIHJvbGUgcmVxdWlyZWQuJyB9O1xyXG4gICAgfVxyXG5cclxuICAgIC8vIFBhcnNlIHRoZSBZb3VUdWJlIFVSTFxyXG4gICAgY29uc3QgcGFyc2VkID0gcGFyc2VZb3VUdWJlKHlvdXR1YmVVcmwpO1xyXG4gICAgaWYgKHBhcnNlZC5lcnJvcikge1xyXG4gICAgICByZXR1cm4geyBkYXRhOiBudWxsLCBlcnJvcjogcGFyc2VkLmVycm9yIH07XHJcbiAgICB9XHJcblxyXG4gICAgLy8gR2V0IHRoZSBoaWdoZXN0IG9yZGVyX2luZGV4IHRvIGRldGVybWluZSB0aGUgbmV3IHBvc2l0aW9uXHJcbiAgICBjb25zdCB7IGRhdGE6IGV4aXN0aW5nTGVzc29ucyB9ID0gYXdhaXQgc3VwYWJhc2VcclxuICAgICAgLmZyb20oJ2xlc3NvbnMnKVxyXG4gICAgICAuc2VsZWN0KCdvcmRlcl9pbmRleCcpXHJcbiAgICAgIC5lcSgnbW9kdWxlX2lkJywgbW9kdWxlSWQpXHJcbiAgICAgIC5vcmRlcignb3JkZXJfaW5kZXgnLCB7IGFzY2VuZGluZzogZmFsc2UgfSlcclxuICAgICAgLmxpbWl0KDEpO1xyXG5cclxuICAgIGNvbnN0IG5ld09yZGVySW5kZXggPSBleGlzdGluZ0xlc3NvbnMgJiYgZXhpc3RpbmdMZXNzb25zLmxlbmd0aCA+IDAgXHJcbiAgICAgID8gZXhpc3RpbmdMZXNzb25zWzBdLm9yZGVyX2luZGV4ICsgMTAgXHJcbiAgICAgIDogMDtcclxuXHJcbiAgICBjb25zdCB7IGRhdGEsIGVycm9yIH0gPSBhd2FpdCBzdXBhYmFzZVxyXG4gICAgICAuZnJvbSgnbGVzc29ucycpXHJcbiAgICAgIC5pbnNlcnQoW3tcclxuICAgICAgICBtb2R1bGVfaWQ6IG1vZHVsZUlkLFxyXG4gICAgICAgIHRpdGxlLFxyXG4gICAgICAgIGRlc2NyaXB0aW9uLFxyXG4gICAgICAgIHlvdXR1YmVfdmlkZW9faWQ6IHBhcnNlZC52aWRlb0lkLFxyXG4gICAgICAgIHZpZGVvX3VybDogcGFyc2VkLmVtYmVkVXJsLFxyXG4gICAgICAgIG9yZGVyX2luZGV4OiBuZXdPcmRlckluZGV4LFxyXG4gICAgICAgIGlzX3ByZXZpZXc6IGZhbHNlLFxyXG4gICAgICAgIGlzX3B1Ymxpc2hlZDogdHJ1ZVxyXG4gICAgICB9XSlcclxuICAgICAgLnNlbGVjdCgpXHJcbiAgICAgIC5zaW5nbGUoKTtcclxuXHJcbiAgICBpZiAoZXJyb3IpIHtcclxuICAgICAgcmV0dXJuIHsgZGF0YTogbnVsbCwgZXJyb3I6IGVycm9yLm1lc3NhZ2UgfTtcclxuICAgIH1cclxuXHJcbiAgICAvLyBSZXZhbGlkYXRlIHRoZSBjYWNoZSB0byBlbnN1cmUgZnJvbnRlbmQgcmVmbGVjdHMgY2hhbmdlc1xyXG4gICAgcmV2YWxpZGF0ZVBhdGgoJy9jb3Vyc2VzJyk7XHJcbiAgICByZXZhbGlkYXRlUGF0aCgnL2Rhc2hib2FyZCcpO1xyXG4gICAgXHJcbiAgICByZXR1cm4geyBkYXRhLCBlcnJvcjogbnVsbCB9O1xyXG4gIH0gY2F0Y2ggKGVycm9yOiBhbnkpIHtcclxuICAgIHJldHVybiB7IGRhdGE6IG51bGwsIGVycm9yOiBlcnJvci5tZXNzYWdlIH07XHJcbiAgfVxyXG59XHJcblxyXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gdXBkYXRlTGVzc29uKFxyXG4gIGlkOiBzdHJpbmcsIFxyXG4gIHVwZGF0ZXM6IFBhcnRpYWw8T21pdDxMZXNzb24sICdpZCcgfCAnbW9kdWxlX2lkJyB8ICdjcmVhdGVkX2F0JyB8ICd1cGRhdGVkX2F0Jz4+XHJcbik6IFByb21pc2U8eyBkYXRhOiBMZXNzb24gfCBudWxsOyBlcnJvcjogc3RyaW5nIHwgbnVsbCB9PiB7XHJcbiAgY29uc3Qgc3VwYWJhc2UgPSBhd2FpdCBjcmVhdGVTdXBhYmFzZUNsaWVudCgpO1xyXG4gIFxyXG4gIHRyeSB7XHJcbiAgICAvLyBDaGVjayBhZG1pbiBhY2Nlc3NcclxuICAgIGNvbnN0IGFkbWluQ2hlY2sgPSBhd2FpdCBpc0FkbWluKHN1cGFiYXNlKTtcclxuICAgIGlmICghYWRtaW5DaGVjaykge1xyXG4gICAgICByZXR1cm4geyBkYXRhOiBudWxsLCBlcnJvcjogJ0FjY2VzcyBkZW5pZWQuIEFkbWluIG9yIHRlYWNoZXIgcm9sZSByZXF1aXJlZC4nIH07XHJcbiAgICB9XHJcblxyXG4gICAgLy8gSWYgdXBkYXRpbmcgWW91VHViZSBVUkwsIHBhcnNlIGl0IGZpcnN0XHJcbiAgICBpZiAodXBkYXRlcy52aWRlb191cmwpIHtcclxuICAgICAgY29uc3QgcGFyc2VkID0gcGFyc2VZb3VUdWJlKHVwZGF0ZXMudmlkZW9fdXJsKTtcclxuICAgICAgaWYgKHBhcnNlZC5lcnJvcikge1xyXG4gICAgICAgIHJldHVybiB7IGRhdGE6IG51bGwsIGVycm9yOiBwYXJzZWQuZXJyb3IgfTtcclxuICAgICAgfVxyXG4gICAgICB1cGRhdGVzLnlvdXR1YmVfdmlkZW9faWQgPSBwYXJzZWQudmlkZW9JZDtcclxuICAgICAgdXBkYXRlcy52aWRlb191cmwgPSBwYXJzZWQuZW1iZWRVcmw7XHJcbiAgICB9XHJcblxyXG4gICAgY29uc3QgeyBkYXRhLCBlcnJvciB9ID0gYXdhaXQgc3VwYWJhc2VcclxuICAgICAgLmZyb20oJ2xlc3NvbnMnKVxyXG4gICAgICAudXBkYXRlKHVwZGF0ZXMpXHJcbiAgICAgIC5lcSgnaWQnLCBpZClcclxuICAgICAgLnNlbGVjdCgpXHJcbiAgICAgIC5zaW5nbGUoKTtcclxuXHJcbiAgICBpZiAoZXJyb3IpIHtcclxuICAgICAgcmV0dXJuIHsgZGF0YTogbnVsbCwgZXJyb3I6IGVycm9yLm1lc3NhZ2UgfTtcclxuICAgIH1cclxuXHJcbiAgICAvLyBSZXZhbGlkYXRlIHRoZSBjYWNoZSB0byBlbnN1cmUgZnJvbnRlbmQgcmVmbGVjdHMgY2hhbmdlc1xyXG4gICAgcmV2YWxpZGF0ZVBhdGgoJy9jb3Vyc2VzJyk7XHJcbiAgICByZXZhbGlkYXRlUGF0aCgnL2Rhc2hib2FyZCcpO1xyXG4gICAgXHJcbiAgICByZXR1cm4geyBkYXRhLCBlcnJvcjogbnVsbCB9O1xyXG4gIH0gY2F0Y2ggKGVycm9yOiBhbnkpIHtcclxuICAgIHJldHVybiB7IGRhdGE6IG51bGwsIGVycm9yOiBlcnJvci5tZXNzYWdlIH07XHJcbiAgfVxyXG59XHJcblxyXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZGVsZXRlTGVzc29uKGlkOiBzdHJpbmcpOiBQcm9taXNlPHsgZXJyb3I6IHN0cmluZyB8IG51bGwgfT4ge1xyXG4gIGNvbnN0IHN1cGFiYXNlID0gYXdhaXQgY3JlYXRlU3VwYWJhc2VDbGllbnQoKTtcclxuICBcclxuICB0cnkge1xyXG4gICAgLy8gQ2hlY2sgYWRtaW4gYWNjZXNzXHJcbiAgICBjb25zdCBhZG1pbkNoZWNrID0gYXdhaXQgaXNBZG1pbihzdXBhYmFzZSk7XHJcbiAgICBpZiAoIWFkbWluQ2hlY2spIHtcclxuICAgICAgcmV0dXJuIHsgZXJyb3I6ICdBY2Nlc3MgZGVuaWVkLiBBZG1pbiBvciB0ZWFjaGVyIHJvbGUgcmVxdWlyZWQuJyB9O1xyXG4gICAgfVxyXG5cclxuICAgIGNvbnN0IHsgZXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlXHJcbiAgICAgIC5mcm9tKCdsZXNzb25zJylcclxuICAgICAgLmRlbGV0ZSgpXHJcbiAgICAgIC5lcSgnaWQnLCBpZCk7XHJcblxyXG4gICAgaWYgKGVycm9yKSB7XHJcbiAgICAgIHJldHVybiB7IGVycm9yOiBlcnJvci5tZXNzYWdlIH07XHJcbiAgICB9XHJcblxyXG4gICAgLy8gUmV2YWxpZGF0ZSB0aGUgY2FjaGUgdG8gZW5zdXJlIGZyb250ZW5kIHJlZmxlY3RzIGNoYW5nZXNcclxuICAgIHJldmFsaWRhdGVQYXRoKCcvY291cnNlcycpO1xyXG4gICAgcmV2YWxpZGF0ZVBhdGgoJy9kYXNoYm9hcmQnKTtcclxuICAgIFxyXG4gICAgcmV0dXJuIHsgZXJyb3I6IG51bGwgfTtcclxuICB9IGNhdGNoIChlcnJvcjogYW55KSB7XHJcbiAgICByZXR1cm4geyBlcnJvcjogZXJyb3IubWVzc2FnZSB9O1xyXG4gIH1cclxufVxyXG5cclxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIHJlb3JkZXJMZXNzb25zKG1vZHVsZUlkOiBzdHJpbmcsIGxlc3Nvbklkczogc3RyaW5nW10pOiBQcm9taXNlPHsgZXJyb3I6IHN0cmluZyB8IG51bGwgfT4ge1xyXG4gIGNvbnN0IHN1cGFiYXNlID0gYXdhaXQgY3JlYXRlU3VwYWJhc2VDbGllbnQoKTtcclxuICBcclxuICB0cnkge1xyXG4gICAgLy8gQ2hlY2sgYWRtaW4gYWNjZXNzXHJcbiAgICBjb25zdCBhZG1pbkNoZWNrID0gYXdhaXQgaXNBZG1pbihzdXBhYmFzZSk7XHJcbiAgICBpZiAoIWFkbWluQ2hlY2spIHtcclxuICAgICAgcmV0dXJuIHsgZXJyb3I6ICdBY2Nlc3MgZGVuaWVkLiBBZG1pbiBvciB0ZWFjaGVyIHJvbGUgcmVxdWlyZWQuJyB9O1xyXG4gICAgfVxyXG5cclxuICAgIC8vIFVwZGF0ZSBhbGwgbGVzc29ucyB3aXRoIHRoZWlyIG5ldyBwb3NpdGlvbnMgaW4gYSBzaW5nbGUgdHJhbnNhY3Rpb25cclxuICAgIGNvbnN0IHVwZGF0ZXMgPSBsZXNzb25JZHMubWFwKChpZCwgaW5kZXgpID0+ICh7XHJcbiAgICAgIGlkLFxyXG4gICAgICBvcmRlcl9pbmRleDogaW5kZXggKiAxMCAvLyBVc2UgaW5jcmVtZW50cyBvZiAxMCB0byBhbGxvdyBmb3IgZnV0dXJlIGluc2VydGlvbnMgYmV0d2VlbiBpdGVtc1xyXG4gICAgfSkpO1xyXG5cclxuICAgIC8vIFBlcmZvcm0gdXBkYXRlcyBpbiBhIGJhdGNoXHJcbiAgICBmb3IgKGNvbnN0IHVwZGF0ZSBvZiB1cGRhdGVzKSB7XHJcbiAgICAgIGNvbnN0IHsgZXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlXHJcbiAgICAgICAgLmZyb20oJ2xlc3NvbnMnKVxyXG4gICAgICAgIC51cGRhdGUoeyBvcmRlcl9pbmRleDogdXBkYXRlLm9yZGVyX2luZGV4IH0pXHJcbiAgICAgICAgLmVxKCdpZCcsIHVwZGF0ZS5pZClcclxuICAgICAgICAuZXEoJ21vZHVsZV9pZCcsIG1vZHVsZUlkKTsgLy8gQWRkaXRpb25hbCBzYWZldHkgY2hlY2tcclxuXHJcbiAgICAgIGlmIChlcnJvcikge1xyXG4gICAgICAgIHJldHVybiB7IGVycm9yOiBlcnJvci5tZXNzYWdlIH07XHJcbiAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvLyBSZXZhbGlkYXRlIHRoZSBjYWNoZSB0byBlbnN1cmUgZnJvbnRlbmQgcmVmbGVjdHMgY2hhbmdlc1xyXG4gICAgcmV2YWxpZGF0ZVBhdGgoJy9jb3Vyc2VzJyk7XHJcbiAgICByZXZhbGlkYXRlUGF0aCgnL2Rhc2hib2FyZCcpO1xyXG4gICAgXHJcbiAgICByZXR1cm4geyBlcnJvcjogbnVsbCB9O1xyXG4gIH0gY2F0Y2ggKGVycm9yOiBhbnkpIHtcclxuICAgIHJldHVybiB7IGVycm9yOiBlcnJvci5tZXNzYWdlIH07XHJcbiAgfVxyXG59Il0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI2UkF3THNCLHlMQUFBIn0=
}),
"[project]/src/actions/data:ec67c2 [app-ssr] (ecmascript) <text/javascript>", ((__turbopack_context__) => {
"use strict";

__turbopack_context__.s([
    "publishCourse",
    ()=>$$RSC_SERVER_ACTION_4
]);
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$build$2f$webpack$2f$loaders$2f$next$2d$flight$2d$loader$2f$action$2d$client$2d$wrapper$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/next/dist/build/webpack/loaders/next-flight-loader/action-client-wrapper.js [app-ssr] (ecmascript)");
/* __next_internal_action_entry_do_not_use__ [{"605841422bbcd60441154894f36579b80e85d9fcc3":"publishCourse"},"src/actions/courseActions.ts",""] */ "use turbopack no side effects";
;
const $$RSC_SERVER_ACTION_4 = /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$build$2f$webpack$2f$loaders$2f$next$2d$flight$2d$loader$2f$action$2d$client$2d$wrapper$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["createServerReference"])("605841422bbcd60441154894f36579b80e85d9fcc3", __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$build$2f$webpack$2f$loaders$2f$next$2d$flight$2d$loader$2f$action$2d$client$2d$wrapper$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["callServer"], void 0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$build$2f$webpack$2f$loaders$2f$next$2d$flight$2d$loader$2f$action$2d$client$2d$wrapper$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["findSourceMapURL"], "publishCourse");
;
 //# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4vY291cnNlQWN0aW9ucy50cyJdLCJzb3VyY2VzQ29udGVudCI6WyIndXNlIHNlcnZlcidcclxuXHJcbmltcG9ydCB7IGNvb2tpZXMgfSBmcm9tICduZXh0L2hlYWRlcnMnO1xyXG5pbXBvcnQgeyBjcmVhdGVTZXJ2ZXJDbGllbnQgfSBmcm9tICdAc3VwYWJhc2Uvc3NyJztcclxuaW1wb3J0IHsgcmV2YWxpZGF0ZVBhdGggfSBmcm9tICduZXh0L2NhY2hlJztcclxuaW1wb3J0IHsgcGFyc2VZb3VUdWJlIH0gZnJvbSAnQC9saWIveW91dHViZVBhcnNlcic7XHJcblxyXG4vLyBUeXBlIGRlZmluaXRpb25zXHJcbnR5cGUgQ291cnNlID0ge1xyXG4gIGlkOiBzdHJpbmc7XHJcbiAgdGl0bGU6IHN0cmluZztcclxuICBkZXNjcmlwdGlvbjogc3RyaW5nO1xyXG4gIGlzX3B1Ymxpc2hlZDogYm9vbGVhbjtcclxuICBjcmVhdGVkX2F0OiBzdHJpbmc7XHJcbiAgdXBkYXRlZF9hdDogc3RyaW5nO1xyXG59O1xyXG5cclxudHlwZSBNb2R1bGUgPSB7XHJcbiAgaWQ6IHN0cmluZztcclxuICBjb3Vyc2VfaWQ6IHN0cmluZztcclxuICB0aXRsZTogc3RyaW5nO1xyXG4gIG9yZGVyX2luZGV4OiBudW1iZXI7XHJcbn07XHJcblxyXG50eXBlIExlc3NvbiA9IHtcclxuICBpZDogc3RyaW5nO1xyXG4gIG1vZHVsZV9pZDogc3RyaW5nO1xyXG4gIHRpdGxlOiBzdHJpbmc7XHJcbiAgZGVzY3JpcHRpb246IHN0cmluZztcclxuICBvcmRlcl9pbmRleDogbnVtYmVyO1xyXG4gIHZpZGVvX3Byb3ZpZGVyOiBzdHJpbmc7XHJcbiAgdmlkZW9fdXJsOiBzdHJpbmcgfCBudWxsO1xyXG4gIHlvdXR1YmVfdmlkZW9faWQ6IHN0cmluZyB8IG51bGw7XHJcbiAgaXNfcHJldmlldzogYm9vbGVhbjtcclxuICBpc19wdWJsaXNoZWQ6IGJvb2xlYW47XHJcbiAgY3JlYXRlZF9hdDogc3RyaW5nO1xyXG4gIHVwZGF0ZWRfYXQ6IHN0cmluZztcclxufTtcclxuXHJcbi8vIEhlbHBlciBmdW5jdGlvbiB0byBjcmVhdGUgU3VwYWJhc2UgY2xpZW50IGZvciBzZXJ2ZXIgYWN0aW9uc1xyXG5hc3luYyBmdW5jdGlvbiBjcmVhdGVTdXBhYmFzZUNsaWVudCgpIHtcclxuICBjb25zdCBjb29raWVTdG9yZSA9IGF3YWl0IGNvb2tpZXMoKTtcclxuICByZXR1cm4gY3JlYXRlU2VydmVyQ2xpZW50KFxyXG4gICAgcHJvY2Vzcy5lbnYuTkVYVF9QVUJMSUNfU1VQQUJBU0VfVVJMISxcclxuICAgIHByb2Nlc3MuZW52Lk5FWFRfUFVCTElDX1NVUEFCQVNFX0FOT05fS0VZISxcclxuICAgIHtcclxuICAgICAgY29va2llczoge1xyXG4gICAgICAgIGdldDogKG5hbWU6IHN0cmluZykgPT4ge1xyXG4gICAgICAgICAgY29uc3QgY29va2llID0gY29va2llU3RvcmUuZ2V0KG5hbWUpO1xyXG4gICAgICAgICAgcmV0dXJuIGNvb2tpZSA/IGNvb2tpZS52YWx1ZSA6IHVuZGVmaW5lZDtcclxuICAgICAgICB9LFxyXG4gICAgICB9LFxyXG4gICAgfVxyXG4gICk7XHJcbn1cclxuXHJcbi8vIENoZWNrIGlmIHVzZXIgaXMgYWRtaW5cclxuYXN5bmMgZnVuY3Rpb24gaXNBZG1pbihzdXBhYmFzZTogYW55KTogUHJvbWlzZTxib29sZWFuPiB7XHJcbiAgY29uc3Qge1xyXG4gICAgZGF0YTogeyB1c2VyIH0sXHJcbiAgICBlcnJvcjogdXNlckVycm9yLFxyXG4gIH0gPSBhd2FpdCBzdXBhYmFzZS5hdXRoLmdldFVzZXIoKTtcclxuXHJcbiAgaWYgKHVzZXJFcnJvciB8fCAhdXNlcikge1xyXG4gICAgcmV0dXJuIGZhbHNlO1xyXG4gIH1cclxuXHJcbiAgY29uc3QgeyBkYXRhOiBwcm9maWxlLCBlcnJvcjogcHJvZmlsZUVycm9yIH0gPSBhd2FpdCBzdXBhYmFzZVxyXG4gICAgLmZyb20oJ3Byb2ZpbGVzJylcclxuICAgIC5zZWxlY3QoJ3JvbGUnKVxyXG4gICAgLmVxKCdpZCcsIHVzZXIuaWQpXHJcbiAgICAuc2luZ2xlKCk7XHJcblxyXG4gIGlmIChwcm9maWxlRXJyb3IgfHwgIXByb2ZpbGUpIHtcclxuICAgIHJldHVybiBmYWxzZTtcclxuICB9XHJcblxyXG4gIHJldHVybiBwcm9maWxlLnJvbGUgPT09ICdhZG1pbicgfHwgcHJvZmlsZS5yb2xlID09PSAndGVhY2hlcic7XHJcbn1cclxuXHJcbi8vIENvdXJzZSBBY3Rpb25zXHJcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBsaXN0Q291cnNlcygpOiBQcm9taXNlPHsgZGF0YTogQ291cnNlW10gfCBudWxsOyBlcnJvcjogc3RyaW5nIHwgbnVsbCB9PiB7XHJcbiAgY29uc3Qgc3VwYWJhc2UgPSBhd2FpdCBjcmVhdGVTdXBhYmFzZUNsaWVudCgpO1xyXG4gIFxyXG4gIHRyeSB7XHJcbiAgICAvLyBDaGVjayBhZG1pbiBhY2Nlc3NcclxuICAgIGNvbnN0IGFkbWluQ2hlY2sgPSBhd2FpdCBpc0FkbWluKHN1cGFiYXNlKTtcclxuICAgIGlmICghYWRtaW5DaGVjaykge1xyXG4gICAgICBjb25zb2xlLmxvZygnREVCVUc6IGxpc3RDb3Vyc2VzIC0gQWNjZXNzIGRlbmllZCwgbm90IGFkbWluL3RlYWNoZXInKTtcclxuICAgICAgcmV0dXJuIHsgZGF0YTogbnVsbCwgZXJyb3I6ICdBY2Nlc3MgZGVuaWVkLiBBZG1pbiBvciB0ZWFjaGVyIHJvbGUgcmVxdWlyZWQuJyB9O1xyXG4gICAgfVxyXG4gICAgXHJcbiAgICBjb25zb2xlLmxvZygnREVCVUc6IGxpc3RDb3Vyc2VzIC0gRmV0Y2hpbmcgYWxsIGNvdXJzZXMgZm9yIGFkbWluJyk7XHJcbiAgICBcclxuICAgIGNvbnN0IHsgZGF0YSwgZXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlXHJcbiAgICAgIC5mcm9tKCdjb3Vyc2VzJylcclxuICAgICAgLnNlbGVjdCgnKicpXHJcbiAgICAgIC5vcmRlcignY3JlYXRlZF9hdCcsIHsgYXNjZW5kaW5nOiBmYWxzZSB9KTtcclxuICAgIFxyXG4gICAgY29uc29sZS5sb2coJ0RFQlVHOiBsaXN0Q291cnNlcyAtIFF1ZXJ5IHJlc3VsdDonLCB7IGRhdGE6IGRhdGE/Lmxlbmd0aCwgZXJyb3IgfSk7XHJcbiAgICBcclxuICAgIGlmIChlcnJvcikge1xyXG4gICAgICBjb25zb2xlLmVycm9yKCdERUJVRzogbGlzdENvdXJzZXMgLSBTdXBhYmFzZSBlcnJvcjonLCBlcnJvcik7XHJcbiAgICAgIHJldHVybiB7IGRhdGE6IG51bGwsIGVycm9yOiBlcnJvci5tZXNzYWdlIH07XHJcbiAgICB9XHJcblxyXG4gICAgY29uc29sZS5sb2coJ0RFQlVHOiBsaXN0Q291cnNlcyAtIFJldHVybmluZyBjb3Vyc2VzOicsIGRhdGE/Lmxlbmd0aCk7XHJcbiAgICByZXR1cm4geyBkYXRhLCBlcnJvcjogbnVsbCB9O1xyXG4gIH0gY2F0Y2ggKGVycm9yOiBhbnkpIHtcclxuICAgIGNvbnNvbGUuZXJyb3IoJ0RFQlVHOiBsaXN0Q291cnNlcyAtIEV4Y2VwdGlvbjonLCBlcnJvcik7XHJcbiAgICByZXR1cm4geyBkYXRhOiBudWxsLCBlcnJvcjogZXJyb3IubWVzc2FnZSB9O1xyXG4gIH1cclxufVxyXG5cclxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGNyZWF0ZUNvdXJzZSh0aXRsZTogc3RyaW5nLCBkZXNjcmlwdGlvbjogc3RyaW5nKTogUHJvbWlzZTx7IGRhdGE6IENvdXJzZSB8IG51bGw7IGVycm9yOiBzdHJpbmcgfCBudWxsIH0+IHtcclxuICBjb25zdCBzdXBhYmFzZSA9IGF3YWl0IGNyZWF0ZVN1cGFiYXNlQ2xpZW50KCk7XHJcbiAgXHJcbiAgdHJ5IHtcclxuICAgIC8vIENoZWNrIGFkbWluIGFjY2Vzc1xyXG4gICAgY29uc3QgYWRtaW5DaGVjayA9IGF3YWl0IGlzQWRtaW4oc3VwYWJhc2UpO1xyXG4gICAgaWYgKCFhZG1pbkNoZWNrKSB7XHJcbiAgICAgIGNvbnNvbGUubG9nKCdERUJVRzogY3JlYXRlQ291cnNlIC0gQWNjZXNzIGRlbmllZCwgbm90IGFkbWluL3RlYWNoZXInKTtcclxuICAgICAgcmV0dXJuIHsgZGF0YTogbnVsbCwgZXJyb3I6ICdBY2Nlc3MgZGVuaWVkLiBBZG1pbiBvciB0ZWFjaGVyIHJvbGUgcmVxdWlyZWQuJyB9O1xyXG4gICAgfVxyXG4gICAgXHJcbiAgICBjb25zb2xlLmxvZygnREVCVUc6IGNyZWF0ZUNvdXJzZSAtIENyZWF0aW5nIGNvdXJzZTonLCB7IHRpdGxlLCBkZXNjcmlwdGlvbiB9KTtcclxuXHJcbiAgICBjb25zdCB7IGRhdGEsIGVycm9yIH0gPSBhd2FpdCBzdXBhYmFzZVxyXG4gICAgICAuZnJvbSgnY291cnNlcycpXHJcbiAgICAgIC5pbnNlcnQoW3sgdGl0bGUsIGRlc2NyaXB0aW9uIH1dKVxyXG4gICAgICAuc2VsZWN0KClcclxuICAgICAgLnNpbmdsZSgpO1xyXG4gICAgXHJcbiAgICBjb25zb2xlLmxvZygnREVCVUc6IGNyZWF0ZUNvdXJzZSAtIEluc2VydCByZXN1bHQ6JywgeyBkYXRhOiAhIWRhdGEsIGVycm9yIH0pO1xyXG5cclxuICAgIGlmIChlcnJvcikge1xyXG4gICAgICBjb25zb2xlLmVycm9yKCdERUJVRzogY3JlYXRlQ291cnNlIC0gU3VwYWJhc2UgZXJyb3I6JywgZXJyb3IpO1xyXG4gICAgICByZXR1cm4geyBkYXRhOiBudWxsLCBlcnJvcjogZXJyb3IubWVzc2FnZSB9O1xyXG4gICAgfVxyXG5cclxuICAgIC8vIFJldmFsaWRhdGUgdGhlIGNhY2hlIHRvIGVuc3VyZSBmcm9udGVuZCByZWZsZWN0cyBjaGFuZ2VzXHJcbiAgICByZXZhbGlkYXRlUGF0aCgnL2NvdXJzZXMnKTtcclxuICAgIHJldmFsaWRhdGVQYXRoKCcvZGFzaGJvYXJkJyk7XHJcbiAgICBcclxuICAgIGNvbnNvbGUubG9nKCdERUJVRzogY3JlYXRlQ291cnNlIC0gQ291cnNlIGNyZWF0ZWQgc3VjY2Vzc2Z1bGx5LCBjYWNoZSBpbnZhbGlkYXRlZCcpO1xyXG4gICAgXHJcbiAgICByZXR1cm4geyBkYXRhLCBlcnJvcjogbnVsbCB9O1xyXG4gIH0gY2F0Y2ggKGVycm9yOiBhbnkpIHtcclxuICAgIGNvbnNvbGUuZXJyb3IoJ0RFQlVHOiBjcmVhdGVDb3Vyc2UgLSBFeGNlcHRpb246JywgZXJyb3IpO1xyXG4gICAgcmV0dXJuIHsgZGF0YTogbnVsbCwgZXJyb3I6IGVycm9yLm1lc3NhZ2UgfTtcclxuICB9XHJcbn1cclxuXHJcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiB1cGRhdGVDb3Vyc2UoaWQ6IHN0cmluZywgdXBkYXRlczogUGFydGlhbDxDb3Vyc2U+KTogUHJvbWlzZTx7IGRhdGE6IENvdXJzZSB8IG51bGw7IGVycm9yOiBzdHJpbmcgfCBudWxsIH0+IHtcclxuICBjb25zdCBzdXBhYmFzZSA9IGF3YWl0IGNyZWF0ZVN1cGFiYXNlQ2xpZW50KCk7XHJcbiAgXHJcbiAgdHJ5IHtcclxuICAgIC8vIENoZWNrIGFkbWluIGFjY2Vzc1xyXG4gICAgY29uc3QgYWRtaW5DaGVjayA9IGF3YWl0IGlzQWRtaW4oc3VwYWJhc2UpO1xyXG4gICAgaWYgKCFhZG1pbkNoZWNrKSB7XHJcbiAgICAgIHJldHVybiB7IGRhdGE6IG51bGwsIGVycm9yOiAnQWNjZXNzIGRlbmllZC4gQWRtaW4gb3IgdGVhY2hlciByb2xlIHJlcXVpcmVkLicgfTtcclxuICAgIH1cclxuXHJcbiAgICBjb25zdCB7IGRhdGEsIGVycm9yIH0gPSBhd2FpdCBzdXBhYmFzZVxyXG4gICAgICAuZnJvbSgnY291cnNlcycpXHJcbiAgICAgIC51cGRhdGUodXBkYXRlcylcclxuICAgICAgLmVxKCdpZCcsIGlkKVxyXG4gICAgICAuc2VsZWN0KClcclxuICAgICAgLnNpbmdsZSgpO1xyXG5cclxuICAgIGlmIChlcnJvcikge1xyXG4gICAgICByZXR1cm4geyBkYXRhOiBudWxsLCBlcnJvcjogZXJyb3IubWVzc2FnZSB9O1xyXG4gICAgfVxyXG5cclxuICAgIC8vIFJldmFsaWRhdGUgdGhlIGNhY2hlIHRvIGVuc3VyZSBmcm9udGVuZCByZWZsZWN0cyBjaGFuZ2VzXHJcbiAgICByZXZhbGlkYXRlUGF0aCgnL2NvdXJzZXMnKTtcclxuICAgIHJldmFsaWRhdGVQYXRoKCcvZGFzaGJvYXJkJyk7XHJcbiAgICBcclxuICAgIHJldHVybiB7IGRhdGEsIGVycm9yOiBudWxsIH07XHJcbiAgfSBjYXRjaCAoZXJyb3I6IGFueSkge1xyXG4gICAgcmV0dXJuIHsgZGF0YTogbnVsbCwgZXJyb3I6IGVycm9yLm1lc3NhZ2UgfTtcclxuICB9XHJcbn1cclxuXHJcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBkZWxldGVDb3Vyc2UoaWQ6IHN0cmluZyk6IFByb21pc2U8eyBlcnJvcjogc3RyaW5nIHwgbnVsbCB9PiB7XHJcbiAgY29uc3Qgc3VwYWJhc2UgPSBhd2FpdCBjcmVhdGVTdXBhYmFzZUNsaWVudCgpO1xyXG4gIFxyXG4gIHRyeSB7XHJcbiAgICAvLyBDaGVjayBhZG1pbiBhY2Nlc3NcclxuICAgIGNvbnN0IGFkbWluQ2hlY2sgPSBhd2FpdCBpc0FkbWluKHN1cGFiYXNlKTtcclxuICAgIGlmICghYWRtaW5DaGVjaykge1xyXG4gICAgICByZXR1cm4geyBlcnJvcjogJ0FjY2VzcyBkZW5pZWQuIEFkbWluIG9yIHRlYWNoZXIgcm9sZSByZXF1aXJlZC4nIH07XHJcbiAgICB9XHJcblxyXG4gICAgY29uc3QgeyBlcnJvciB9ID0gYXdhaXQgc3VwYWJhc2VcclxuICAgICAgLmZyb20oJ2NvdXJzZXMnKVxyXG4gICAgICAuZGVsZXRlKClcclxuICAgICAgLmVxKCdpZCcsIGlkKTtcclxuXHJcbiAgICBpZiAoZXJyb3IpIHtcclxuICAgICAgcmV0dXJuIHsgZXJyb3I6IGVycm9yLm1lc3NhZ2UgfTtcclxuICAgIH1cclxuXHJcbiAgICAvLyBSZXZhbGlkYXRlIHRoZSBjYWNoZSB0byBlbnN1cmUgZnJvbnRlbmQgcmVmbGVjdHMgY2hhbmdlc1xyXG4gICAgcmV2YWxpZGF0ZVBhdGgoJy9jb3Vyc2VzJyk7XHJcbiAgICByZXZhbGlkYXRlUGF0aCgnL2Rhc2hib2FyZCcpO1xyXG4gICAgXHJcbiAgICByZXR1cm4geyBlcnJvcjogbnVsbCB9O1xyXG4gIH0gY2F0Y2ggKGVycm9yOiBhbnkpIHtcclxuICAgIHJldHVybiB7IGVycm9yOiBlcnJvci5tZXNzYWdlIH07XHJcbiAgfVxyXG59XHJcblxyXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gcHVibGlzaENvdXJzZShpZDogc3RyaW5nLCBpc1B1Ymxpc2hlZDogYm9vbGVhbik6IFByb21pc2U8eyBkYXRhOiBDb3Vyc2UgfCBudWxsOyBlcnJvcjogc3RyaW5nIHwgbnVsbCB9PiB7XHJcbiAgY29uc3Qgc3VwYWJhc2UgPSBhd2FpdCBjcmVhdGVTdXBhYmFzZUNsaWVudCgpO1xyXG4gIFxyXG4gIHRyeSB7XHJcbiAgICAvLyBDaGVjayBhZG1pbiBhY2Nlc3NcclxuICAgIGNvbnN0IGFkbWluQ2hlY2sgPSBhd2FpdCBpc0FkbWluKHN1cGFiYXNlKTtcclxuICAgIGlmICghYWRtaW5DaGVjaykge1xyXG4gICAgICByZXR1cm4geyBkYXRhOiBudWxsLCBlcnJvcjogJ0FjY2VzcyBkZW5pZWQuIEFkbWluIG9yIHRlYWNoZXIgcm9sZSByZXF1aXJlZC4nIH07XHJcbiAgICB9XHJcblxyXG4gICAgY29uc3QgeyBkYXRhLCBlcnJvciB9ID0gYXdhaXQgc3VwYWJhc2VcclxuICAgICAgLmZyb20oJ2NvdXJzZXMnKVxyXG4gICAgICAudXBkYXRlKHsgaXNfcHVibGlzaGVkOiBpc1B1Ymxpc2hlZCB9KVxyXG4gICAgICAuZXEoJ2lkJywgaWQpXHJcbiAgICAgIC5zZWxlY3QoKVxyXG4gICAgICAuc2luZ2xlKCk7XHJcblxyXG4gICAgaWYgKGVycm9yKSB7XHJcbiAgICAgIHJldHVybiB7IGRhdGE6IG51bGwsIGVycm9yOiBlcnJvci5tZXNzYWdlIH07XHJcbiAgICB9XHJcblxyXG4gICAgLy8gUmV2YWxpZGF0ZSB0aGUgY2FjaGUgdG8gZW5zdXJlIGZyb250ZW5kIHJlZmxlY3RzIGNoYW5nZXNcclxuICAgIHJldmFsaWRhdGVQYXRoKCcvY291cnNlcycpO1xyXG4gICAgcmV2YWxpZGF0ZVBhdGgoJy9kYXNoYm9hcmQnKTtcclxuICAgIFxyXG4gICAgcmV0dXJuIHsgZGF0YSwgZXJyb3I6IG51bGwgfTtcclxuICB9IGNhdGNoIChlcnJvcjogYW55KSB7XHJcbiAgICByZXR1cm4geyBkYXRhOiBudWxsLCBlcnJvcjogZXJyb3IubWVzc2FnZSB9O1xyXG4gIH1cclxufVxyXG5cclxuLy8gTW9kdWxlIEFjdGlvbnNcclxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGxpc3RNb2R1bGVzKGNvdXJzZUlkOiBzdHJpbmcpOiBQcm9taXNlPHsgZGF0YTogTW9kdWxlW10gfCBudWxsOyBlcnJvcjogc3RyaW5nIHwgbnVsbCB9PiB7XHJcbiAgY29uc3Qgc3VwYWJhc2UgPSBhd2FpdCBjcmVhdGVTdXBhYmFzZUNsaWVudCgpO1xyXG4gIFxyXG4gIHRyeSB7XHJcbiAgICAvLyBDaGVjayBhZG1pbiBhY2Nlc3NcclxuICAgIGNvbnN0IGFkbWluQ2hlY2sgPSBhd2FpdCBpc0FkbWluKHN1cGFiYXNlKTtcclxuICAgIGlmICghYWRtaW5DaGVjaykge1xyXG4gICAgICByZXR1cm4geyBkYXRhOiBudWxsLCBlcnJvcjogJ0FjY2VzcyBkZW5pZWQuIEFkbWluIG9yIHRlYWNoZXIgcm9sZSByZXF1aXJlZC4nIH07XHJcbiAgICB9XHJcblxyXG4gICAgY29uc3QgeyBkYXRhLCBlcnJvciB9ID0gYXdhaXQgc3VwYWJhc2VcclxuICAgICAgLmZyb20oJ21vZHVsZXMnKVxyXG4gICAgICAuc2VsZWN0KCcqJylcclxuICAgICAgLmVxKCdjb3Vyc2VfaWQnLCBjb3Vyc2VJZClcclxuICAgICAgLm9yZGVyKCdvcmRlcl9pbmRleCcsIHsgYXNjZW5kaW5nOiB0cnVlIH0pO1xyXG5cclxuICAgIGlmIChlcnJvcikge1xyXG4gICAgICByZXR1cm4geyBkYXRhOiBudWxsLCBlcnJvcjogZXJyb3IubWVzc2FnZSB9O1xyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiB7IGRhdGEsIGVycm9yOiBudWxsIH07XHJcbiAgfSBjYXRjaCAoZXJyb3I6IGFueSkge1xyXG4gICAgcmV0dXJuIHsgZGF0YTogbnVsbCwgZXJyb3I6IGVycm9yLm1lc3NhZ2UgfTtcclxuICB9XHJcbn1cclxuXHJcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBjcmVhdGVNb2R1bGUoY291cnNlSWQ6IHN0cmluZywgdGl0bGU6IHN0cmluZyk6IFByb21pc2U8eyBkYXRhOiBNb2R1bGUgfCBudWxsOyBlcnJvcjogc3RyaW5nIHwgbnVsbCB9PiB7XHJcbiAgY29uc3Qgc3VwYWJhc2UgPSBhd2FpdCBjcmVhdGVTdXBhYmFzZUNsaWVudCgpO1xyXG4gIFxyXG4gIHRyeSB7XHJcbiAgICAvLyBDaGVjayBhZG1pbiBhY2Nlc3NcclxuICAgIGNvbnN0IGFkbWluQ2hlY2sgPSBhd2FpdCBpc0FkbWluKHN1cGFiYXNlKTtcclxuICAgIGlmICghYWRtaW5DaGVjaykge1xyXG4gICAgICByZXR1cm4geyBkYXRhOiBudWxsLCBlcnJvcjogJ0FjY2VzcyBkZW5pZWQuIEFkbWluIG9yIHRlYWNoZXIgcm9sZSByZXF1aXJlZC4nIH07XHJcbiAgICB9XHJcblxyXG4gICAgLy8gR2V0IHRoZSBoaWdoZXN0IG9yZGVyX2luZGV4IHRvIGRldGVybWluZSB0aGUgbmV3IHBvc2l0aW9uXHJcbiAgICBjb25zdCB7IGRhdGE6IGV4aXN0aW5nTW9kdWxlcyB9ID0gYXdhaXQgc3VwYWJhc2VcclxuICAgICAgLmZyb20oJ21vZHVsZXMnKVxyXG4gICAgICAuc2VsZWN0KCdvcmRlcl9pbmRleCcpXHJcbiAgICAgIC5lcSgnY291cnNlX2lkJywgY291cnNlSWQpXHJcbiAgICAgIC5vcmRlcignb3JkZXJfaW5kZXgnLCB7IGFzY2VuZGluZzogZmFsc2UgfSlcclxuICAgICAgLmxpbWl0KDEpO1xyXG5cclxuICAgIGNvbnN0IG5ld09yZGVySW5kZXggPSBleGlzdGluZ01vZHVsZXMgJiYgZXhpc3RpbmdNb2R1bGVzLmxlbmd0aCA+IDAgXHJcbiAgICAgID8gZXhpc3RpbmdNb2R1bGVzWzBdLm9yZGVyX2luZGV4ICsgMTAgXHJcbiAgICAgIDogMDtcclxuXHJcbiAgICBjb25zdCB7IGRhdGEsIGVycm9yIH0gPSBhd2FpdCBzdXBhYmFzZVxyXG4gICAgICAuZnJvbSgnbW9kdWxlcycpXHJcbiAgICAgIC5pbnNlcnQoW3sgY291cnNlX2lkOiBjb3Vyc2VJZCwgdGl0bGUsIG9yZGVyX2luZGV4OiBuZXdPcmRlckluZGV4IH1dKVxyXG4gICAgICAuc2VsZWN0KClcclxuICAgICAgLnNpbmdsZSgpO1xyXG5cclxuICAgIGlmIChlcnJvcikge1xyXG4gICAgICByZXR1cm4geyBkYXRhOiBudWxsLCBlcnJvcjogZXJyb3IubWVzc2FnZSB9O1xyXG4gICAgfVxyXG5cclxuICAgIC8vIFJldmFsaWRhdGUgdGhlIGNhY2hlIHRvIGVuc3VyZSBmcm9udGVuZCByZWZsZWN0cyBjaGFuZ2VzXHJcbiAgICByZXZhbGlkYXRlUGF0aCgnL2NvdXJzZXMnKTtcclxuICAgIHJldmFsaWRhdGVQYXRoKCcvZGFzaGJvYXJkJyk7XHJcbiAgICBcclxuICAgIHJldHVybiB7IGRhdGEsIGVycm9yOiBudWxsIH07XHJcbiAgfSBjYXRjaCAoZXJyb3I6IGFueSkge1xyXG4gICAgcmV0dXJuIHsgZGF0YTogbnVsbCwgZXJyb3I6IGVycm9yLm1lc3NhZ2UgfTtcclxuICB9XHJcbn1cclxuXHJcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiB1cGRhdGVNb2R1bGUoaWQ6IHN0cmluZywgdXBkYXRlczogUGFydGlhbDxNb2R1bGU+KTogUHJvbWlzZTx7IGRhdGE6IE1vZHVsZSB8IG51bGw7IGVycm9yOiBzdHJpbmcgfCBudWxsIH0+IHtcclxuICBjb25zdCBzdXBhYmFzZSA9IGF3YWl0IGNyZWF0ZVN1cGFiYXNlQ2xpZW50KCk7XHJcbiAgXHJcbiAgdHJ5IHtcclxuICAgIC8vIENoZWNrIGFkbWluIGFjY2Vzc1xyXG4gICAgY29uc3QgYWRtaW5DaGVjayA9IGF3YWl0IGlzQWRtaW4oc3VwYWJhc2UpO1xyXG4gICAgaWYgKCFhZG1pbkNoZWNrKSB7XHJcbiAgICAgIHJldHVybiB7IGRhdGE6IG51bGwsIGVycm9yOiAnQWNjZXNzIGRlbmllZC4gQWRtaW4gb3IgdGVhY2hlciByb2xlIHJlcXVpcmVkLicgfTtcclxuICAgIH1cclxuXHJcbiAgICBjb25zdCB7IGRhdGEsIGVycm9yIH0gPSBhd2FpdCBzdXBhYmFzZVxyXG4gICAgICAuZnJvbSgnbW9kdWxlcycpXHJcbiAgICAgIC51cGRhdGUodXBkYXRlcylcclxuICAgICAgLmVxKCdpZCcsIGlkKVxyXG4gICAgICAuc2VsZWN0KClcclxuICAgICAgLnNpbmdsZSgpO1xyXG5cclxuICAgIGlmIChlcnJvcikge1xyXG4gICAgICByZXR1cm4geyBkYXRhOiBudWxsLCBlcnJvcjogZXJyb3IubWVzc2FnZSB9O1xyXG4gICAgfVxyXG5cclxuICAgIC8vIFJldmFsaWRhdGUgdGhlIGNhY2hlIHRvIGVuc3VyZSBmcm9udGVuZCByZWZsZWN0cyBjaGFuZ2VzXHJcbiAgICByZXZhbGlkYXRlUGF0aCgnL2NvdXJzZXMnKTtcclxuICAgIHJldmFsaWRhdGVQYXRoKCcvZGFzaGJvYXJkJyk7XHJcbiAgICBcclxuICAgIHJldHVybiB7IGRhdGEsIGVycm9yOiBudWxsIH07XHJcbiAgfSBjYXRjaCAoZXJyb3I6IGFueSkge1xyXG4gICAgcmV0dXJuIHsgZGF0YTogbnVsbCwgZXJyb3I6IGVycm9yLm1lc3NhZ2UgfTtcclxuICB9XHJcbn1cclxuXHJcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBkZWxldGVNb2R1bGUoaWQ6IHN0cmluZyk6IFByb21pc2U8eyBlcnJvcjogc3RyaW5nIHwgbnVsbCB9PiB7XHJcbiAgY29uc3Qgc3VwYWJhc2UgPSBhd2FpdCBjcmVhdGVTdXBhYmFzZUNsaWVudCgpO1xyXG4gIFxyXG4gIHRyeSB7XHJcbiAgICAvLyBDaGVjayBhZG1pbiBhY2Nlc3NcclxuICAgIGNvbnN0IGFkbWluQ2hlY2sgPSBhd2FpdCBpc0FkbWluKHN1cGFiYXNlKTtcclxuICAgIGlmICghYWRtaW5DaGVjaykge1xyXG4gICAgICByZXR1cm4geyBlcnJvcjogJ0FjY2VzcyBkZW5pZWQuIEFkbWluIG9yIHRlYWNoZXIgcm9sZSByZXF1aXJlZC4nIH07XHJcbiAgICB9XHJcblxyXG4gICAgY29uc3QgeyBlcnJvciB9ID0gYXdhaXQgc3VwYWJhc2VcclxuICAgICAgLmZyb20oJ21vZHVsZXMnKVxyXG4gICAgICAuZGVsZXRlKClcclxuICAgICAgLmVxKCdpZCcsIGlkKTtcclxuXHJcbiAgICBpZiAoZXJyb3IpIHtcclxuICAgICAgcmV0dXJuIHsgZXJyb3I6IGVycm9yLm1lc3NhZ2UgfTtcclxuICAgIH1cclxuXHJcbiAgICAvLyBSZXZhbGlkYXRlIHRoZSBjYWNoZSB0byBlbnN1cmUgZnJvbnRlbmQgcmVmbGVjdHMgY2hhbmdlc1xyXG4gICAgcmV2YWxpZGF0ZVBhdGgoJy9jb3Vyc2VzJyk7XHJcbiAgICByZXZhbGlkYXRlUGF0aCgnL2Rhc2hib2FyZCcpO1xyXG4gICAgXHJcbiAgICByZXR1cm4geyBlcnJvcjogbnVsbCB9O1xyXG4gIH0gY2F0Y2ggKGVycm9yOiBhbnkpIHtcclxuICAgIHJldHVybiB7IGVycm9yOiBlcnJvci5tZXNzYWdlIH07XHJcbiAgfVxyXG59XHJcblxyXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gcmVvcmRlck1vZHVsZXMoY291cnNlSWQ6IHN0cmluZywgbW9kdWxlSWRzOiBzdHJpbmdbXSk6IFByb21pc2U8eyBlcnJvcjogc3RyaW5nIHwgbnVsbCB9PiB7XHJcbiAgY29uc3Qgc3VwYWJhc2UgPSBhd2FpdCBjcmVhdGVTdXBhYmFzZUNsaWVudCgpO1xyXG4gIFxyXG4gIHRyeSB7XHJcbiAgICAvLyBDaGVjayBhZG1pbiBhY2Nlc3NcclxuICAgIGNvbnN0IGFkbWluQ2hlY2sgPSBhd2FpdCBpc0FkbWluKHN1cGFiYXNlKTtcclxuICAgIGlmICghYWRtaW5DaGVjaykge1xyXG4gICAgICByZXR1cm4geyBlcnJvcjogJ0FjY2VzcyBkZW5pZWQuIEFkbWluIG9yIHRlYWNoZXIgcm9sZSByZXF1aXJlZC4nIH07XHJcbiAgICB9XHJcblxyXG4gICAgLy8gVXBkYXRlIGFsbCBtb2R1bGVzIHdpdGggdGhlaXIgbmV3IHBvc2l0aW9ucyBpbiBhIHNpbmdsZSB0cmFuc2FjdGlvblxyXG4gICAgY29uc3QgdXBkYXRlcyA9IG1vZHVsZUlkcy5tYXAoKGlkLCBpbmRleCkgPT4gKHtcclxuICAgICAgaWQsXHJcbiAgICAgIG9yZGVyX2luZGV4OiBpbmRleCAqIDEwIC8vIFVzZSBpbmNyZW1lbnRzIG9mIDEwIHRvIGFsbG93IGZvciBmdXR1cmUgaW5zZXJ0aW9ucyBiZXR3ZWVuIGl0ZW1zXHJcbiAgICB9KSk7XHJcblxyXG4gICAgLy8gUGVyZm9ybSB1cGRhdGVzIGluIGEgYmF0Y2hcclxuICAgIGZvciAoY29uc3QgdXBkYXRlIG9mIHVwZGF0ZXMpIHtcclxuICAgICAgY29uc3QgeyBlcnJvciB9ID0gYXdhaXQgc3VwYWJhc2VcclxuICAgICAgICAuZnJvbSgnbW9kdWxlcycpXHJcbiAgICAgICAgLnVwZGF0ZSh7IG9yZGVyX2luZGV4OiB1cGRhdGUub3JkZXJfaW5kZXggfSlcclxuICAgICAgICAuZXEoJ2lkJywgdXBkYXRlLmlkKVxyXG4gICAgICAgIC5lcSgnY291cnNlX2lkJywgY291cnNlSWQpOyAvLyBBZGRpdGlvbmFsIHNhZmV0eSBjaGVja1xyXG5cclxuICAgICAgaWYgKGVycm9yKSB7XHJcbiAgICAgICAgcmV0dXJuIHsgZXJyb3I6IGVycm9yLm1lc3NhZ2UgfTtcclxuICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8vIFJldmFsaWRhdGUgdGhlIGNhY2hlIHRvIGVuc3VyZSBmcm9udGVuZCByZWZsZWN0cyBjaGFuZ2VzXHJcbiAgICByZXZhbGlkYXRlUGF0aCgnL2NvdXJzZXMnKTtcclxuICAgIHJldmFsaWRhdGVQYXRoKCcvZGFzaGJvYXJkJyk7XHJcbiAgICBcclxuICAgIHJldHVybiB7IGVycm9yOiBudWxsIH07XHJcbiAgfSBjYXRjaCAoZXJyb3I6IGFueSkge1xyXG4gICAgcmV0dXJuIHsgZXJyb3I6IGVycm9yLm1lc3NhZ2UgfTtcclxuICB9XHJcbn1cclxuXHJcbi8vIExlc3NvbiBBY3Rpb25zXHJcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBsaXN0TGVzc29ucyhtb2R1bGVJZDogc3RyaW5nKTogUHJvbWlzZTx7IGRhdGE6IExlc3NvbltdIHwgbnVsbDsgZXJyb3I6IHN0cmluZyB8IG51bGwgfT4ge1xyXG4gIGNvbnN0IHN1cGFiYXNlID0gYXdhaXQgY3JlYXRlU3VwYWJhc2VDbGllbnQoKTtcclxuICBcclxuICB0cnkge1xyXG4gICAgLy8gQ2hlY2sgYWRtaW4gYWNjZXNzXHJcbiAgICBjb25zdCBhZG1pbkNoZWNrID0gYXdhaXQgaXNBZG1pbihzdXBhYmFzZSk7XHJcbiAgICBpZiAoIWFkbWluQ2hlY2spIHtcclxuICAgICAgcmV0dXJuIHsgZGF0YTogbnVsbCwgZXJyb3I6ICdBY2Nlc3MgZGVuaWVkLiBBZG1pbiBvciB0ZWFjaGVyIHJvbGUgcmVxdWlyZWQuJyB9O1xyXG4gICAgfVxyXG5cclxuICAgIGNvbnN0IHsgZGF0YSwgZXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlXHJcbiAgICAgIC5mcm9tKCdsZXNzb25zJylcclxuICAgICAgLnNlbGVjdCgnKicpXHJcbiAgICAgIC5lcSgnbW9kdWxlX2lkJywgbW9kdWxlSWQpXHJcbiAgICAgIC5vcmRlcignb3JkZXJfaW5kZXgnLCB7IGFzY2VuZGluZzogdHJ1ZSB9KTtcclxuXHJcbiAgICBpZiAoZXJyb3IpIHtcclxuICAgICAgcmV0dXJuIHsgZGF0YTogbnVsbCwgZXJyb3I6IGVycm9yLm1lc3NhZ2UgfTtcclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4geyBkYXRhLCBlcnJvcjogbnVsbCB9O1xyXG4gIH0gY2F0Y2ggKGVycm9yOiBhbnkpIHtcclxuICAgIHJldHVybiB7IGRhdGE6IG51bGwsIGVycm9yOiBlcnJvci5tZXNzYWdlIH07XHJcbiAgfVxyXG59XHJcblxyXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gY3JlYXRlTGVzc29uKFxyXG4gIG1vZHVsZUlkOiBzdHJpbmcsIFxyXG4gIHRpdGxlOiBzdHJpbmcsIFxyXG4gIGRlc2NyaXB0aW9uOiBzdHJpbmcsIFxyXG4gIHlvdXR1YmVVcmw6IHN0cmluZ1xyXG4pOiBQcm9taXNlPHsgZGF0YTogTGVzc29uIHwgbnVsbDsgZXJyb3I6IHN0cmluZyB8IG51bGwgfT4ge1xyXG4gIGNvbnN0IHN1cGFiYXNlID0gYXdhaXQgY3JlYXRlU3VwYWJhc2VDbGllbnQoKTtcclxuICBcclxuICB0cnkge1xyXG4gICAgLy8gQ2hlY2sgYWRtaW4gYWNjZXNzXHJcbiAgICBjb25zdCBhZG1pbkNoZWNrID0gYXdhaXQgaXNBZG1pbihzdXBhYmFzZSk7XHJcbiAgICBpZiAoIWFkbWluQ2hlY2spIHtcclxuICAgICAgcmV0dXJuIHsgZGF0YTogbnVsbCwgZXJyb3I6ICdBY2Nlc3MgZGVuaWVkLiBBZG1pbiBvciB0ZWFjaGVyIHJvbGUgcmVxdWlyZWQuJyB9O1xyXG4gICAgfVxyXG5cclxuICAgIC8vIFBhcnNlIHRoZSBZb3VUdWJlIFVSTFxyXG4gICAgY29uc3QgcGFyc2VkID0gcGFyc2VZb3VUdWJlKHlvdXR1YmVVcmwpO1xyXG4gICAgaWYgKHBhcnNlZC5lcnJvcikge1xyXG4gICAgICByZXR1cm4geyBkYXRhOiBudWxsLCBlcnJvcjogcGFyc2VkLmVycm9yIH07XHJcbiAgICB9XHJcblxyXG4gICAgLy8gR2V0IHRoZSBoaWdoZXN0IG9yZGVyX2luZGV4IHRvIGRldGVybWluZSB0aGUgbmV3IHBvc2l0aW9uXHJcbiAgICBjb25zdCB7IGRhdGE6IGV4aXN0aW5nTGVzc29ucyB9ID0gYXdhaXQgc3VwYWJhc2VcclxuICAgICAgLmZyb20oJ2xlc3NvbnMnKVxyXG4gICAgICAuc2VsZWN0KCdvcmRlcl9pbmRleCcpXHJcbiAgICAgIC5lcSgnbW9kdWxlX2lkJywgbW9kdWxlSWQpXHJcbiAgICAgIC5vcmRlcignb3JkZXJfaW5kZXgnLCB7IGFzY2VuZGluZzogZmFsc2UgfSlcclxuICAgICAgLmxpbWl0KDEpO1xyXG5cclxuICAgIGNvbnN0IG5ld09yZGVySW5kZXggPSBleGlzdGluZ0xlc3NvbnMgJiYgZXhpc3RpbmdMZXNzb25zLmxlbmd0aCA+IDAgXHJcbiAgICAgID8gZXhpc3RpbmdMZXNzb25zWzBdLm9yZGVyX2luZGV4ICsgMTAgXHJcbiAgICAgIDogMDtcclxuXHJcbiAgICBjb25zdCB7IGRhdGEsIGVycm9yIH0gPSBhd2FpdCBzdXBhYmFzZVxyXG4gICAgICAuZnJvbSgnbGVzc29ucycpXHJcbiAgICAgIC5pbnNlcnQoW3tcclxuICAgICAgICBtb2R1bGVfaWQ6IG1vZHVsZUlkLFxyXG4gICAgICAgIHRpdGxlLFxyXG4gICAgICAgIGRlc2NyaXB0aW9uLFxyXG4gICAgICAgIHlvdXR1YmVfdmlkZW9faWQ6IHBhcnNlZC52aWRlb0lkLFxyXG4gICAgICAgIHZpZGVvX3VybDogcGFyc2VkLmVtYmVkVXJsLFxyXG4gICAgICAgIG9yZGVyX2luZGV4OiBuZXdPcmRlckluZGV4LFxyXG4gICAgICAgIGlzX3ByZXZpZXc6IGZhbHNlLFxyXG4gICAgICAgIGlzX3B1Ymxpc2hlZDogdHJ1ZVxyXG4gICAgICB9XSlcclxuICAgICAgLnNlbGVjdCgpXHJcbiAgICAgIC5zaW5nbGUoKTtcclxuXHJcbiAgICBpZiAoZXJyb3IpIHtcclxuICAgICAgcmV0dXJuIHsgZGF0YTogbnVsbCwgZXJyb3I6IGVycm9yLm1lc3NhZ2UgfTtcclxuICAgIH1cclxuXHJcbiAgICAvLyBSZXZhbGlkYXRlIHRoZSBjYWNoZSB0byBlbnN1cmUgZnJvbnRlbmQgcmVmbGVjdHMgY2hhbmdlc1xyXG4gICAgcmV2YWxpZGF0ZVBhdGgoJy9jb3Vyc2VzJyk7XHJcbiAgICByZXZhbGlkYXRlUGF0aCgnL2Rhc2hib2FyZCcpO1xyXG4gICAgXHJcbiAgICByZXR1cm4geyBkYXRhLCBlcnJvcjogbnVsbCB9O1xyXG4gIH0gY2F0Y2ggKGVycm9yOiBhbnkpIHtcclxuICAgIHJldHVybiB7IGRhdGE6IG51bGwsIGVycm9yOiBlcnJvci5tZXNzYWdlIH07XHJcbiAgfVxyXG59XHJcblxyXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gdXBkYXRlTGVzc29uKFxyXG4gIGlkOiBzdHJpbmcsIFxyXG4gIHVwZGF0ZXM6IFBhcnRpYWw8T21pdDxMZXNzb24sICdpZCcgfCAnbW9kdWxlX2lkJyB8ICdjcmVhdGVkX2F0JyB8ICd1cGRhdGVkX2F0Jz4+XHJcbik6IFByb21pc2U8eyBkYXRhOiBMZXNzb24gfCBudWxsOyBlcnJvcjogc3RyaW5nIHwgbnVsbCB9PiB7XHJcbiAgY29uc3Qgc3VwYWJhc2UgPSBhd2FpdCBjcmVhdGVTdXBhYmFzZUNsaWVudCgpO1xyXG4gIFxyXG4gIHRyeSB7XHJcbiAgICAvLyBDaGVjayBhZG1pbiBhY2Nlc3NcclxuICAgIGNvbnN0IGFkbWluQ2hlY2sgPSBhd2FpdCBpc0FkbWluKHN1cGFiYXNlKTtcclxuICAgIGlmICghYWRtaW5DaGVjaykge1xyXG4gICAgICByZXR1cm4geyBkYXRhOiBudWxsLCBlcnJvcjogJ0FjY2VzcyBkZW5pZWQuIEFkbWluIG9yIHRlYWNoZXIgcm9sZSByZXF1aXJlZC4nIH07XHJcbiAgICB9XHJcblxyXG4gICAgLy8gSWYgdXBkYXRpbmcgWW91VHViZSBVUkwsIHBhcnNlIGl0IGZpcnN0XHJcbiAgICBpZiAodXBkYXRlcy52aWRlb191cmwpIHtcclxuICAgICAgY29uc3QgcGFyc2VkID0gcGFyc2VZb3VUdWJlKHVwZGF0ZXMudmlkZW9fdXJsKTtcclxuICAgICAgaWYgKHBhcnNlZC5lcnJvcikge1xyXG4gICAgICAgIHJldHVybiB7IGRhdGE6IG51bGwsIGVycm9yOiBwYXJzZWQuZXJyb3IgfTtcclxuICAgICAgfVxyXG4gICAgICB1cGRhdGVzLnlvdXR1YmVfdmlkZW9faWQgPSBwYXJzZWQudmlkZW9JZDtcclxuICAgICAgdXBkYXRlcy52aWRlb191cmwgPSBwYXJzZWQuZW1iZWRVcmw7XHJcbiAgICB9XHJcblxyXG4gICAgY29uc3QgeyBkYXRhLCBlcnJvciB9ID0gYXdhaXQgc3VwYWJhc2VcclxuICAgICAgLmZyb20oJ2xlc3NvbnMnKVxyXG4gICAgICAudXBkYXRlKHVwZGF0ZXMpXHJcbiAgICAgIC5lcSgnaWQnLCBpZClcclxuICAgICAgLnNlbGVjdCgpXHJcbiAgICAgIC5zaW5nbGUoKTtcclxuXHJcbiAgICBpZiAoZXJyb3IpIHtcclxuICAgICAgcmV0dXJuIHsgZGF0YTogbnVsbCwgZXJyb3I6IGVycm9yLm1lc3NhZ2UgfTtcclxuICAgIH1cclxuXHJcbiAgICAvLyBSZXZhbGlkYXRlIHRoZSBjYWNoZSB0byBlbnN1cmUgZnJvbnRlbmQgcmVmbGVjdHMgY2hhbmdlc1xyXG4gICAgcmV2YWxpZGF0ZVBhdGgoJy9jb3Vyc2VzJyk7XHJcbiAgICByZXZhbGlkYXRlUGF0aCgnL2Rhc2hib2FyZCcpO1xyXG4gICAgXHJcbiAgICByZXR1cm4geyBkYXRhLCBlcnJvcjogbnVsbCB9O1xyXG4gIH0gY2F0Y2ggKGVycm9yOiBhbnkpIHtcclxuICAgIHJldHVybiB7IGRhdGE6IG51bGwsIGVycm9yOiBlcnJvci5tZXNzYWdlIH07XHJcbiAgfVxyXG59XHJcblxyXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZGVsZXRlTGVzc29uKGlkOiBzdHJpbmcpOiBQcm9taXNlPHsgZXJyb3I6IHN0cmluZyB8IG51bGwgfT4ge1xyXG4gIGNvbnN0IHN1cGFiYXNlID0gYXdhaXQgY3JlYXRlU3VwYWJhc2VDbGllbnQoKTtcclxuICBcclxuICB0cnkge1xyXG4gICAgLy8gQ2hlY2sgYWRtaW4gYWNjZXNzXHJcbiAgICBjb25zdCBhZG1pbkNoZWNrID0gYXdhaXQgaXNBZG1pbihzdXBhYmFzZSk7XHJcbiAgICBpZiAoIWFkbWluQ2hlY2spIHtcclxuICAgICAgcmV0dXJuIHsgZXJyb3I6ICdBY2Nlc3MgZGVuaWVkLiBBZG1pbiBvciB0ZWFjaGVyIHJvbGUgcmVxdWlyZWQuJyB9O1xyXG4gICAgfVxyXG5cclxuICAgIGNvbnN0IHsgZXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlXHJcbiAgICAgIC5mcm9tKCdsZXNzb25zJylcclxuICAgICAgLmRlbGV0ZSgpXHJcbiAgICAgIC5lcSgnaWQnLCBpZCk7XHJcblxyXG4gICAgaWYgKGVycm9yKSB7XHJcbiAgICAgIHJldHVybiB7IGVycm9yOiBlcnJvci5tZXNzYWdlIH07XHJcbiAgICB9XHJcblxyXG4gICAgLy8gUmV2YWxpZGF0ZSB0aGUgY2FjaGUgdG8gZW5zdXJlIGZyb250ZW5kIHJlZmxlY3RzIGNoYW5nZXNcclxuICAgIHJldmFsaWRhdGVQYXRoKCcvY291cnNlcycpO1xyXG4gICAgcmV2YWxpZGF0ZVBhdGgoJy9kYXNoYm9hcmQnKTtcclxuICAgIFxyXG4gICAgcmV0dXJuIHsgZXJyb3I6IG51bGwgfTtcclxuICB9IGNhdGNoIChlcnJvcjogYW55KSB7XHJcbiAgICByZXR1cm4geyBlcnJvcjogZXJyb3IubWVzc2FnZSB9O1xyXG4gIH1cclxufVxyXG5cclxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIHJlb3JkZXJMZXNzb25zKG1vZHVsZUlkOiBzdHJpbmcsIGxlc3Nvbklkczogc3RyaW5nW10pOiBQcm9taXNlPHsgZXJyb3I6IHN0cmluZyB8IG51bGwgfT4ge1xyXG4gIGNvbnN0IHN1cGFiYXNlID0gYXdhaXQgY3JlYXRlU3VwYWJhc2VDbGllbnQoKTtcclxuICBcclxuICB0cnkge1xyXG4gICAgLy8gQ2hlY2sgYWRtaW4gYWNjZXNzXHJcbiAgICBjb25zdCBhZG1pbkNoZWNrID0gYXdhaXQgaXNBZG1pbihzdXBhYmFzZSk7XHJcbiAgICBpZiAoIWFkbWluQ2hlY2spIHtcclxuICAgICAgcmV0dXJuIHsgZXJyb3I6ICdBY2Nlc3MgZGVuaWVkLiBBZG1pbiBvciB0ZWFjaGVyIHJvbGUgcmVxdWlyZWQuJyB9O1xyXG4gICAgfVxyXG5cclxuICAgIC8vIFVwZGF0ZSBhbGwgbGVzc29ucyB3aXRoIHRoZWlyIG5ldyBwb3NpdGlvbnMgaW4gYSBzaW5nbGUgdHJhbnNhY3Rpb25cclxuICAgIGNvbnN0IHVwZGF0ZXMgPSBsZXNzb25JZHMubWFwKChpZCwgaW5kZXgpID0+ICh7XHJcbiAgICAgIGlkLFxyXG4gICAgICBvcmRlcl9pbmRleDogaW5kZXggKiAxMCAvLyBVc2UgaW5jcmVtZW50cyBvZiAxMCB0byBhbGxvdyBmb3IgZnV0dXJlIGluc2VydGlvbnMgYmV0d2VlbiBpdGVtc1xyXG4gICAgfSkpO1xyXG5cclxuICAgIC8vIFBlcmZvcm0gdXBkYXRlcyBpbiBhIGJhdGNoXHJcbiAgICBmb3IgKGNvbnN0IHVwZGF0ZSBvZiB1cGRhdGVzKSB7XHJcbiAgICAgIGNvbnN0IHsgZXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlXHJcbiAgICAgICAgLmZyb20oJ2xlc3NvbnMnKVxyXG4gICAgICAgIC51cGRhdGUoeyBvcmRlcl9pbmRleDogdXBkYXRlLm9yZGVyX2luZGV4IH0pXHJcbiAgICAgICAgLmVxKCdpZCcsIHVwZGF0ZS5pZClcclxuICAgICAgICAuZXEoJ21vZHVsZV9pZCcsIG1vZHVsZUlkKTsgLy8gQWRkaXRpb25hbCBzYWZldHkgY2hlY2tcclxuXHJcbiAgICAgIGlmIChlcnJvcikge1xyXG4gICAgICAgIHJldHVybiB7IGVycm9yOiBlcnJvci5tZXNzYWdlIH07XHJcbiAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvLyBSZXZhbGlkYXRlIHRoZSBjYWNoZSB0byBlbnN1cmUgZnJvbnRlbmQgcmVmbGVjdHMgY2hhbmdlc1xyXG4gICAgcmV2YWxpZGF0ZVBhdGgoJy9jb3Vyc2VzJyk7XHJcbiAgICByZXZhbGlkYXRlUGF0aCgnL2Rhc2hib2FyZCcpO1xyXG4gICAgXHJcbiAgICByZXR1cm4geyBlcnJvcjogbnVsbCB9O1xyXG4gIH0gY2F0Y2ggKGVycm9yOiBhbnkpIHtcclxuICAgIHJldHVybiB7IGVycm9yOiBlcnJvci5tZXNzYWdlIH07XHJcbiAgfVxyXG59Il0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI4UkFxTnNCLDBMQUFBIn0=
}),
"[project]/src/components/admin/CourseList.tsx [app-ssr] (ecmascript)", ((__turbopack_context__) => {
"use strict";

__turbopack_context__.s([
    "default",
    ()=>__TURBOPACK__default__export__
]);
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/next/dist/server/route-modules/app-page/vendored/ssr/react-jsx-dev-runtime.js [app-ssr] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/next/dist/server/route-modules/app-page/vendored/ssr/react.js [app-ssr] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$actions$2f$data$3a$98ab9f__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$text$2f$javascript$3e$__ = __turbopack_context__.i("[project]/src/actions/data:98ab9f [app-ssr] (ecmascript) <text/javascript>");
var __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$actions$2f$data$3a$b11ae6__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$text$2f$javascript$3e$__ = __turbopack_context__.i("[project]/src/actions/data:b11ae6 [app-ssr] (ecmascript) <text/javascript>");
var __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$actions$2f$data$3a$4b2417__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$text$2f$javascript$3e$__ = __turbopack_context__.i("[project]/src/actions/data:4b2417 [app-ssr] (ecmascript) <text/javascript>");
var __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$actions$2f$data$3a$ec67c2__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$text$2f$javascript$3e$__ = __turbopack_context__.i("[project]/src/actions/data:ec67c2 [app-ssr] (ecmascript) <text/javascript>");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$lucide$2d$react$2f$dist$2f$esm$2f$icons$2f$plus$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$export__default__as__PlusIcon$3e$__ = __turbopack_context__.i("[project]/node_modules/lucide-react/dist/esm/icons/plus.js [app-ssr] (ecmascript) <export default as PlusIcon>");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$lucide$2d$react$2f$dist$2f$esm$2f$icons$2f$trash$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$export__default__as__TrashIcon$3e$__ = __turbopack_context__.i("[project]/node_modules/lucide-react/dist/esm/icons/trash.js [app-ssr] (ecmascript) <export default as TrashIcon>");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$lucide$2d$react$2f$dist$2f$esm$2f$icons$2f$eye$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$export__default__as__EyeIcon$3e$__ = __turbopack_context__.i("[project]/node_modules/lucide-react/dist/esm/icons/eye.js [app-ssr] (ecmascript) <export default as EyeIcon>");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$lucide$2d$react$2f$dist$2f$esm$2f$icons$2f$eye$2d$off$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$export__default__as__EyeOffIcon$3e$__ = __turbopack_context__.i("[project]/node_modules/lucide-react/dist/esm/icons/eye-off.js [app-ssr] (ecmascript) <export default as EyeOffIcon>");
'use client';
;
;
;
;
const CourseList = ({ selectedCourseId, onSelectCourse, onCourseCreated, onCourseUpdated })=>{
    const [courses, setCourses] = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["useState"])([]);
    const [loading, setLoading] = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["useState"])(true);
    const [error, setError] = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["useState"])(null);
    const [newCourseTitle, setNewCourseTitle] = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["useState"])('');
    const [newCourseDescription, setNewCourseDescription] = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["useState"])('');
    const [showCreateForm, setShowCreateForm] = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["useState"])(false);
    (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["useEffect"])(()=>{
        loadCourses();
    }, []);
    const loadCourses = async ()=>{
        console.log('DEBUG: CourseList - Loading courses');
        setLoading(true);
        setError(null);
        try {
            const result = await (0, __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$actions$2f$data$3a$98ab9f__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$text$2f$javascript$3e$__["listCourses"])();
            console.log('DEBUG: CourseList - listCourses result:', result);
            if (result.error) {
                console.error('DEBUG: CourseList - Error loading courses:', result.error);
                setError(result.error);
            } else if (result.data) {
                console.log('DEBUG: CourseList - Loaded courses:', result.data);
                setCourses(result.data);
            }
        } catch (err) {
            console.error('DEBUG: CourseList - Exception loading courses:', err);
            setError('Failed to load courses');
        } finally{
            console.log('DEBUG: CourseList - Finished loading courses, loading state:', false);
            setLoading(false);
        }
    };
    const handleCreateCourse = async ()=>{
        if (!newCourseTitle.trim()) {
            setError('Course title is required');
            return;
        }
        try {
            console.log('DEBUG: CourseList - Creating course:', newCourseTitle, newCourseDescription);
            const result = await (0, __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$actions$2f$data$3a$b11ae6__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$text$2f$javascript$3e$__["createCourse"])(newCourseTitle, newCourseDescription);
            console.log('DEBUG: CourseList - Create course result:', result);
            if (result.error) {
                console.error('DEBUG: CourseList - Error creating course:', result.error);
                setError(result.error);
            } else if (result.data) {
                console.log('DEBUG: CourseList - Course created successfully:', result.data);
                setCourses([
                    ...courses,
                    result.data
                ]);
                setNewCourseTitle('');
                setNewCourseDescription('');
                setShowCreateForm(false);
                console.log('DEBUG: CourseList - Calling onCourseCreated callback');
                onCourseCreated();
            }
        } catch (err) {
            console.error('DEBUG: CourseList - Exception creating course:', err);
            setError('Failed to create course');
        }
    };
    const handleDeleteCourse = async (id)=>{
        if (!confirm('Are you sure you want to delete this course? This will also delete all modules and lessons.')) {
            return;
        }
        try {
            const result = await (0, __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$actions$2f$data$3a$4b2417__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$text$2f$javascript$3e$__["deleteCourse"])(id);
            if (result.error) {
                setError(result.error);
            } else {
                setCourses(courses.filter((course)=>course.id !== id));
                if (selectedCourseId === id) {
                    onSelectCourse(null);
                }
                onCourseUpdated();
            }
        } catch (err) {
            setError('Failed to delete course');
        }
    };
    const handleTogglePublish = async (id, isPublished)=>{
        try {
            const result = await (0, __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$actions$2f$data$3a$ec67c2__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$text$2f$javascript$3e$__["publishCourse"])(id, !isPublished);
            if (result.error) {
                setError(result.error);
            } else if (result.data) {
                setCourses(courses.map((course)=>course.id === id ? result.data : course));
                onCourseUpdated();
                // After publish/unpublish, refresh the admin list and trigger public UI refresh
                if (result.data.is_published && !isPublished) {
                    // Course was just published - make it visible to students immediately
                    console.log('Course published - refreshing UI');
                } else if (!result.data.is_published && isPublished) {
                    // Course was just unpublished - hide it from students
                    console.log('Course unpublished - updating UI');
                }
            }
        } catch (err) {
            setError('Failed to update course publication status');
        }
    };
    return /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
        className: "border-r border-gray-700 h-full flex flex-col",
        children: [
            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                className: "p-4 border-b border-gray-700",
                children: [
                    /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                        className: "flex justify-between items-center mb-4",
                        children: [
                            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("h3", {
                                className: "text-lg font-semibold text-white",
                                children: "Courses"
                            }, void 0, false, {
                                fileName: "[project]/src/components/admin/CourseList.tsx",
                                lineNumber: 133,
                                columnNumber: 11
                            }, ("TURBOPACK compile-time value", void 0)),
                            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("button", {
                                onClick: ()=>setShowCreateForm(!showCreateForm),
                                className: "bg-accent-primary hover:bg-accent-primary/90 text-white px-3 py-1 rounded-md text-sm font-medium transition-colors hover-lift border border-accent-primary",
                                children: /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$lucide$2d$react$2f$dist$2f$esm$2f$icons$2f$plus$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$export__default__as__PlusIcon$3e$__["PlusIcon"], {
                                    size: 16
                                }, void 0, false, {
                                    fileName: "[project]/src/components/admin/CourseList.tsx",
                                    lineNumber: 138,
                                    columnNumber: 13
                                }, ("TURBOPACK compile-time value", void 0))
                            }, void 0, false, {
                                fileName: "[project]/src/components/admin/CourseList.tsx",
                                lineNumber: 134,
                                columnNumber: 11
                            }, ("TURBOPACK compile-time value", void 0))
                        ]
                    }, void 0, true, {
                        fileName: "[project]/src/components/admin/CourseList.tsx",
                        lineNumber: 132,
                        columnNumber: 9
                    }, ("TURBOPACK compile-time value", void 0)),
                    showCreateForm && /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                        className: "mb-4 p-3 bg-gray-800 rounded-lg",
                        children: [
                            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("input", {
                                type: "text",
                                value: newCourseTitle,
                                onChange: (e)=>setNewCourseTitle(e.target.value),
                                placeholder: "Course title",
                                className: "w-full p-2 mb-2 rounded bg-gray-700 border border-gray-600 text-white"
                            }, void 0, false, {
                                fileName: "[project]/src/components/admin/CourseList.tsx",
                                lineNumber: 144,
                                columnNumber: 13
                            }, ("TURBOPACK compile-time value", void 0)),
                            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("textarea", {
                                value: newCourseDescription,
                                onChange: (e)=>setNewCourseDescription(e.target.value),
                                placeholder: "Course description",
                                className: "w-full p-2 mb-2 rounded bg-gray-700 border border-gray-600 text-white",
                                rows: 2
                            }, void 0, false, {
                                fileName: "[project]/src/components/admin/CourseList.tsx",
                                lineNumber: 151,
                                columnNumber: 13
                            }, ("TURBOPACK compile-time value", void 0)),
                            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                                className: "flex gap-2",
                                children: [
                                    /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("button", {
                                        onClick: handleCreateCourse,
                                        className: "bg-green-600 hover:bg-green-700 text-white px-3 py-1 rounded text-sm hover-lift",
                                        children: "Create"
                                    }, void 0, false, {
                                        fileName: "[project]/src/components/admin/CourseList.tsx",
                                        lineNumber: 159,
                                        columnNumber: 15
                                    }, ("TURBOPACK compile-time value", void 0)),
                                    /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("button", {
                                        onClick: ()=>{
                                            setShowCreateForm(false);
                                            setNewCourseTitle('');
                                            setNewCourseDescription('');
                                        },
                                        className: "bg-gray-600 hover:bg-gray-700 text-white px-3 py-1 rounded text-sm hover-lift",
                                        children: "Cancel"
                                    }, void 0, false, {
                                        fileName: "[project]/src/components/admin/CourseList.tsx",
                                        lineNumber: 165,
                                        columnNumber: 15
                                    }, ("TURBOPACK compile-time value", void 0))
                                ]
                            }, void 0, true, {
                                fileName: "[project]/src/components/admin/CourseList.tsx",
                                lineNumber: 158,
                                columnNumber: 13
                            }, ("TURBOPACK compile-time value", void 0))
                        ]
                    }, void 0, true, {
                        fileName: "[project]/src/components/admin/CourseList.tsx",
                        lineNumber: 143,
                        columnNumber: 11
                    }, ("TURBOPACK compile-time value", void 0)),
                    error && /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                        className: "mb-4 p-2 bg-red-900/30 border border-red-700 rounded text-red-300 text-sm",
                        children: error
                    }, void 0, false, {
                        fileName: "[project]/src/components/admin/CourseList.tsx",
                        lineNumber: 180,
                        columnNumber: 11
                    }, ("TURBOPACK compile-time value", void 0))
                ]
            }, void 0, true, {
                fileName: "[project]/src/components/admin/CourseList.tsx",
                lineNumber: 131,
                columnNumber: 7
            }, ("TURBOPACK compile-time value", void 0)),
            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                className: "flex-1 overflow-y-auto",
                children: loading ? /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                    className: "p-4 text-center text-gray-400",
                    children: "Loading courses..."
                }, void 0, false, {
                    fileName: "[project]/src/components/admin/CourseList.tsx",
                    lineNumber: 188,
                    columnNumber: 11
                }, ("TURBOPACK compile-time value", void 0)) : courses.length === 0 ? /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                    className: "p-4 text-center text-gray-400",
                    children: "No courses found"
                }, void 0, false, {
                    fileName: "[project]/src/components/admin/CourseList.tsx",
                    lineNumber: 190,
                    columnNumber: 11
                }, ("TURBOPACK compile-time value", void 0)) : /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("ul", {
                    className: "divide-y divide-gray-700",
                    children: courses.map((course)=>/*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("li", {
                            className: `p-3 cursor-pointer transition-colors ${selectedCourseId === course.id ? 'bg-accent-primary/10 border-l-4 border-accent-primary' : 'hover:bg-gray-800/50'}`,
                            onClick: ()=>onSelectCourse(course.id),
                            children: /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                                className: "flex justify-between items-start",
                                children: [
                                    /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                                        className: "flex-1 min-w-0",
                                        children: [
                                            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("h4", {
                                                className: "font-medium text-white truncate",
                                                children: course.title
                                            }, void 0, false, {
                                                fileName: "[project]/src/components/admin/CourseList.tsx",
                                                lineNumber: 205,
                                                columnNumber: 21
                                            }, ("TURBOPACK compile-time value", void 0)),
                                            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("p", {
                                                className: "text-xs text-gray-400 truncate",
                                                children: course.description
                                            }, void 0, false, {
                                                fileName: "[project]/src/components/admin/CourseList.tsx",
                                                lineNumber: 206,
                                                columnNumber: 21
                                            }, ("TURBOPACK compile-time value", void 0)),
                                            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                                                className: "mt-1 flex items-center gap-2",
                                                children: [
                                                    /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("span", {
                                                        className: `inline-flex items-center px-2 py-0.5 rounded-full text-xs font-medium ${course.is_published ? 'bg-green-900/30 text-green-400 border border-green-800' : 'bg-yellow-900/30 text-yellow-400 border border-yellow-800'}`,
                                                        children: course.is_published ? 'Published' : 'Draft'
                                                    }, void 0, false, {
                                                        fileName: "[project]/src/components/admin/CourseList.tsx",
                                                        lineNumber: 208,
                                                        columnNumber: 23
                                                    }, ("TURBOPACK compile-time value", void 0)),
                                                    /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("span", {
                                                        className: "text-xs text-gray-500",
                                                        children: new Date(course.created_at).toLocaleDateString()
                                                    }, void 0, false, {
                                                        fileName: "[project]/src/components/admin/CourseList.tsx",
                                                        lineNumber: 215,
                                                        columnNumber: 23
                                                    }, ("TURBOPACK compile-time value", void 0))
                                                ]
                                            }, void 0, true, {
                                                fileName: "[project]/src/components/admin/CourseList.tsx",
                                                lineNumber: 207,
                                                columnNumber: 21
                                            }, ("TURBOPACK compile-time value", void 0))
                                        ]
                                    }, void 0, true, {
                                        fileName: "[project]/src/components/admin/CourseList.tsx",
                                        lineNumber: 204,
                                        columnNumber: 19
                                    }, ("TURBOPACK compile-time value", void 0)),
                                    /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                                        className: "flex gap-1 ml-2",
                                        children: [
                                            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("button", {
                                                onClick: (e)=>{
                                                    e.stopPropagation();
                                                    handleTogglePublish(course.id, course.is_published);
                                                },
                                                className: `p-1 rounded hover-lift ${course.is_published ? 'text-green-400 hover:bg-green-900/20' : 'text-gray-400 hover:bg-gray-700'}`,
                                                title: course.is_published ? 'Unpublish' : 'Publish',
                                                children: course.is_published ? /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$lucide$2d$react$2f$dist$2f$esm$2f$icons$2f$eye$2d$off$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$export__default__as__EyeOffIcon$3e$__["EyeOffIcon"], {
                                                    size: 14
                                                }, void 0, false, {
                                                    fileName: "[project]/src/components/admin/CourseList.tsx",
                                                    lineNumber: 233,
                                                    columnNumber: 46
                                                }, ("TURBOPACK compile-time value", void 0)) : /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$lucide$2d$react$2f$dist$2f$esm$2f$icons$2f$eye$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$export__default__as__EyeIcon$3e$__["EyeIcon"], {
                                                    size: 14
                                                }, void 0, false, {
                                                    fileName: "[project]/src/components/admin/CourseList.tsx",
                                                    lineNumber: 233,
                                                    columnNumber: 73
                                                }, ("TURBOPACK compile-time value", void 0))
                                            }, void 0, false, {
                                                fileName: "[project]/src/components/admin/CourseList.tsx",
                                                lineNumber: 221,
                                                columnNumber: 21
                                            }, ("TURBOPACK compile-time value", void 0)),
                                            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("button", {
                                                onClick: (e)=>{
                                                    e.stopPropagation();
                                                    handleDeleteCourse(course.id);
                                                },
                                                className: "p-1 rounded text-red-400 hover:bg-red-900/20 hover-lift",
                                                title: "Delete",
                                                children: /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$lucide$2d$react$2f$dist$2f$esm$2f$icons$2f$trash$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$export__default__as__TrashIcon$3e$__["TrashIcon"], {
                                                    size: 14
                                                }, void 0, false, {
                                                    fileName: "[project]/src/components/admin/CourseList.tsx",
                                                    lineNumber: 243,
                                                    columnNumber: 23
                                                }, ("TURBOPACK compile-time value", void 0))
                                            }, void 0, false, {
                                                fileName: "[project]/src/components/admin/CourseList.tsx",
                                                lineNumber: 235,
                                                columnNumber: 21
                                            }, ("TURBOPACK compile-time value", void 0))
                                        ]
                                    }, void 0, true, {
                                        fileName: "[project]/src/components/admin/CourseList.tsx",
                                        lineNumber: 220,
                                        columnNumber: 19
                                    }, ("TURBOPACK compile-time value", void 0))
                                ]
                            }, void 0, true, {
                                fileName: "[project]/src/components/admin/CourseList.tsx",
                                lineNumber: 203,
                                columnNumber: 17
                            }, ("TURBOPACK compile-time value", void 0))
                        }, course.id, false, {
                            fileName: "[project]/src/components/admin/CourseList.tsx",
                            lineNumber: 194,
                            columnNumber: 15
                        }, ("TURBOPACK compile-time value", void 0)))
                }, void 0, false, {
                    fileName: "[project]/src/components/admin/CourseList.tsx",
                    lineNumber: 192,
                    columnNumber: 11
                }, ("TURBOPACK compile-time value", void 0))
            }, void 0, false, {
                fileName: "[project]/src/components/admin/CourseList.tsx",
                lineNumber: 186,
                columnNumber: 7
            }, ("TURBOPACK compile-time value", void 0))
        ]
    }, void 0, true, {
        fileName: "[project]/src/components/admin/CourseList.tsx",
        lineNumber: 130,
        columnNumber: 5
    }, ("TURBOPACK compile-time value", void 0));
};
const __TURBOPACK__default__export__ = CourseList;
}),
"[project]/src/actions/data:a40cba [app-ssr] (ecmascript) <text/javascript>", ((__turbopack_context__) => {
"use strict";

__turbopack_context__.s([
    "listModules",
    ()=>$$RSC_SERVER_ACTION_5
]);
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$build$2f$webpack$2f$loaders$2f$next$2d$flight$2d$loader$2f$action$2d$client$2d$wrapper$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/next/dist/build/webpack/loaders/next-flight-loader/action-client-wrapper.js [app-ssr] (ecmascript)");
/* __next_internal_action_entry_do_not_use__ [{"409d1156001915a04f18aaeda7086d1c6ae3b5eb26":"listModules"},"src/actions/courseActions.ts",""] */ "use turbopack no side effects";
;
const $$RSC_SERVER_ACTION_5 = /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$build$2f$webpack$2f$loaders$2f$next$2d$flight$2d$loader$2f$action$2d$client$2d$wrapper$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["createServerReference"])("409d1156001915a04f18aaeda7086d1c6ae3b5eb26", __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$build$2f$webpack$2f$loaders$2f$next$2d$flight$2d$loader$2f$action$2d$client$2d$wrapper$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["callServer"], void 0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$build$2f$webpack$2f$loaders$2f$next$2d$flight$2d$loader$2f$action$2d$client$2d$wrapper$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["findSourceMapURL"], "listModules");
;
 //# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4vY291cnNlQWN0aW9ucy50cyJdLCJzb3VyY2VzQ29udGVudCI6WyIndXNlIHNlcnZlcidcclxuXHJcbmltcG9ydCB7IGNvb2tpZXMgfSBmcm9tICduZXh0L2hlYWRlcnMnO1xyXG5pbXBvcnQgeyBjcmVhdGVTZXJ2ZXJDbGllbnQgfSBmcm9tICdAc3VwYWJhc2Uvc3NyJztcclxuaW1wb3J0IHsgcmV2YWxpZGF0ZVBhdGggfSBmcm9tICduZXh0L2NhY2hlJztcclxuaW1wb3J0IHsgcGFyc2VZb3VUdWJlIH0gZnJvbSAnQC9saWIveW91dHViZVBhcnNlcic7XHJcblxyXG4vLyBUeXBlIGRlZmluaXRpb25zXHJcbnR5cGUgQ291cnNlID0ge1xyXG4gIGlkOiBzdHJpbmc7XHJcbiAgdGl0bGU6IHN0cmluZztcclxuICBkZXNjcmlwdGlvbjogc3RyaW5nO1xyXG4gIGlzX3B1Ymxpc2hlZDogYm9vbGVhbjtcclxuICBjcmVhdGVkX2F0OiBzdHJpbmc7XHJcbiAgdXBkYXRlZF9hdDogc3RyaW5nO1xyXG59O1xyXG5cclxudHlwZSBNb2R1bGUgPSB7XHJcbiAgaWQ6IHN0cmluZztcclxuICBjb3Vyc2VfaWQ6IHN0cmluZztcclxuICB0aXRsZTogc3RyaW5nO1xyXG4gIG9yZGVyX2luZGV4OiBudW1iZXI7XHJcbn07XHJcblxyXG50eXBlIExlc3NvbiA9IHtcclxuICBpZDogc3RyaW5nO1xyXG4gIG1vZHVsZV9pZDogc3RyaW5nO1xyXG4gIHRpdGxlOiBzdHJpbmc7XHJcbiAgZGVzY3JpcHRpb246IHN0cmluZztcclxuICBvcmRlcl9pbmRleDogbnVtYmVyO1xyXG4gIHZpZGVvX3Byb3ZpZGVyOiBzdHJpbmc7XHJcbiAgdmlkZW9fdXJsOiBzdHJpbmcgfCBudWxsO1xyXG4gIHlvdXR1YmVfdmlkZW9faWQ6IHN0cmluZyB8IG51bGw7XHJcbiAgaXNfcHJldmlldzogYm9vbGVhbjtcclxuICBpc19wdWJsaXNoZWQ6IGJvb2xlYW47XHJcbiAgY3JlYXRlZF9hdDogc3RyaW5nO1xyXG4gIHVwZGF0ZWRfYXQ6IHN0cmluZztcclxufTtcclxuXHJcbi8vIEhlbHBlciBmdW5jdGlvbiB0byBjcmVhdGUgU3VwYWJhc2UgY2xpZW50IGZvciBzZXJ2ZXIgYWN0aW9uc1xyXG5hc3luYyBmdW5jdGlvbiBjcmVhdGVTdXBhYmFzZUNsaWVudCgpIHtcclxuICBjb25zdCBjb29raWVTdG9yZSA9IGF3YWl0IGNvb2tpZXMoKTtcclxuICByZXR1cm4gY3JlYXRlU2VydmVyQ2xpZW50KFxyXG4gICAgcHJvY2Vzcy5lbnYuTkVYVF9QVUJMSUNfU1VQQUJBU0VfVVJMISxcclxuICAgIHByb2Nlc3MuZW52Lk5FWFRfUFVCTElDX1NVUEFCQVNFX0FOT05fS0VZISxcclxuICAgIHtcclxuICAgICAgY29va2llczoge1xyXG4gICAgICAgIGdldDogKG5hbWU6IHN0cmluZykgPT4ge1xyXG4gICAgICAgICAgY29uc3QgY29va2llID0gY29va2llU3RvcmUuZ2V0KG5hbWUpO1xyXG4gICAgICAgICAgcmV0dXJuIGNvb2tpZSA/IGNvb2tpZS52YWx1ZSA6IHVuZGVmaW5lZDtcclxuICAgICAgICB9LFxyXG4gICAgICB9LFxyXG4gICAgfVxyXG4gICk7XHJcbn1cclxuXHJcbi8vIENoZWNrIGlmIHVzZXIgaXMgYWRtaW5cclxuYXN5bmMgZnVuY3Rpb24gaXNBZG1pbihzdXBhYmFzZTogYW55KTogUHJvbWlzZTxib29sZWFuPiB7XHJcbiAgY29uc3Qge1xyXG4gICAgZGF0YTogeyB1c2VyIH0sXHJcbiAgICBlcnJvcjogdXNlckVycm9yLFxyXG4gIH0gPSBhd2FpdCBzdXBhYmFzZS5hdXRoLmdldFVzZXIoKTtcclxuXHJcbiAgaWYgKHVzZXJFcnJvciB8fCAhdXNlcikge1xyXG4gICAgcmV0dXJuIGZhbHNlO1xyXG4gIH1cclxuXHJcbiAgY29uc3QgeyBkYXRhOiBwcm9maWxlLCBlcnJvcjogcHJvZmlsZUVycm9yIH0gPSBhd2FpdCBzdXBhYmFzZVxyXG4gICAgLmZyb20oJ3Byb2ZpbGVzJylcclxuICAgIC5zZWxlY3QoJ3JvbGUnKVxyXG4gICAgLmVxKCdpZCcsIHVzZXIuaWQpXHJcbiAgICAuc2luZ2xlKCk7XHJcblxyXG4gIGlmIChwcm9maWxlRXJyb3IgfHwgIXByb2ZpbGUpIHtcclxuICAgIHJldHVybiBmYWxzZTtcclxuICB9XHJcblxyXG4gIHJldHVybiBwcm9maWxlLnJvbGUgPT09ICdhZG1pbicgfHwgcHJvZmlsZS5yb2xlID09PSAndGVhY2hlcic7XHJcbn1cclxuXHJcbi8vIENvdXJzZSBBY3Rpb25zXHJcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBsaXN0Q291cnNlcygpOiBQcm9taXNlPHsgZGF0YTogQ291cnNlW10gfCBudWxsOyBlcnJvcjogc3RyaW5nIHwgbnVsbCB9PiB7XHJcbiAgY29uc3Qgc3VwYWJhc2UgPSBhd2FpdCBjcmVhdGVTdXBhYmFzZUNsaWVudCgpO1xyXG4gIFxyXG4gIHRyeSB7XHJcbiAgICAvLyBDaGVjayBhZG1pbiBhY2Nlc3NcclxuICAgIGNvbnN0IGFkbWluQ2hlY2sgPSBhd2FpdCBpc0FkbWluKHN1cGFiYXNlKTtcclxuICAgIGlmICghYWRtaW5DaGVjaykge1xyXG4gICAgICBjb25zb2xlLmxvZygnREVCVUc6IGxpc3RDb3Vyc2VzIC0gQWNjZXNzIGRlbmllZCwgbm90IGFkbWluL3RlYWNoZXInKTtcclxuICAgICAgcmV0dXJuIHsgZGF0YTogbnVsbCwgZXJyb3I6ICdBY2Nlc3MgZGVuaWVkLiBBZG1pbiBvciB0ZWFjaGVyIHJvbGUgcmVxdWlyZWQuJyB9O1xyXG4gICAgfVxyXG4gICAgXHJcbiAgICBjb25zb2xlLmxvZygnREVCVUc6IGxpc3RDb3Vyc2VzIC0gRmV0Y2hpbmcgYWxsIGNvdXJzZXMgZm9yIGFkbWluJyk7XHJcbiAgICBcclxuICAgIGNvbnN0IHsgZGF0YSwgZXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlXHJcbiAgICAgIC5mcm9tKCdjb3Vyc2VzJylcclxuICAgICAgLnNlbGVjdCgnKicpXHJcbiAgICAgIC5vcmRlcignY3JlYXRlZF9hdCcsIHsgYXNjZW5kaW5nOiBmYWxzZSB9KTtcclxuICAgIFxyXG4gICAgY29uc29sZS5sb2coJ0RFQlVHOiBsaXN0Q291cnNlcyAtIFF1ZXJ5IHJlc3VsdDonLCB7IGRhdGE6IGRhdGE/Lmxlbmd0aCwgZXJyb3IgfSk7XHJcbiAgICBcclxuICAgIGlmIChlcnJvcikge1xyXG4gICAgICBjb25zb2xlLmVycm9yKCdERUJVRzogbGlzdENvdXJzZXMgLSBTdXBhYmFzZSBlcnJvcjonLCBlcnJvcik7XHJcbiAgICAgIHJldHVybiB7IGRhdGE6IG51bGwsIGVycm9yOiBlcnJvci5tZXNzYWdlIH07XHJcbiAgICB9XHJcblxyXG4gICAgY29uc29sZS5sb2coJ0RFQlVHOiBsaXN0Q291cnNlcyAtIFJldHVybmluZyBjb3Vyc2VzOicsIGRhdGE/Lmxlbmd0aCk7XHJcbiAgICByZXR1cm4geyBkYXRhLCBlcnJvcjogbnVsbCB9O1xyXG4gIH0gY2F0Y2ggKGVycm9yOiBhbnkpIHtcclxuICAgIGNvbnNvbGUuZXJyb3IoJ0RFQlVHOiBsaXN0Q291cnNlcyAtIEV4Y2VwdGlvbjonLCBlcnJvcik7XHJcbiAgICByZXR1cm4geyBkYXRhOiBudWxsLCBlcnJvcjogZXJyb3IubWVzc2FnZSB9O1xyXG4gIH1cclxufVxyXG5cclxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGNyZWF0ZUNvdXJzZSh0aXRsZTogc3RyaW5nLCBkZXNjcmlwdGlvbjogc3RyaW5nKTogUHJvbWlzZTx7IGRhdGE6IENvdXJzZSB8IG51bGw7IGVycm9yOiBzdHJpbmcgfCBudWxsIH0+IHtcclxuICBjb25zdCBzdXBhYmFzZSA9IGF3YWl0IGNyZWF0ZVN1cGFiYXNlQ2xpZW50KCk7XHJcbiAgXHJcbiAgdHJ5IHtcclxuICAgIC8vIENoZWNrIGFkbWluIGFjY2Vzc1xyXG4gICAgY29uc3QgYWRtaW5DaGVjayA9IGF3YWl0IGlzQWRtaW4oc3VwYWJhc2UpO1xyXG4gICAgaWYgKCFhZG1pbkNoZWNrKSB7XHJcbiAgICAgIGNvbnNvbGUubG9nKCdERUJVRzogY3JlYXRlQ291cnNlIC0gQWNjZXNzIGRlbmllZCwgbm90IGFkbWluL3RlYWNoZXInKTtcclxuICAgICAgcmV0dXJuIHsgZGF0YTogbnVsbCwgZXJyb3I6ICdBY2Nlc3MgZGVuaWVkLiBBZG1pbiBvciB0ZWFjaGVyIHJvbGUgcmVxdWlyZWQuJyB9O1xyXG4gICAgfVxyXG4gICAgXHJcbiAgICBjb25zb2xlLmxvZygnREVCVUc6IGNyZWF0ZUNvdXJzZSAtIENyZWF0aW5nIGNvdXJzZTonLCB7IHRpdGxlLCBkZXNjcmlwdGlvbiB9KTtcclxuXHJcbiAgICBjb25zdCB7IGRhdGEsIGVycm9yIH0gPSBhd2FpdCBzdXBhYmFzZVxyXG4gICAgICAuZnJvbSgnY291cnNlcycpXHJcbiAgICAgIC5pbnNlcnQoW3sgdGl0bGUsIGRlc2NyaXB0aW9uIH1dKVxyXG4gICAgICAuc2VsZWN0KClcclxuICAgICAgLnNpbmdsZSgpO1xyXG4gICAgXHJcbiAgICBjb25zb2xlLmxvZygnREVCVUc6IGNyZWF0ZUNvdXJzZSAtIEluc2VydCByZXN1bHQ6JywgeyBkYXRhOiAhIWRhdGEsIGVycm9yIH0pO1xyXG5cclxuICAgIGlmIChlcnJvcikge1xyXG4gICAgICBjb25zb2xlLmVycm9yKCdERUJVRzogY3JlYXRlQ291cnNlIC0gU3VwYWJhc2UgZXJyb3I6JywgZXJyb3IpO1xyXG4gICAgICByZXR1cm4geyBkYXRhOiBudWxsLCBlcnJvcjogZXJyb3IubWVzc2FnZSB9O1xyXG4gICAgfVxyXG5cclxuICAgIC8vIFJldmFsaWRhdGUgdGhlIGNhY2hlIHRvIGVuc3VyZSBmcm9udGVuZCByZWZsZWN0cyBjaGFuZ2VzXHJcbiAgICByZXZhbGlkYXRlUGF0aCgnL2NvdXJzZXMnKTtcclxuICAgIHJldmFsaWRhdGVQYXRoKCcvZGFzaGJvYXJkJyk7XHJcbiAgICBcclxuICAgIGNvbnNvbGUubG9nKCdERUJVRzogY3JlYXRlQ291cnNlIC0gQ291cnNlIGNyZWF0ZWQgc3VjY2Vzc2Z1bGx5LCBjYWNoZSBpbnZhbGlkYXRlZCcpO1xyXG4gICAgXHJcbiAgICByZXR1cm4geyBkYXRhLCBlcnJvcjogbnVsbCB9O1xyXG4gIH0gY2F0Y2ggKGVycm9yOiBhbnkpIHtcclxuICAgIGNvbnNvbGUuZXJyb3IoJ0RFQlVHOiBjcmVhdGVDb3Vyc2UgLSBFeGNlcHRpb246JywgZXJyb3IpO1xyXG4gICAgcmV0dXJuIHsgZGF0YTogbnVsbCwgZXJyb3I6IGVycm9yLm1lc3NhZ2UgfTtcclxuICB9XHJcbn1cclxuXHJcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiB1cGRhdGVDb3Vyc2UoaWQ6IHN0cmluZywgdXBkYXRlczogUGFydGlhbDxDb3Vyc2U+KTogUHJvbWlzZTx7IGRhdGE6IENvdXJzZSB8IG51bGw7IGVycm9yOiBzdHJpbmcgfCBudWxsIH0+IHtcclxuICBjb25zdCBzdXBhYmFzZSA9IGF3YWl0IGNyZWF0ZVN1cGFiYXNlQ2xpZW50KCk7XHJcbiAgXHJcbiAgdHJ5IHtcclxuICAgIC8vIENoZWNrIGFkbWluIGFjY2Vzc1xyXG4gICAgY29uc3QgYWRtaW5DaGVjayA9IGF3YWl0IGlzQWRtaW4oc3VwYWJhc2UpO1xyXG4gICAgaWYgKCFhZG1pbkNoZWNrKSB7XHJcbiAgICAgIHJldHVybiB7IGRhdGE6IG51bGwsIGVycm9yOiAnQWNjZXNzIGRlbmllZC4gQWRtaW4gb3IgdGVhY2hlciByb2xlIHJlcXVpcmVkLicgfTtcclxuICAgIH1cclxuXHJcbiAgICBjb25zdCB7IGRhdGEsIGVycm9yIH0gPSBhd2FpdCBzdXBhYmFzZVxyXG4gICAgICAuZnJvbSgnY291cnNlcycpXHJcbiAgICAgIC51cGRhdGUodXBkYXRlcylcclxuICAgICAgLmVxKCdpZCcsIGlkKVxyXG4gICAgICAuc2VsZWN0KClcclxuICAgICAgLnNpbmdsZSgpO1xyXG5cclxuICAgIGlmIChlcnJvcikge1xyXG4gICAgICByZXR1cm4geyBkYXRhOiBudWxsLCBlcnJvcjogZXJyb3IubWVzc2FnZSB9O1xyXG4gICAgfVxyXG5cclxuICAgIC8vIFJldmFsaWRhdGUgdGhlIGNhY2hlIHRvIGVuc3VyZSBmcm9udGVuZCByZWZsZWN0cyBjaGFuZ2VzXHJcbiAgICByZXZhbGlkYXRlUGF0aCgnL2NvdXJzZXMnKTtcclxuICAgIHJldmFsaWRhdGVQYXRoKCcvZGFzaGJvYXJkJyk7XHJcbiAgICBcclxuICAgIHJldHVybiB7IGRhdGEsIGVycm9yOiBudWxsIH07XHJcbiAgfSBjYXRjaCAoZXJyb3I6IGFueSkge1xyXG4gICAgcmV0dXJuIHsgZGF0YTogbnVsbCwgZXJyb3I6IGVycm9yLm1lc3NhZ2UgfTtcclxuICB9XHJcbn1cclxuXHJcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBkZWxldGVDb3Vyc2UoaWQ6IHN0cmluZyk6IFByb21pc2U8eyBlcnJvcjogc3RyaW5nIHwgbnVsbCB9PiB7XHJcbiAgY29uc3Qgc3VwYWJhc2UgPSBhd2FpdCBjcmVhdGVTdXBhYmFzZUNsaWVudCgpO1xyXG4gIFxyXG4gIHRyeSB7XHJcbiAgICAvLyBDaGVjayBhZG1pbiBhY2Nlc3NcclxuICAgIGNvbnN0IGFkbWluQ2hlY2sgPSBhd2FpdCBpc0FkbWluKHN1cGFiYXNlKTtcclxuICAgIGlmICghYWRtaW5DaGVjaykge1xyXG4gICAgICByZXR1cm4geyBlcnJvcjogJ0FjY2VzcyBkZW5pZWQuIEFkbWluIG9yIHRlYWNoZXIgcm9sZSByZXF1aXJlZC4nIH07XHJcbiAgICB9XHJcblxyXG4gICAgY29uc3QgeyBlcnJvciB9ID0gYXdhaXQgc3VwYWJhc2VcclxuICAgICAgLmZyb20oJ2NvdXJzZXMnKVxyXG4gICAgICAuZGVsZXRlKClcclxuICAgICAgLmVxKCdpZCcsIGlkKTtcclxuXHJcbiAgICBpZiAoZXJyb3IpIHtcclxuICAgICAgcmV0dXJuIHsgZXJyb3I6IGVycm9yLm1lc3NhZ2UgfTtcclxuICAgIH1cclxuXHJcbiAgICAvLyBSZXZhbGlkYXRlIHRoZSBjYWNoZSB0byBlbnN1cmUgZnJvbnRlbmQgcmVmbGVjdHMgY2hhbmdlc1xyXG4gICAgcmV2YWxpZGF0ZVBhdGgoJy9jb3Vyc2VzJyk7XHJcbiAgICByZXZhbGlkYXRlUGF0aCgnL2Rhc2hib2FyZCcpO1xyXG4gICAgXHJcbiAgICByZXR1cm4geyBlcnJvcjogbnVsbCB9O1xyXG4gIH0gY2F0Y2ggKGVycm9yOiBhbnkpIHtcclxuICAgIHJldHVybiB7IGVycm9yOiBlcnJvci5tZXNzYWdlIH07XHJcbiAgfVxyXG59XHJcblxyXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gcHVibGlzaENvdXJzZShpZDogc3RyaW5nLCBpc1B1Ymxpc2hlZDogYm9vbGVhbik6IFByb21pc2U8eyBkYXRhOiBDb3Vyc2UgfCBudWxsOyBlcnJvcjogc3RyaW5nIHwgbnVsbCB9PiB7XHJcbiAgY29uc3Qgc3VwYWJhc2UgPSBhd2FpdCBjcmVhdGVTdXBhYmFzZUNsaWVudCgpO1xyXG4gIFxyXG4gIHRyeSB7XHJcbiAgICAvLyBDaGVjayBhZG1pbiBhY2Nlc3NcclxuICAgIGNvbnN0IGFkbWluQ2hlY2sgPSBhd2FpdCBpc0FkbWluKHN1cGFiYXNlKTtcclxuICAgIGlmICghYWRtaW5DaGVjaykge1xyXG4gICAgICByZXR1cm4geyBkYXRhOiBudWxsLCBlcnJvcjogJ0FjY2VzcyBkZW5pZWQuIEFkbWluIG9yIHRlYWNoZXIgcm9sZSByZXF1aXJlZC4nIH07XHJcbiAgICB9XHJcblxyXG4gICAgY29uc3QgeyBkYXRhLCBlcnJvciB9ID0gYXdhaXQgc3VwYWJhc2VcclxuICAgICAgLmZyb20oJ2NvdXJzZXMnKVxyXG4gICAgICAudXBkYXRlKHsgaXNfcHVibGlzaGVkOiBpc1B1Ymxpc2hlZCB9KVxyXG4gICAgICAuZXEoJ2lkJywgaWQpXHJcbiAgICAgIC5zZWxlY3QoKVxyXG4gICAgICAuc2luZ2xlKCk7XHJcblxyXG4gICAgaWYgKGVycm9yKSB7XHJcbiAgICAgIHJldHVybiB7IGRhdGE6IG51bGwsIGVycm9yOiBlcnJvci5tZXNzYWdlIH07XHJcbiAgICB9XHJcblxyXG4gICAgLy8gUmV2YWxpZGF0ZSB0aGUgY2FjaGUgdG8gZW5zdXJlIGZyb250ZW5kIHJlZmxlY3RzIGNoYW5nZXNcclxuICAgIHJldmFsaWRhdGVQYXRoKCcvY291cnNlcycpO1xyXG4gICAgcmV2YWxpZGF0ZVBhdGgoJy9kYXNoYm9hcmQnKTtcclxuICAgIFxyXG4gICAgcmV0dXJuIHsgZGF0YSwgZXJyb3I6IG51bGwgfTtcclxuICB9IGNhdGNoIChlcnJvcjogYW55KSB7XHJcbiAgICByZXR1cm4geyBkYXRhOiBudWxsLCBlcnJvcjogZXJyb3IubWVzc2FnZSB9O1xyXG4gIH1cclxufVxyXG5cclxuLy8gTW9kdWxlIEFjdGlvbnNcclxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGxpc3RNb2R1bGVzKGNvdXJzZUlkOiBzdHJpbmcpOiBQcm9taXNlPHsgZGF0YTogTW9kdWxlW10gfCBudWxsOyBlcnJvcjogc3RyaW5nIHwgbnVsbCB9PiB7XHJcbiAgY29uc3Qgc3VwYWJhc2UgPSBhd2FpdCBjcmVhdGVTdXBhYmFzZUNsaWVudCgpO1xyXG4gIFxyXG4gIHRyeSB7XHJcbiAgICAvLyBDaGVjayBhZG1pbiBhY2Nlc3NcclxuICAgIGNvbnN0IGFkbWluQ2hlY2sgPSBhd2FpdCBpc0FkbWluKHN1cGFiYXNlKTtcclxuICAgIGlmICghYWRtaW5DaGVjaykge1xyXG4gICAgICByZXR1cm4geyBkYXRhOiBudWxsLCBlcnJvcjogJ0FjY2VzcyBkZW5pZWQuIEFkbWluIG9yIHRlYWNoZXIgcm9sZSByZXF1aXJlZC4nIH07XHJcbiAgICB9XHJcblxyXG4gICAgY29uc3QgeyBkYXRhLCBlcnJvciB9ID0gYXdhaXQgc3VwYWJhc2VcclxuICAgICAgLmZyb20oJ21vZHVsZXMnKVxyXG4gICAgICAuc2VsZWN0KCcqJylcclxuICAgICAgLmVxKCdjb3Vyc2VfaWQnLCBjb3Vyc2VJZClcclxuICAgICAgLm9yZGVyKCdvcmRlcl9pbmRleCcsIHsgYXNjZW5kaW5nOiB0cnVlIH0pO1xyXG5cclxuICAgIGlmIChlcnJvcikge1xyXG4gICAgICByZXR1cm4geyBkYXRhOiBudWxsLCBlcnJvcjogZXJyb3IubWVzc2FnZSB9O1xyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiB7IGRhdGEsIGVycm9yOiBudWxsIH07XHJcbiAgfSBjYXRjaCAoZXJyb3I6IGFueSkge1xyXG4gICAgcmV0dXJuIHsgZGF0YTogbnVsbCwgZXJyb3I6IGVycm9yLm1lc3NhZ2UgfTtcclxuICB9XHJcbn1cclxuXHJcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBjcmVhdGVNb2R1bGUoY291cnNlSWQ6IHN0cmluZywgdGl0bGU6IHN0cmluZyk6IFByb21pc2U8eyBkYXRhOiBNb2R1bGUgfCBudWxsOyBlcnJvcjogc3RyaW5nIHwgbnVsbCB9PiB7XHJcbiAgY29uc3Qgc3VwYWJhc2UgPSBhd2FpdCBjcmVhdGVTdXBhYmFzZUNsaWVudCgpO1xyXG4gIFxyXG4gIHRyeSB7XHJcbiAgICAvLyBDaGVjayBhZG1pbiBhY2Nlc3NcclxuICAgIGNvbnN0IGFkbWluQ2hlY2sgPSBhd2FpdCBpc0FkbWluKHN1cGFiYXNlKTtcclxuICAgIGlmICghYWRtaW5DaGVjaykge1xyXG4gICAgICByZXR1cm4geyBkYXRhOiBudWxsLCBlcnJvcjogJ0FjY2VzcyBkZW5pZWQuIEFkbWluIG9yIHRlYWNoZXIgcm9sZSByZXF1aXJlZC4nIH07XHJcbiAgICB9XHJcblxyXG4gICAgLy8gR2V0IHRoZSBoaWdoZXN0IG9yZGVyX2luZGV4IHRvIGRldGVybWluZSB0aGUgbmV3IHBvc2l0aW9uXHJcbiAgICBjb25zdCB7IGRhdGE6IGV4aXN0aW5nTW9kdWxlcyB9ID0gYXdhaXQgc3VwYWJhc2VcclxuICAgICAgLmZyb20oJ21vZHVsZXMnKVxyXG4gICAgICAuc2VsZWN0KCdvcmRlcl9pbmRleCcpXHJcbiAgICAgIC5lcSgnY291cnNlX2lkJywgY291cnNlSWQpXHJcbiAgICAgIC5vcmRlcignb3JkZXJfaW5kZXgnLCB7IGFzY2VuZGluZzogZmFsc2UgfSlcclxuICAgICAgLmxpbWl0KDEpO1xyXG5cclxuICAgIGNvbnN0IG5ld09yZGVySW5kZXggPSBleGlzdGluZ01vZHVsZXMgJiYgZXhpc3RpbmdNb2R1bGVzLmxlbmd0aCA+IDAgXHJcbiAgICAgID8gZXhpc3RpbmdNb2R1bGVzWzBdLm9yZGVyX2luZGV4ICsgMTAgXHJcbiAgICAgIDogMDtcclxuXHJcbiAgICBjb25zdCB7IGRhdGEsIGVycm9yIH0gPSBhd2FpdCBzdXBhYmFzZVxyXG4gICAgICAuZnJvbSgnbW9kdWxlcycpXHJcbiAgICAgIC5pbnNlcnQoW3sgY291cnNlX2lkOiBjb3Vyc2VJZCwgdGl0bGUsIG9yZGVyX2luZGV4OiBuZXdPcmRlckluZGV4IH1dKVxyXG4gICAgICAuc2VsZWN0KClcclxuICAgICAgLnNpbmdsZSgpO1xyXG5cclxuICAgIGlmIChlcnJvcikge1xyXG4gICAgICByZXR1cm4geyBkYXRhOiBudWxsLCBlcnJvcjogZXJyb3IubWVzc2FnZSB9O1xyXG4gICAgfVxyXG5cclxuICAgIC8vIFJldmFsaWRhdGUgdGhlIGNhY2hlIHRvIGVuc3VyZSBmcm9udGVuZCByZWZsZWN0cyBjaGFuZ2VzXHJcbiAgICByZXZhbGlkYXRlUGF0aCgnL2NvdXJzZXMnKTtcclxuICAgIHJldmFsaWRhdGVQYXRoKCcvZGFzaGJvYXJkJyk7XHJcbiAgICBcclxuICAgIHJldHVybiB7IGRhdGEsIGVycm9yOiBudWxsIH07XHJcbiAgfSBjYXRjaCAoZXJyb3I6IGFueSkge1xyXG4gICAgcmV0dXJuIHsgZGF0YTogbnVsbCwgZXJyb3I6IGVycm9yLm1lc3NhZ2UgfTtcclxuICB9XHJcbn1cclxuXHJcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiB1cGRhdGVNb2R1bGUoaWQ6IHN0cmluZywgdXBkYXRlczogUGFydGlhbDxNb2R1bGU+KTogUHJvbWlzZTx7IGRhdGE6IE1vZHVsZSB8IG51bGw7IGVycm9yOiBzdHJpbmcgfCBudWxsIH0+IHtcclxuICBjb25zdCBzdXBhYmFzZSA9IGF3YWl0IGNyZWF0ZVN1cGFiYXNlQ2xpZW50KCk7XHJcbiAgXHJcbiAgdHJ5IHtcclxuICAgIC8vIENoZWNrIGFkbWluIGFjY2Vzc1xyXG4gICAgY29uc3QgYWRtaW5DaGVjayA9IGF3YWl0IGlzQWRtaW4oc3VwYWJhc2UpO1xyXG4gICAgaWYgKCFhZG1pbkNoZWNrKSB7XHJcbiAgICAgIHJldHVybiB7IGRhdGE6IG51bGwsIGVycm9yOiAnQWNjZXNzIGRlbmllZC4gQWRtaW4gb3IgdGVhY2hlciByb2xlIHJlcXVpcmVkLicgfTtcclxuICAgIH1cclxuXHJcbiAgICBjb25zdCB7IGRhdGEsIGVycm9yIH0gPSBhd2FpdCBzdXBhYmFzZVxyXG4gICAgICAuZnJvbSgnbW9kdWxlcycpXHJcbiAgICAgIC51cGRhdGUodXBkYXRlcylcclxuICAgICAgLmVxKCdpZCcsIGlkKVxyXG4gICAgICAuc2VsZWN0KClcclxuICAgICAgLnNpbmdsZSgpO1xyXG5cclxuICAgIGlmIChlcnJvcikge1xyXG4gICAgICByZXR1cm4geyBkYXRhOiBudWxsLCBlcnJvcjogZXJyb3IubWVzc2FnZSB9O1xyXG4gICAgfVxyXG5cclxuICAgIC8vIFJldmFsaWRhdGUgdGhlIGNhY2hlIHRvIGVuc3VyZSBmcm9udGVuZCByZWZsZWN0cyBjaGFuZ2VzXHJcbiAgICByZXZhbGlkYXRlUGF0aCgnL2NvdXJzZXMnKTtcclxuICAgIHJldmFsaWRhdGVQYXRoKCcvZGFzaGJvYXJkJyk7XHJcbiAgICBcclxuICAgIHJldHVybiB7IGRhdGEsIGVycm9yOiBudWxsIH07XHJcbiAgfSBjYXRjaCAoZXJyb3I6IGFueSkge1xyXG4gICAgcmV0dXJuIHsgZGF0YTogbnVsbCwgZXJyb3I6IGVycm9yLm1lc3NhZ2UgfTtcclxuICB9XHJcbn1cclxuXHJcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBkZWxldGVNb2R1bGUoaWQ6IHN0cmluZyk6IFByb21pc2U8eyBlcnJvcjogc3RyaW5nIHwgbnVsbCB9PiB7XHJcbiAgY29uc3Qgc3VwYWJhc2UgPSBhd2FpdCBjcmVhdGVTdXBhYmFzZUNsaWVudCgpO1xyXG4gIFxyXG4gIHRyeSB7XHJcbiAgICAvLyBDaGVjayBhZG1pbiBhY2Nlc3NcclxuICAgIGNvbnN0IGFkbWluQ2hlY2sgPSBhd2FpdCBpc0FkbWluKHN1cGFiYXNlKTtcclxuICAgIGlmICghYWRtaW5DaGVjaykge1xyXG4gICAgICByZXR1cm4geyBlcnJvcjogJ0FjY2VzcyBkZW5pZWQuIEFkbWluIG9yIHRlYWNoZXIgcm9sZSByZXF1aXJlZC4nIH07XHJcbiAgICB9XHJcblxyXG4gICAgY29uc3QgeyBlcnJvciB9ID0gYXdhaXQgc3VwYWJhc2VcclxuICAgICAgLmZyb20oJ21vZHVsZXMnKVxyXG4gICAgICAuZGVsZXRlKClcclxuICAgICAgLmVxKCdpZCcsIGlkKTtcclxuXHJcbiAgICBpZiAoZXJyb3IpIHtcclxuICAgICAgcmV0dXJuIHsgZXJyb3I6IGVycm9yLm1lc3NhZ2UgfTtcclxuICAgIH1cclxuXHJcbiAgICAvLyBSZXZhbGlkYXRlIHRoZSBjYWNoZSB0byBlbnN1cmUgZnJvbnRlbmQgcmVmbGVjdHMgY2hhbmdlc1xyXG4gICAgcmV2YWxpZGF0ZVBhdGgoJy9jb3Vyc2VzJyk7XHJcbiAgICByZXZhbGlkYXRlUGF0aCgnL2Rhc2hib2FyZCcpO1xyXG4gICAgXHJcbiAgICByZXR1cm4geyBlcnJvcjogbnVsbCB9O1xyXG4gIH0gY2F0Y2ggKGVycm9yOiBhbnkpIHtcclxuICAgIHJldHVybiB7IGVycm9yOiBlcnJvci5tZXNzYWdlIH07XHJcbiAgfVxyXG59XHJcblxyXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gcmVvcmRlck1vZHVsZXMoY291cnNlSWQ6IHN0cmluZywgbW9kdWxlSWRzOiBzdHJpbmdbXSk6IFByb21pc2U8eyBlcnJvcjogc3RyaW5nIHwgbnVsbCB9PiB7XHJcbiAgY29uc3Qgc3VwYWJhc2UgPSBhd2FpdCBjcmVhdGVTdXBhYmFzZUNsaWVudCgpO1xyXG4gIFxyXG4gIHRyeSB7XHJcbiAgICAvLyBDaGVjayBhZG1pbiBhY2Nlc3NcclxuICAgIGNvbnN0IGFkbWluQ2hlY2sgPSBhd2FpdCBpc0FkbWluKHN1cGFiYXNlKTtcclxuICAgIGlmICghYWRtaW5DaGVjaykge1xyXG4gICAgICByZXR1cm4geyBlcnJvcjogJ0FjY2VzcyBkZW5pZWQuIEFkbWluIG9yIHRlYWNoZXIgcm9sZSByZXF1aXJlZC4nIH07XHJcbiAgICB9XHJcblxyXG4gICAgLy8gVXBkYXRlIGFsbCBtb2R1bGVzIHdpdGggdGhlaXIgbmV3IHBvc2l0aW9ucyBpbiBhIHNpbmdsZSB0cmFuc2FjdGlvblxyXG4gICAgY29uc3QgdXBkYXRlcyA9IG1vZHVsZUlkcy5tYXAoKGlkLCBpbmRleCkgPT4gKHtcclxuICAgICAgaWQsXHJcbiAgICAgIG9yZGVyX2luZGV4OiBpbmRleCAqIDEwIC8vIFVzZSBpbmNyZW1lbnRzIG9mIDEwIHRvIGFsbG93IGZvciBmdXR1cmUgaW5zZXJ0aW9ucyBiZXR3ZWVuIGl0ZW1zXHJcbiAgICB9KSk7XHJcblxyXG4gICAgLy8gUGVyZm9ybSB1cGRhdGVzIGluIGEgYmF0Y2hcclxuICAgIGZvciAoY29uc3QgdXBkYXRlIG9mIHVwZGF0ZXMpIHtcclxuICAgICAgY29uc3QgeyBlcnJvciB9ID0gYXdhaXQgc3VwYWJhc2VcclxuICAgICAgICAuZnJvbSgnbW9kdWxlcycpXHJcbiAgICAgICAgLnVwZGF0ZSh7IG9yZGVyX2luZGV4OiB1cGRhdGUub3JkZXJfaW5kZXggfSlcclxuICAgICAgICAuZXEoJ2lkJywgdXBkYXRlLmlkKVxyXG4gICAgICAgIC5lcSgnY291cnNlX2lkJywgY291cnNlSWQpOyAvLyBBZGRpdGlvbmFsIHNhZmV0eSBjaGVja1xyXG5cclxuICAgICAgaWYgKGVycm9yKSB7XHJcbiAgICAgICAgcmV0dXJuIHsgZXJyb3I6IGVycm9yLm1lc3NhZ2UgfTtcclxuICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8vIFJldmFsaWRhdGUgdGhlIGNhY2hlIHRvIGVuc3VyZSBmcm9udGVuZCByZWZsZWN0cyBjaGFuZ2VzXHJcbiAgICByZXZhbGlkYXRlUGF0aCgnL2NvdXJzZXMnKTtcclxuICAgIHJldmFsaWRhdGVQYXRoKCcvZGFzaGJvYXJkJyk7XHJcbiAgICBcclxuICAgIHJldHVybiB7IGVycm9yOiBudWxsIH07XHJcbiAgfSBjYXRjaCAoZXJyb3I6IGFueSkge1xyXG4gICAgcmV0dXJuIHsgZXJyb3I6IGVycm9yLm1lc3NhZ2UgfTtcclxuICB9XHJcbn1cclxuXHJcbi8vIExlc3NvbiBBY3Rpb25zXHJcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBsaXN0TGVzc29ucyhtb2R1bGVJZDogc3RyaW5nKTogUHJvbWlzZTx7IGRhdGE6IExlc3NvbltdIHwgbnVsbDsgZXJyb3I6IHN0cmluZyB8IG51bGwgfT4ge1xyXG4gIGNvbnN0IHN1cGFiYXNlID0gYXdhaXQgY3JlYXRlU3VwYWJhc2VDbGllbnQoKTtcclxuICBcclxuICB0cnkge1xyXG4gICAgLy8gQ2hlY2sgYWRtaW4gYWNjZXNzXHJcbiAgICBjb25zdCBhZG1pbkNoZWNrID0gYXdhaXQgaXNBZG1pbihzdXBhYmFzZSk7XHJcbiAgICBpZiAoIWFkbWluQ2hlY2spIHtcclxuICAgICAgcmV0dXJuIHsgZGF0YTogbnVsbCwgZXJyb3I6ICdBY2Nlc3MgZGVuaWVkLiBBZG1pbiBvciB0ZWFjaGVyIHJvbGUgcmVxdWlyZWQuJyB9O1xyXG4gICAgfVxyXG5cclxuICAgIGNvbnN0IHsgZGF0YSwgZXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlXHJcbiAgICAgIC5mcm9tKCdsZXNzb25zJylcclxuICAgICAgLnNlbGVjdCgnKicpXHJcbiAgICAgIC5lcSgnbW9kdWxlX2lkJywgbW9kdWxlSWQpXHJcbiAgICAgIC5vcmRlcignb3JkZXJfaW5kZXgnLCB7IGFzY2VuZGluZzogdHJ1ZSB9KTtcclxuXHJcbiAgICBpZiAoZXJyb3IpIHtcclxuICAgICAgcmV0dXJuIHsgZGF0YTogbnVsbCwgZXJyb3I6IGVycm9yLm1lc3NhZ2UgfTtcclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4geyBkYXRhLCBlcnJvcjogbnVsbCB9O1xyXG4gIH0gY2F0Y2ggKGVycm9yOiBhbnkpIHtcclxuICAgIHJldHVybiB7IGRhdGE6IG51bGwsIGVycm9yOiBlcnJvci5tZXNzYWdlIH07XHJcbiAgfVxyXG59XHJcblxyXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gY3JlYXRlTGVzc29uKFxyXG4gIG1vZHVsZUlkOiBzdHJpbmcsIFxyXG4gIHRpdGxlOiBzdHJpbmcsIFxyXG4gIGRlc2NyaXB0aW9uOiBzdHJpbmcsIFxyXG4gIHlvdXR1YmVVcmw6IHN0cmluZ1xyXG4pOiBQcm9taXNlPHsgZGF0YTogTGVzc29uIHwgbnVsbDsgZXJyb3I6IHN0cmluZyB8IG51bGwgfT4ge1xyXG4gIGNvbnN0IHN1cGFiYXNlID0gYXdhaXQgY3JlYXRlU3VwYWJhc2VDbGllbnQoKTtcclxuICBcclxuICB0cnkge1xyXG4gICAgLy8gQ2hlY2sgYWRtaW4gYWNjZXNzXHJcbiAgICBjb25zdCBhZG1pbkNoZWNrID0gYXdhaXQgaXNBZG1pbihzdXBhYmFzZSk7XHJcbiAgICBpZiAoIWFkbWluQ2hlY2spIHtcclxuICAgICAgcmV0dXJuIHsgZGF0YTogbnVsbCwgZXJyb3I6ICdBY2Nlc3MgZGVuaWVkLiBBZG1pbiBvciB0ZWFjaGVyIHJvbGUgcmVxdWlyZWQuJyB9O1xyXG4gICAgfVxyXG5cclxuICAgIC8vIFBhcnNlIHRoZSBZb3VUdWJlIFVSTFxyXG4gICAgY29uc3QgcGFyc2VkID0gcGFyc2VZb3VUdWJlKHlvdXR1YmVVcmwpO1xyXG4gICAgaWYgKHBhcnNlZC5lcnJvcikge1xyXG4gICAgICByZXR1cm4geyBkYXRhOiBudWxsLCBlcnJvcjogcGFyc2VkLmVycm9yIH07XHJcbiAgICB9XHJcblxyXG4gICAgLy8gR2V0IHRoZSBoaWdoZXN0IG9yZGVyX2luZGV4IHRvIGRldGVybWluZSB0aGUgbmV3IHBvc2l0aW9uXHJcbiAgICBjb25zdCB7IGRhdGE6IGV4aXN0aW5nTGVzc29ucyB9ID0gYXdhaXQgc3VwYWJhc2VcclxuICAgICAgLmZyb20oJ2xlc3NvbnMnKVxyXG4gICAgICAuc2VsZWN0KCdvcmRlcl9pbmRleCcpXHJcbiAgICAgIC5lcSgnbW9kdWxlX2lkJywgbW9kdWxlSWQpXHJcbiAgICAgIC5vcmRlcignb3JkZXJfaW5kZXgnLCB7IGFzY2VuZGluZzogZmFsc2UgfSlcclxuICAgICAgLmxpbWl0KDEpO1xyXG5cclxuICAgIGNvbnN0IG5ld09yZGVySW5kZXggPSBleGlzdGluZ0xlc3NvbnMgJiYgZXhpc3RpbmdMZXNzb25zLmxlbmd0aCA+IDAgXHJcbiAgICAgID8gZXhpc3RpbmdMZXNzb25zWzBdLm9yZGVyX2luZGV4ICsgMTAgXHJcbiAgICAgIDogMDtcclxuXHJcbiAgICBjb25zdCB7IGRhdGEsIGVycm9yIH0gPSBhd2FpdCBzdXBhYmFzZVxyXG4gICAgICAuZnJvbSgnbGVzc29ucycpXHJcbiAgICAgIC5pbnNlcnQoW3tcclxuICAgICAgICBtb2R1bGVfaWQ6IG1vZHVsZUlkLFxyXG4gICAgICAgIHRpdGxlLFxyXG4gICAgICAgIGRlc2NyaXB0aW9uLFxyXG4gICAgICAgIHlvdXR1YmVfdmlkZW9faWQ6IHBhcnNlZC52aWRlb0lkLFxyXG4gICAgICAgIHZpZGVvX3VybDogcGFyc2VkLmVtYmVkVXJsLFxyXG4gICAgICAgIG9yZGVyX2luZGV4OiBuZXdPcmRlckluZGV4LFxyXG4gICAgICAgIGlzX3ByZXZpZXc6IGZhbHNlLFxyXG4gICAgICAgIGlzX3B1Ymxpc2hlZDogdHJ1ZVxyXG4gICAgICB9XSlcclxuICAgICAgLnNlbGVjdCgpXHJcbiAgICAgIC5zaW5nbGUoKTtcclxuXHJcbiAgICBpZiAoZXJyb3IpIHtcclxuICAgICAgcmV0dXJuIHsgZGF0YTogbnVsbCwgZXJyb3I6IGVycm9yLm1lc3NhZ2UgfTtcclxuICAgIH1cclxuXHJcbiAgICAvLyBSZXZhbGlkYXRlIHRoZSBjYWNoZSB0byBlbnN1cmUgZnJvbnRlbmQgcmVmbGVjdHMgY2hhbmdlc1xyXG4gICAgcmV2YWxpZGF0ZVBhdGgoJy9jb3Vyc2VzJyk7XHJcbiAgICByZXZhbGlkYXRlUGF0aCgnL2Rhc2hib2FyZCcpO1xyXG4gICAgXHJcbiAgICByZXR1cm4geyBkYXRhLCBlcnJvcjogbnVsbCB9O1xyXG4gIH0gY2F0Y2ggKGVycm9yOiBhbnkpIHtcclxuICAgIHJldHVybiB7IGRhdGE6IG51bGwsIGVycm9yOiBlcnJvci5tZXNzYWdlIH07XHJcbiAgfVxyXG59XHJcblxyXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gdXBkYXRlTGVzc29uKFxyXG4gIGlkOiBzdHJpbmcsIFxyXG4gIHVwZGF0ZXM6IFBhcnRpYWw8T21pdDxMZXNzb24sICdpZCcgfCAnbW9kdWxlX2lkJyB8ICdjcmVhdGVkX2F0JyB8ICd1cGRhdGVkX2F0Jz4+XHJcbik6IFByb21pc2U8eyBkYXRhOiBMZXNzb24gfCBudWxsOyBlcnJvcjogc3RyaW5nIHwgbnVsbCB9PiB7XHJcbiAgY29uc3Qgc3VwYWJhc2UgPSBhd2FpdCBjcmVhdGVTdXBhYmFzZUNsaWVudCgpO1xyXG4gIFxyXG4gIHRyeSB7XHJcbiAgICAvLyBDaGVjayBhZG1pbiBhY2Nlc3NcclxuICAgIGNvbnN0IGFkbWluQ2hlY2sgPSBhd2FpdCBpc0FkbWluKHN1cGFiYXNlKTtcclxuICAgIGlmICghYWRtaW5DaGVjaykge1xyXG4gICAgICByZXR1cm4geyBkYXRhOiBudWxsLCBlcnJvcjogJ0FjY2VzcyBkZW5pZWQuIEFkbWluIG9yIHRlYWNoZXIgcm9sZSByZXF1aXJlZC4nIH07XHJcbiAgICB9XHJcblxyXG4gICAgLy8gSWYgdXBkYXRpbmcgWW91VHViZSBVUkwsIHBhcnNlIGl0IGZpcnN0XHJcbiAgICBpZiAodXBkYXRlcy52aWRlb191cmwpIHtcclxuICAgICAgY29uc3QgcGFyc2VkID0gcGFyc2VZb3VUdWJlKHVwZGF0ZXMudmlkZW9fdXJsKTtcclxuICAgICAgaWYgKHBhcnNlZC5lcnJvcikge1xyXG4gICAgICAgIHJldHVybiB7IGRhdGE6IG51bGwsIGVycm9yOiBwYXJzZWQuZXJyb3IgfTtcclxuICAgICAgfVxyXG4gICAgICB1cGRhdGVzLnlvdXR1YmVfdmlkZW9faWQgPSBwYXJzZWQudmlkZW9JZDtcclxuICAgICAgdXBkYXRlcy52aWRlb191cmwgPSBwYXJzZWQuZW1iZWRVcmw7XHJcbiAgICB9XHJcblxyXG4gICAgY29uc3QgeyBkYXRhLCBlcnJvciB9ID0gYXdhaXQgc3VwYWJhc2VcclxuICAgICAgLmZyb20oJ2xlc3NvbnMnKVxyXG4gICAgICAudXBkYXRlKHVwZGF0ZXMpXHJcbiAgICAgIC5lcSgnaWQnLCBpZClcclxuICAgICAgLnNlbGVjdCgpXHJcbiAgICAgIC5zaW5nbGUoKTtcclxuXHJcbiAgICBpZiAoZXJyb3IpIHtcclxuICAgICAgcmV0dXJuIHsgZGF0YTogbnVsbCwgZXJyb3I6IGVycm9yLm1lc3NhZ2UgfTtcclxuICAgIH1cclxuXHJcbiAgICAvLyBSZXZhbGlkYXRlIHRoZSBjYWNoZSB0byBlbnN1cmUgZnJvbnRlbmQgcmVmbGVjdHMgY2hhbmdlc1xyXG4gICAgcmV2YWxpZGF0ZVBhdGgoJy9jb3Vyc2VzJyk7XHJcbiAgICByZXZhbGlkYXRlUGF0aCgnL2Rhc2hib2FyZCcpO1xyXG4gICAgXHJcbiAgICByZXR1cm4geyBkYXRhLCBlcnJvcjogbnVsbCB9O1xyXG4gIH0gY2F0Y2ggKGVycm9yOiBhbnkpIHtcclxuICAgIHJldHVybiB7IGRhdGE6IG51bGwsIGVycm9yOiBlcnJvci5tZXNzYWdlIH07XHJcbiAgfVxyXG59XHJcblxyXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZGVsZXRlTGVzc29uKGlkOiBzdHJpbmcpOiBQcm9taXNlPHsgZXJyb3I6IHN0cmluZyB8IG51bGwgfT4ge1xyXG4gIGNvbnN0IHN1cGFiYXNlID0gYXdhaXQgY3JlYXRlU3VwYWJhc2VDbGllbnQoKTtcclxuICBcclxuICB0cnkge1xyXG4gICAgLy8gQ2hlY2sgYWRtaW4gYWNjZXNzXHJcbiAgICBjb25zdCBhZG1pbkNoZWNrID0gYXdhaXQgaXNBZG1pbihzdXBhYmFzZSk7XHJcbiAgICBpZiAoIWFkbWluQ2hlY2spIHtcclxuICAgICAgcmV0dXJuIHsgZXJyb3I6ICdBY2Nlc3MgZGVuaWVkLiBBZG1pbiBvciB0ZWFjaGVyIHJvbGUgcmVxdWlyZWQuJyB9O1xyXG4gICAgfVxyXG5cclxuICAgIGNvbnN0IHsgZXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlXHJcbiAgICAgIC5mcm9tKCdsZXNzb25zJylcclxuICAgICAgLmRlbGV0ZSgpXHJcbiAgICAgIC5lcSgnaWQnLCBpZCk7XHJcblxyXG4gICAgaWYgKGVycm9yKSB7XHJcbiAgICAgIHJldHVybiB7IGVycm9yOiBlcnJvci5tZXNzYWdlIH07XHJcbiAgICB9XHJcblxyXG4gICAgLy8gUmV2YWxpZGF0ZSB0aGUgY2FjaGUgdG8gZW5zdXJlIGZyb250ZW5kIHJlZmxlY3RzIGNoYW5nZXNcclxuICAgIHJldmFsaWRhdGVQYXRoKCcvY291cnNlcycpO1xyXG4gICAgcmV2YWxpZGF0ZVBhdGgoJy9kYXNoYm9hcmQnKTtcclxuICAgIFxyXG4gICAgcmV0dXJuIHsgZXJyb3I6IG51bGwgfTtcclxuICB9IGNhdGNoIChlcnJvcjogYW55KSB7XHJcbiAgICByZXR1cm4geyBlcnJvcjogZXJyb3IubWVzc2FnZSB9O1xyXG4gIH1cclxufVxyXG5cclxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIHJlb3JkZXJMZXNzb25zKG1vZHVsZUlkOiBzdHJpbmcsIGxlc3Nvbklkczogc3RyaW5nW10pOiBQcm9taXNlPHsgZXJyb3I6IHN0cmluZyB8IG51bGwgfT4ge1xyXG4gIGNvbnN0IHN1cGFiYXNlID0gYXdhaXQgY3JlYXRlU3VwYWJhc2VDbGllbnQoKTtcclxuICBcclxuICB0cnkge1xyXG4gICAgLy8gQ2hlY2sgYWRtaW4gYWNjZXNzXHJcbiAgICBjb25zdCBhZG1pbkNoZWNrID0gYXdhaXQgaXNBZG1pbihzdXBhYmFzZSk7XHJcbiAgICBpZiAoIWFkbWluQ2hlY2spIHtcclxuICAgICAgcmV0dXJuIHsgZXJyb3I6ICdBY2Nlc3MgZGVuaWVkLiBBZG1pbiBvciB0ZWFjaGVyIHJvbGUgcmVxdWlyZWQuJyB9O1xyXG4gICAgfVxyXG5cclxuICAgIC8vIFVwZGF0ZSBhbGwgbGVzc29ucyB3aXRoIHRoZWlyIG5ldyBwb3NpdGlvbnMgaW4gYSBzaW5nbGUgdHJhbnNhY3Rpb25cclxuICAgIGNvbnN0IHVwZGF0ZXMgPSBsZXNzb25JZHMubWFwKChpZCwgaW5kZXgpID0+ICh7XHJcbiAgICAgIGlkLFxyXG4gICAgICBvcmRlcl9pbmRleDogaW5kZXggKiAxMCAvLyBVc2UgaW5jcmVtZW50cyBvZiAxMCB0byBhbGxvdyBmb3IgZnV0dXJlIGluc2VydGlvbnMgYmV0d2VlbiBpdGVtc1xyXG4gICAgfSkpO1xyXG5cclxuICAgIC8vIFBlcmZvcm0gdXBkYXRlcyBpbiBhIGJhdGNoXHJcbiAgICBmb3IgKGNvbnN0IHVwZGF0ZSBvZiB1cGRhdGVzKSB7XHJcbiAgICAgIGNvbnN0IHsgZXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlXHJcbiAgICAgICAgLmZyb20oJ2xlc3NvbnMnKVxyXG4gICAgICAgIC51cGRhdGUoeyBvcmRlcl9pbmRleDogdXBkYXRlLm9yZGVyX2luZGV4IH0pXHJcbiAgICAgICAgLmVxKCdpZCcsIHVwZGF0ZS5pZClcclxuICAgICAgICAuZXEoJ21vZHVsZV9pZCcsIG1vZHVsZUlkKTsgLy8gQWRkaXRpb25hbCBzYWZldHkgY2hlY2tcclxuXHJcbiAgICAgIGlmIChlcnJvcikge1xyXG4gICAgICAgIHJldHVybiB7IGVycm9yOiBlcnJvci5tZXNzYWdlIH07XHJcbiAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvLyBSZXZhbGlkYXRlIHRoZSBjYWNoZSB0byBlbnN1cmUgZnJvbnRlbmQgcmVmbGVjdHMgY2hhbmdlc1xyXG4gICAgcmV2YWxpZGF0ZVBhdGgoJy9jb3Vyc2VzJyk7XHJcbiAgICByZXZhbGlkYXRlUGF0aCgnL2Rhc2hib2FyZCcpO1xyXG4gICAgXHJcbiAgICByZXR1cm4geyBlcnJvcjogbnVsbCB9O1xyXG4gIH0gY2F0Y2ggKGVycm9yOiBhbnkpIHtcclxuICAgIHJldHVybiB7IGVycm9yOiBlcnJvci5tZXNzYWdlIH07XHJcbiAgfVxyXG59Il0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI0UkFxUHNCLHdMQUFBIn0=
}),
"[project]/src/actions/data:6f10cc [app-ssr] (ecmascript) <text/javascript>", ((__turbopack_context__) => {
"use strict";

__turbopack_context__.s([
    "createModule",
    ()=>$$RSC_SERVER_ACTION_6
]);
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$build$2f$webpack$2f$loaders$2f$next$2d$flight$2d$loader$2f$action$2d$client$2d$wrapper$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/next/dist/build/webpack/loaders/next-flight-loader/action-client-wrapper.js [app-ssr] (ecmascript)");
/* __next_internal_action_entry_do_not_use__ [{"60c099a26d59c66b0d55e0af188374b1d738722fe8":"createModule"},"src/actions/courseActions.ts",""] */ "use turbopack no side effects";
;
const $$RSC_SERVER_ACTION_6 = /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$build$2f$webpack$2f$loaders$2f$next$2d$flight$2d$loader$2f$action$2d$client$2d$wrapper$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["createServerReference"])("60c099a26d59c66b0d55e0af188374b1d738722fe8", __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$build$2f$webpack$2f$loaders$2f$next$2d$flight$2d$loader$2f$action$2d$client$2d$wrapper$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["callServer"], void 0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$build$2f$webpack$2f$loaders$2f$next$2d$flight$2d$loader$2f$action$2d$client$2d$wrapper$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["findSourceMapURL"], "createModule");
;
 //# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4vY291cnNlQWN0aW9ucy50cyJdLCJzb3VyY2VzQ29udGVudCI6WyIndXNlIHNlcnZlcidcclxuXHJcbmltcG9ydCB7IGNvb2tpZXMgfSBmcm9tICduZXh0L2hlYWRlcnMnO1xyXG5pbXBvcnQgeyBjcmVhdGVTZXJ2ZXJDbGllbnQgfSBmcm9tICdAc3VwYWJhc2Uvc3NyJztcclxuaW1wb3J0IHsgcmV2YWxpZGF0ZVBhdGggfSBmcm9tICduZXh0L2NhY2hlJztcclxuaW1wb3J0IHsgcGFyc2VZb3VUdWJlIH0gZnJvbSAnQC9saWIveW91dHViZVBhcnNlcic7XHJcblxyXG4vLyBUeXBlIGRlZmluaXRpb25zXHJcbnR5cGUgQ291cnNlID0ge1xyXG4gIGlkOiBzdHJpbmc7XHJcbiAgdGl0bGU6IHN0cmluZztcclxuICBkZXNjcmlwdGlvbjogc3RyaW5nO1xyXG4gIGlzX3B1Ymxpc2hlZDogYm9vbGVhbjtcclxuICBjcmVhdGVkX2F0OiBzdHJpbmc7XHJcbiAgdXBkYXRlZF9hdDogc3RyaW5nO1xyXG59O1xyXG5cclxudHlwZSBNb2R1bGUgPSB7XHJcbiAgaWQ6IHN0cmluZztcclxuICBjb3Vyc2VfaWQ6IHN0cmluZztcclxuICB0aXRsZTogc3RyaW5nO1xyXG4gIG9yZGVyX2luZGV4OiBudW1iZXI7XHJcbn07XHJcblxyXG50eXBlIExlc3NvbiA9IHtcclxuICBpZDogc3RyaW5nO1xyXG4gIG1vZHVsZV9pZDogc3RyaW5nO1xyXG4gIHRpdGxlOiBzdHJpbmc7XHJcbiAgZGVzY3JpcHRpb246IHN0cmluZztcclxuICBvcmRlcl9pbmRleDogbnVtYmVyO1xyXG4gIHZpZGVvX3Byb3ZpZGVyOiBzdHJpbmc7XHJcbiAgdmlkZW9fdXJsOiBzdHJpbmcgfCBudWxsO1xyXG4gIHlvdXR1YmVfdmlkZW9faWQ6IHN0cmluZyB8IG51bGw7XHJcbiAgaXNfcHJldmlldzogYm9vbGVhbjtcclxuICBpc19wdWJsaXNoZWQ6IGJvb2xlYW47XHJcbiAgY3JlYXRlZF9hdDogc3RyaW5nO1xyXG4gIHVwZGF0ZWRfYXQ6IHN0cmluZztcclxufTtcclxuXHJcbi8vIEhlbHBlciBmdW5jdGlvbiB0byBjcmVhdGUgU3VwYWJhc2UgY2xpZW50IGZvciBzZXJ2ZXIgYWN0aW9uc1xyXG5hc3luYyBmdW5jdGlvbiBjcmVhdGVTdXBhYmFzZUNsaWVudCgpIHtcclxuICBjb25zdCBjb29raWVTdG9yZSA9IGF3YWl0IGNvb2tpZXMoKTtcclxuICByZXR1cm4gY3JlYXRlU2VydmVyQ2xpZW50KFxyXG4gICAgcHJvY2Vzcy5lbnYuTkVYVF9QVUJMSUNfU1VQQUJBU0VfVVJMISxcclxuICAgIHByb2Nlc3MuZW52Lk5FWFRfUFVCTElDX1NVUEFCQVNFX0FOT05fS0VZISxcclxuICAgIHtcclxuICAgICAgY29va2llczoge1xyXG4gICAgICAgIGdldDogKG5hbWU6IHN0cmluZykgPT4ge1xyXG4gICAgICAgICAgY29uc3QgY29va2llID0gY29va2llU3RvcmUuZ2V0KG5hbWUpO1xyXG4gICAgICAgICAgcmV0dXJuIGNvb2tpZSA/IGNvb2tpZS52YWx1ZSA6IHVuZGVmaW5lZDtcclxuICAgICAgICB9LFxyXG4gICAgICB9LFxyXG4gICAgfVxyXG4gICk7XHJcbn1cclxuXHJcbi8vIENoZWNrIGlmIHVzZXIgaXMgYWRtaW5cclxuYXN5bmMgZnVuY3Rpb24gaXNBZG1pbihzdXBhYmFzZTogYW55KTogUHJvbWlzZTxib29sZWFuPiB7XHJcbiAgY29uc3Qge1xyXG4gICAgZGF0YTogeyB1c2VyIH0sXHJcbiAgICBlcnJvcjogdXNlckVycm9yLFxyXG4gIH0gPSBhd2FpdCBzdXBhYmFzZS5hdXRoLmdldFVzZXIoKTtcclxuXHJcbiAgaWYgKHVzZXJFcnJvciB8fCAhdXNlcikge1xyXG4gICAgcmV0dXJuIGZhbHNlO1xyXG4gIH1cclxuXHJcbiAgY29uc3QgeyBkYXRhOiBwcm9maWxlLCBlcnJvcjogcHJvZmlsZUVycm9yIH0gPSBhd2FpdCBzdXBhYmFzZVxyXG4gICAgLmZyb20oJ3Byb2ZpbGVzJylcclxuICAgIC5zZWxlY3QoJ3JvbGUnKVxyXG4gICAgLmVxKCdpZCcsIHVzZXIuaWQpXHJcbiAgICAuc2luZ2xlKCk7XHJcblxyXG4gIGlmIChwcm9maWxlRXJyb3IgfHwgIXByb2ZpbGUpIHtcclxuICAgIHJldHVybiBmYWxzZTtcclxuICB9XHJcblxyXG4gIHJldHVybiBwcm9maWxlLnJvbGUgPT09ICdhZG1pbicgfHwgcHJvZmlsZS5yb2xlID09PSAndGVhY2hlcic7XHJcbn1cclxuXHJcbi8vIENvdXJzZSBBY3Rpb25zXHJcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBsaXN0Q291cnNlcygpOiBQcm9taXNlPHsgZGF0YTogQ291cnNlW10gfCBudWxsOyBlcnJvcjogc3RyaW5nIHwgbnVsbCB9PiB7XHJcbiAgY29uc3Qgc3VwYWJhc2UgPSBhd2FpdCBjcmVhdGVTdXBhYmFzZUNsaWVudCgpO1xyXG4gIFxyXG4gIHRyeSB7XHJcbiAgICAvLyBDaGVjayBhZG1pbiBhY2Nlc3NcclxuICAgIGNvbnN0IGFkbWluQ2hlY2sgPSBhd2FpdCBpc0FkbWluKHN1cGFiYXNlKTtcclxuICAgIGlmICghYWRtaW5DaGVjaykge1xyXG4gICAgICBjb25zb2xlLmxvZygnREVCVUc6IGxpc3RDb3Vyc2VzIC0gQWNjZXNzIGRlbmllZCwgbm90IGFkbWluL3RlYWNoZXInKTtcclxuICAgICAgcmV0dXJuIHsgZGF0YTogbnVsbCwgZXJyb3I6ICdBY2Nlc3MgZGVuaWVkLiBBZG1pbiBvciB0ZWFjaGVyIHJvbGUgcmVxdWlyZWQuJyB9O1xyXG4gICAgfVxyXG4gICAgXHJcbiAgICBjb25zb2xlLmxvZygnREVCVUc6IGxpc3RDb3Vyc2VzIC0gRmV0Y2hpbmcgYWxsIGNvdXJzZXMgZm9yIGFkbWluJyk7XHJcbiAgICBcclxuICAgIGNvbnN0IHsgZGF0YSwgZXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlXHJcbiAgICAgIC5mcm9tKCdjb3Vyc2VzJylcclxuICAgICAgLnNlbGVjdCgnKicpXHJcbiAgICAgIC5vcmRlcignY3JlYXRlZF9hdCcsIHsgYXNjZW5kaW5nOiBmYWxzZSB9KTtcclxuICAgIFxyXG4gICAgY29uc29sZS5sb2coJ0RFQlVHOiBsaXN0Q291cnNlcyAtIFF1ZXJ5IHJlc3VsdDonLCB7IGRhdGE6IGRhdGE/Lmxlbmd0aCwgZXJyb3IgfSk7XHJcbiAgICBcclxuICAgIGlmIChlcnJvcikge1xyXG4gICAgICBjb25zb2xlLmVycm9yKCdERUJVRzogbGlzdENvdXJzZXMgLSBTdXBhYmFzZSBlcnJvcjonLCBlcnJvcik7XHJcbiAgICAgIHJldHVybiB7IGRhdGE6IG51bGwsIGVycm9yOiBlcnJvci5tZXNzYWdlIH07XHJcbiAgICB9XHJcblxyXG4gICAgY29uc29sZS5sb2coJ0RFQlVHOiBsaXN0Q291cnNlcyAtIFJldHVybmluZyBjb3Vyc2VzOicsIGRhdGE/Lmxlbmd0aCk7XHJcbiAgICByZXR1cm4geyBkYXRhLCBlcnJvcjogbnVsbCB9O1xyXG4gIH0gY2F0Y2ggKGVycm9yOiBhbnkpIHtcclxuICAgIGNvbnNvbGUuZXJyb3IoJ0RFQlVHOiBsaXN0Q291cnNlcyAtIEV4Y2VwdGlvbjonLCBlcnJvcik7XHJcbiAgICByZXR1cm4geyBkYXRhOiBudWxsLCBlcnJvcjogZXJyb3IubWVzc2FnZSB9O1xyXG4gIH1cclxufVxyXG5cclxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGNyZWF0ZUNvdXJzZSh0aXRsZTogc3RyaW5nLCBkZXNjcmlwdGlvbjogc3RyaW5nKTogUHJvbWlzZTx7IGRhdGE6IENvdXJzZSB8IG51bGw7IGVycm9yOiBzdHJpbmcgfCBudWxsIH0+IHtcclxuICBjb25zdCBzdXBhYmFzZSA9IGF3YWl0IGNyZWF0ZVN1cGFiYXNlQ2xpZW50KCk7XHJcbiAgXHJcbiAgdHJ5IHtcclxuICAgIC8vIENoZWNrIGFkbWluIGFjY2Vzc1xyXG4gICAgY29uc3QgYWRtaW5DaGVjayA9IGF3YWl0IGlzQWRtaW4oc3VwYWJhc2UpO1xyXG4gICAgaWYgKCFhZG1pbkNoZWNrKSB7XHJcbiAgICAgIGNvbnNvbGUubG9nKCdERUJVRzogY3JlYXRlQ291cnNlIC0gQWNjZXNzIGRlbmllZCwgbm90IGFkbWluL3RlYWNoZXInKTtcclxuICAgICAgcmV0dXJuIHsgZGF0YTogbnVsbCwgZXJyb3I6ICdBY2Nlc3MgZGVuaWVkLiBBZG1pbiBvciB0ZWFjaGVyIHJvbGUgcmVxdWlyZWQuJyB9O1xyXG4gICAgfVxyXG4gICAgXHJcbiAgICBjb25zb2xlLmxvZygnREVCVUc6IGNyZWF0ZUNvdXJzZSAtIENyZWF0aW5nIGNvdXJzZTonLCB7IHRpdGxlLCBkZXNjcmlwdGlvbiB9KTtcclxuXHJcbiAgICBjb25zdCB7IGRhdGEsIGVycm9yIH0gPSBhd2FpdCBzdXBhYmFzZVxyXG4gICAgICAuZnJvbSgnY291cnNlcycpXHJcbiAgICAgIC5pbnNlcnQoW3sgdGl0bGUsIGRlc2NyaXB0aW9uIH1dKVxyXG4gICAgICAuc2VsZWN0KClcclxuICAgICAgLnNpbmdsZSgpO1xyXG4gICAgXHJcbiAgICBjb25zb2xlLmxvZygnREVCVUc6IGNyZWF0ZUNvdXJzZSAtIEluc2VydCByZXN1bHQ6JywgeyBkYXRhOiAhIWRhdGEsIGVycm9yIH0pO1xyXG5cclxuICAgIGlmIChlcnJvcikge1xyXG4gICAgICBjb25zb2xlLmVycm9yKCdERUJVRzogY3JlYXRlQ291cnNlIC0gU3VwYWJhc2UgZXJyb3I6JywgZXJyb3IpO1xyXG4gICAgICByZXR1cm4geyBkYXRhOiBudWxsLCBlcnJvcjogZXJyb3IubWVzc2FnZSB9O1xyXG4gICAgfVxyXG5cclxuICAgIC8vIFJldmFsaWRhdGUgdGhlIGNhY2hlIHRvIGVuc3VyZSBmcm9udGVuZCByZWZsZWN0cyBjaGFuZ2VzXHJcbiAgICByZXZhbGlkYXRlUGF0aCgnL2NvdXJzZXMnKTtcclxuICAgIHJldmFsaWRhdGVQYXRoKCcvZGFzaGJvYXJkJyk7XHJcbiAgICBcclxuICAgIGNvbnNvbGUubG9nKCdERUJVRzogY3JlYXRlQ291cnNlIC0gQ291cnNlIGNyZWF0ZWQgc3VjY2Vzc2Z1bGx5LCBjYWNoZSBpbnZhbGlkYXRlZCcpO1xyXG4gICAgXHJcbiAgICByZXR1cm4geyBkYXRhLCBlcnJvcjogbnVsbCB9O1xyXG4gIH0gY2F0Y2ggKGVycm9yOiBhbnkpIHtcclxuICAgIGNvbnNvbGUuZXJyb3IoJ0RFQlVHOiBjcmVhdGVDb3Vyc2UgLSBFeGNlcHRpb246JywgZXJyb3IpO1xyXG4gICAgcmV0dXJuIHsgZGF0YTogbnVsbCwgZXJyb3I6IGVycm9yLm1lc3NhZ2UgfTtcclxuICB9XHJcbn1cclxuXHJcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiB1cGRhdGVDb3Vyc2UoaWQ6IHN0cmluZywgdXBkYXRlczogUGFydGlhbDxDb3Vyc2U+KTogUHJvbWlzZTx7IGRhdGE6IENvdXJzZSB8IG51bGw7IGVycm9yOiBzdHJpbmcgfCBudWxsIH0+IHtcclxuICBjb25zdCBzdXBhYmFzZSA9IGF3YWl0IGNyZWF0ZVN1cGFiYXNlQ2xpZW50KCk7XHJcbiAgXHJcbiAgdHJ5IHtcclxuICAgIC8vIENoZWNrIGFkbWluIGFjY2Vzc1xyXG4gICAgY29uc3QgYWRtaW5DaGVjayA9IGF3YWl0IGlzQWRtaW4oc3VwYWJhc2UpO1xyXG4gICAgaWYgKCFhZG1pbkNoZWNrKSB7XHJcbiAgICAgIHJldHVybiB7IGRhdGE6IG51bGwsIGVycm9yOiAnQWNjZXNzIGRlbmllZC4gQWRtaW4gb3IgdGVhY2hlciByb2xlIHJlcXVpcmVkLicgfTtcclxuICAgIH1cclxuXHJcbiAgICBjb25zdCB7IGRhdGEsIGVycm9yIH0gPSBhd2FpdCBzdXBhYmFzZVxyXG4gICAgICAuZnJvbSgnY291cnNlcycpXHJcbiAgICAgIC51cGRhdGUodXBkYXRlcylcclxuICAgICAgLmVxKCdpZCcsIGlkKVxyXG4gICAgICAuc2VsZWN0KClcclxuICAgICAgLnNpbmdsZSgpO1xyXG5cclxuICAgIGlmIChlcnJvcikge1xyXG4gICAgICByZXR1cm4geyBkYXRhOiBudWxsLCBlcnJvcjogZXJyb3IubWVzc2FnZSB9O1xyXG4gICAgfVxyXG5cclxuICAgIC8vIFJldmFsaWRhdGUgdGhlIGNhY2hlIHRvIGVuc3VyZSBmcm9udGVuZCByZWZsZWN0cyBjaGFuZ2VzXHJcbiAgICByZXZhbGlkYXRlUGF0aCgnL2NvdXJzZXMnKTtcclxuICAgIHJldmFsaWRhdGVQYXRoKCcvZGFzaGJvYXJkJyk7XHJcbiAgICBcclxuICAgIHJldHVybiB7IGRhdGEsIGVycm9yOiBudWxsIH07XHJcbiAgfSBjYXRjaCAoZXJyb3I6IGFueSkge1xyXG4gICAgcmV0dXJuIHsgZGF0YTogbnVsbCwgZXJyb3I6IGVycm9yLm1lc3NhZ2UgfTtcclxuICB9XHJcbn1cclxuXHJcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBkZWxldGVDb3Vyc2UoaWQ6IHN0cmluZyk6IFByb21pc2U8eyBlcnJvcjogc3RyaW5nIHwgbnVsbCB9PiB7XHJcbiAgY29uc3Qgc3VwYWJhc2UgPSBhd2FpdCBjcmVhdGVTdXBhYmFzZUNsaWVudCgpO1xyXG4gIFxyXG4gIHRyeSB7XHJcbiAgICAvLyBDaGVjayBhZG1pbiBhY2Nlc3NcclxuICAgIGNvbnN0IGFkbWluQ2hlY2sgPSBhd2FpdCBpc0FkbWluKHN1cGFiYXNlKTtcclxuICAgIGlmICghYWRtaW5DaGVjaykge1xyXG4gICAgICByZXR1cm4geyBlcnJvcjogJ0FjY2VzcyBkZW5pZWQuIEFkbWluIG9yIHRlYWNoZXIgcm9sZSByZXF1aXJlZC4nIH07XHJcbiAgICB9XHJcblxyXG4gICAgY29uc3QgeyBlcnJvciB9ID0gYXdhaXQgc3VwYWJhc2VcclxuICAgICAgLmZyb20oJ2NvdXJzZXMnKVxyXG4gICAgICAuZGVsZXRlKClcclxuICAgICAgLmVxKCdpZCcsIGlkKTtcclxuXHJcbiAgICBpZiAoZXJyb3IpIHtcclxuICAgICAgcmV0dXJuIHsgZXJyb3I6IGVycm9yLm1lc3NhZ2UgfTtcclxuICAgIH1cclxuXHJcbiAgICAvLyBSZXZhbGlkYXRlIHRoZSBjYWNoZSB0byBlbnN1cmUgZnJvbnRlbmQgcmVmbGVjdHMgY2hhbmdlc1xyXG4gICAgcmV2YWxpZGF0ZVBhdGgoJy9jb3Vyc2VzJyk7XHJcbiAgICByZXZhbGlkYXRlUGF0aCgnL2Rhc2hib2FyZCcpO1xyXG4gICAgXHJcbiAgICByZXR1cm4geyBlcnJvcjogbnVsbCB9O1xyXG4gIH0gY2F0Y2ggKGVycm9yOiBhbnkpIHtcclxuICAgIHJldHVybiB7IGVycm9yOiBlcnJvci5tZXNzYWdlIH07XHJcbiAgfVxyXG59XHJcblxyXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gcHVibGlzaENvdXJzZShpZDogc3RyaW5nLCBpc1B1Ymxpc2hlZDogYm9vbGVhbik6IFByb21pc2U8eyBkYXRhOiBDb3Vyc2UgfCBudWxsOyBlcnJvcjogc3RyaW5nIHwgbnVsbCB9PiB7XHJcbiAgY29uc3Qgc3VwYWJhc2UgPSBhd2FpdCBjcmVhdGVTdXBhYmFzZUNsaWVudCgpO1xyXG4gIFxyXG4gIHRyeSB7XHJcbiAgICAvLyBDaGVjayBhZG1pbiBhY2Nlc3NcclxuICAgIGNvbnN0IGFkbWluQ2hlY2sgPSBhd2FpdCBpc0FkbWluKHN1cGFiYXNlKTtcclxuICAgIGlmICghYWRtaW5DaGVjaykge1xyXG4gICAgICByZXR1cm4geyBkYXRhOiBudWxsLCBlcnJvcjogJ0FjY2VzcyBkZW5pZWQuIEFkbWluIG9yIHRlYWNoZXIgcm9sZSByZXF1aXJlZC4nIH07XHJcbiAgICB9XHJcblxyXG4gICAgY29uc3QgeyBkYXRhLCBlcnJvciB9ID0gYXdhaXQgc3VwYWJhc2VcclxuICAgICAgLmZyb20oJ2NvdXJzZXMnKVxyXG4gICAgICAudXBkYXRlKHsgaXNfcHVibGlzaGVkOiBpc1B1Ymxpc2hlZCB9KVxyXG4gICAgICAuZXEoJ2lkJywgaWQpXHJcbiAgICAgIC5zZWxlY3QoKVxyXG4gICAgICAuc2luZ2xlKCk7XHJcblxyXG4gICAgaWYgKGVycm9yKSB7XHJcbiAgICAgIHJldHVybiB7IGRhdGE6IG51bGwsIGVycm9yOiBlcnJvci5tZXNzYWdlIH07XHJcbiAgICB9XHJcblxyXG4gICAgLy8gUmV2YWxpZGF0ZSB0aGUgY2FjaGUgdG8gZW5zdXJlIGZyb250ZW5kIHJlZmxlY3RzIGNoYW5nZXNcclxuICAgIHJldmFsaWRhdGVQYXRoKCcvY291cnNlcycpO1xyXG4gICAgcmV2YWxpZGF0ZVBhdGgoJy9kYXNoYm9hcmQnKTtcclxuICAgIFxyXG4gICAgcmV0dXJuIHsgZGF0YSwgZXJyb3I6IG51bGwgfTtcclxuICB9IGNhdGNoIChlcnJvcjogYW55KSB7XHJcbiAgICByZXR1cm4geyBkYXRhOiBudWxsLCBlcnJvcjogZXJyb3IubWVzc2FnZSB9O1xyXG4gIH1cclxufVxyXG5cclxuLy8gTW9kdWxlIEFjdGlvbnNcclxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGxpc3RNb2R1bGVzKGNvdXJzZUlkOiBzdHJpbmcpOiBQcm9taXNlPHsgZGF0YTogTW9kdWxlW10gfCBudWxsOyBlcnJvcjogc3RyaW5nIHwgbnVsbCB9PiB7XHJcbiAgY29uc3Qgc3VwYWJhc2UgPSBhd2FpdCBjcmVhdGVTdXBhYmFzZUNsaWVudCgpO1xyXG4gIFxyXG4gIHRyeSB7XHJcbiAgICAvLyBDaGVjayBhZG1pbiBhY2Nlc3NcclxuICAgIGNvbnN0IGFkbWluQ2hlY2sgPSBhd2FpdCBpc0FkbWluKHN1cGFiYXNlKTtcclxuICAgIGlmICghYWRtaW5DaGVjaykge1xyXG4gICAgICByZXR1cm4geyBkYXRhOiBudWxsLCBlcnJvcjogJ0FjY2VzcyBkZW5pZWQuIEFkbWluIG9yIHRlYWNoZXIgcm9sZSByZXF1aXJlZC4nIH07XHJcbiAgICB9XHJcblxyXG4gICAgY29uc3QgeyBkYXRhLCBlcnJvciB9ID0gYXdhaXQgc3VwYWJhc2VcclxuICAgICAgLmZyb20oJ21vZHVsZXMnKVxyXG4gICAgICAuc2VsZWN0KCcqJylcclxuICAgICAgLmVxKCdjb3Vyc2VfaWQnLCBjb3Vyc2VJZClcclxuICAgICAgLm9yZGVyKCdvcmRlcl9pbmRleCcsIHsgYXNjZW5kaW5nOiB0cnVlIH0pO1xyXG5cclxuICAgIGlmIChlcnJvcikge1xyXG4gICAgICByZXR1cm4geyBkYXRhOiBudWxsLCBlcnJvcjogZXJyb3IubWVzc2FnZSB9O1xyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiB7IGRhdGEsIGVycm9yOiBudWxsIH07XHJcbiAgfSBjYXRjaCAoZXJyb3I6IGFueSkge1xyXG4gICAgcmV0dXJuIHsgZGF0YTogbnVsbCwgZXJyb3I6IGVycm9yLm1lc3NhZ2UgfTtcclxuICB9XHJcbn1cclxuXHJcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBjcmVhdGVNb2R1bGUoY291cnNlSWQ6IHN0cmluZywgdGl0bGU6IHN0cmluZyk6IFByb21pc2U8eyBkYXRhOiBNb2R1bGUgfCBudWxsOyBlcnJvcjogc3RyaW5nIHwgbnVsbCB9PiB7XHJcbiAgY29uc3Qgc3VwYWJhc2UgPSBhd2FpdCBjcmVhdGVTdXBhYmFzZUNsaWVudCgpO1xyXG4gIFxyXG4gIHRyeSB7XHJcbiAgICAvLyBDaGVjayBhZG1pbiBhY2Nlc3NcclxuICAgIGNvbnN0IGFkbWluQ2hlY2sgPSBhd2FpdCBpc0FkbWluKHN1cGFiYXNlKTtcclxuICAgIGlmICghYWRtaW5DaGVjaykge1xyXG4gICAgICByZXR1cm4geyBkYXRhOiBudWxsLCBlcnJvcjogJ0FjY2VzcyBkZW5pZWQuIEFkbWluIG9yIHRlYWNoZXIgcm9sZSByZXF1aXJlZC4nIH07XHJcbiAgICB9XHJcblxyXG4gICAgLy8gR2V0IHRoZSBoaWdoZXN0IG9yZGVyX2luZGV4IHRvIGRldGVybWluZSB0aGUgbmV3IHBvc2l0aW9uXHJcbiAgICBjb25zdCB7IGRhdGE6IGV4aXN0aW5nTW9kdWxlcyB9ID0gYXdhaXQgc3VwYWJhc2VcclxuICAgICAgLmZyb20oJ21vZHVsZXMnKVxyXG4gICAgICAuc2VsZWN0KCdvcmRlcl9pbmRleCcpXHJcbiAgICAgIC5lcSgnY291cnNlX2lkJywgY291cnNlSWQpXHJcbiAgICAgIC5vcmRlcignb3JkZXJfaW5kZXgnLCB7IGFzY2VuZGluZzogZmFsc2UgfSlcclxuICAgICAgLmxpbWl0KDEpO1xyXG5cclxuICAgIGNvbnN0IG5ld09yZGVySW5kZXggPSBleGlzdGluZ01vZHVsZXMgJiYgZXhpc3RpbmdNb2R1bGVzLmxlbmd0aCA+IDAgXHJcbiAgICAgID8gZXhpc3RpbmdNb2R1bGVzWzBdLm9yZGVyX2luZGV4ICsgMTAgXHJcbiAgICAgIDogMDtcclxuXHJcbiAgICBjb25zdCB7IGRhdGEsIGVycm9yIH0gPSBhd2FpdCBzdXBhYmFzZVxyXG4gICAgICAuZnJvbSgnbW9kdWxlcycpXHJcbiAgICAgIC5pbnNlcnQoW3sgY291cnNlX2lkOiBjb3Vyc2VJZCwgdGl0bGUsIG9yZGVyX2luZGV4OiBuZXdPcmRlckluZGV4IH1dKVxyXG4gICAgICAuc2VsZWN0KClcclxuICAgICAgLnNpbmdsZSgpO1xyXG5cclxuICAgIGlmIChlcnJvcikge1xyXG4gICAgICByZXR1cm4geyBkYXRhOiBudWxsLCBlcnJvcjogZXJyb3IubWVzc2FnZSB9O1xyXG4gICAgfVxyXG5cclxuICAgIC8vIFJldmFsaWRhdGUgdGhlIGNhY2hlIHRvIGVuc3VyZSBmcm9udGVuZCByZWZsZWN0cyBjaGFuZ2VzXHJcbiAgICByZXZhbGlkYXRlUGF0aCgnL2NvdXJzZXMnKTtcclxuICAgIHJldmFsaWRhdGVQYXRoKCcvZGFzaGJvYXJkJyk7XHJcbiAgICBcclxuICAgIHJldHVybiB7IGRhdGEsIGVycm9yOiBudWxsIH07XHJcbiAgfSBjYXRjaCAoZXJyb3I6IGFueSkge1xyXG4gICAgcmV0dXJuIHsgZGF0YTogbnVsbCwgZXJyb3I6IGVycm9yLm1lc3NhZ2UgfTtcclxuICB9XHJcbn1cclxuXHJcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiB1cGRhdGVNb2R1bGUoaWQ6IHN0cmluZywgdXBkYXRlczogUGFydGlhbDxNb2R1bGU+KTogUHJvbWlzZTx7IGRhdGE6IE1vZHVsZSB8IG51bGw7IGVycm9yOiBzdHJpbmcgfCBudWxsIH0+IHtcclxuICBjb25zdCBzdXBhYmFzZSA9IGF3YWl0IGNyZWF0ZVN1cGFiYXNlQ2xpZW50KCk7XHJcbiAgXHJcbiAgdHJ5IHtcclxuICAgIC8vIENoZWNrIGFkbWluIGFjY2Vzc1xyXG4gICAgY29uc3QgYWRtaW5DaGVjayA9IGF3YWl0IGlzQWRtaW4oc3VwYWJhc2UpO1xyXG4gICAgaWYgKCFhZG1pbkNoZWNrKSB7XHJcbiAgICAgIHJldHVybiB7IGRhdGE6IG51bGwsIGVycm9yOiAnQWNjZXNzIGRlbmllZC4gQWRtaW4gb3IgdGVhY2hlciByb2xlIHJlcXVpcmVkLicgfTtcclxuICAgIH1cclxuXHJcbiAgICBjb25zdCB7IGRhdGEsIGVycm9yIH0gPSBhd2FpdCBzdXBhYmFzZVxyXG4gICAgICAuZnJvbSgnbW9kdWxlcycpXHJcbiAgICAgIC51cGRhdGUodXBkYXRlcylcclxuICAgICAgLmVxKCdpZCcsIGlkKVxyXG4gICAgICAuc2VsZWN0KClcclxuICAgICAgLnNpbmdsZSgpO1xyXG5cclxuICAgIGlmIChlcnJvcikge1xyXG4gICAgICByZXR1cm4geyBkYXRhOiBudWxsLCBlcnJvcjogZXJyb3IubWVzc2FnZSB9O1xyXG4gICAgfVxyXG5cclxuICAgIC8vIFJldmFsaWRhdGUgdGhlIGNhY2hlIHRvIGVuc3VyZSBmcm9udGVuZCByZWZsZWN0cyBjaGFuZ2VzXHJcbiAgICByZXZhbGlkYXRlUGF0aCgnL2NvdXJzZXMnKTtcclxuICAgIHJldmFsaWRhdGVQYXRoKCcvZGFzaGJvYXJkJyk7XHJcbiAgICBcclxuICAgIHJldHVybiB7IGRhdGEsIGVycm9yOiBudWxsIH07XHJcbiAgfSBjYXRjaCAoZXJyb3I6IGFueSkge1xyXG4gICAgcmV0dXJuIHsgZGF0YTogbnVsbCwgZXJyb3I6IGVycm9yLm1lc3NhZ2UgfTtcclxuICB9XHJcbn1cclxuXHJcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBkZWxldGVNb2R1bGUoaWQ6IHN0cmluZyk6IFByb21pc2U8eyBlcnJvcjogc3RyaW5nIHwgbnVsbCB9PiB7XHJcbiAgY29uc3Qgc3VwYWJhc2UgPSBhd2FpdCBjcmVhdGVTdXBhYmFzZUNsaWVudCgpO1xyXG4gIFxyXG4gIHRyeSB7XHJcbiAgICAvLyBDaGVjayBhZG1pbiBhY2Nlc3NcclxuICAgIGNvbnN0IGFkbWluQ2hlY2sgPSBhd2FpdCBpc0FkbWluKHN1cGFiYXNlKTtcclxuICAgIGlmICghYWRtaW5DaGVjaykge1xyXG4gICAgICByZXR1cm4geyBlcnJvcjogJ0FjY2VzcyBkZW5pZWQuIEFkbWluIG9yIHRlYWNoZXIgcm9sZSByZXF1aXJlZC4nIH07XHJcbiAgICB9XHJcblxyXG4gICAgY29uc3QgeyBlcnJvciB9ID0gYXdhaXQgc3VwYWJhc2VcclxuICAgICAgLmZyb20oJ21vZHVsZXMnKVxyXG4gICAgICAuZGVsZXRlKClcclxuICAgICAgLmVxKCdpZCcsIGlkKTtcclxuXHJcbiAgICBpZiAoZXJyb3IpIHtcclxuICAgICAgcmV0dXJuIHsgZXJyb3I6IGVycm9yLm1lc3NhZ2UgfTtcclxuICAgIH1cclxuXHJcbiAgICAvLyBSZXZhbGlkYXRlIHRoZSBjYWNoZSB0byBlbnN1cmUgZnJvbnRlbmQgcmVmbGVjdHMgY2hhbmdlc1xyXG4gICAgcmV2YWxpZGF0ZVBhdGgoJy9jb3Vyc2VzJyk7XHJcbiAgICByZXZhbGlkYXRlUGF0aCgnL2Rhc2hib2FyZCcpO1xyXG4gICAgXHJcbiAgICByZXR1cm4geyBlcnJvcjogbnVsbCB9O1xyXG4gIH0gY2F0Y2ggKGVycm9yOiBhbnkpIHtcclxuICAgIHJldHVybiB7IGVycm9yOiBlcnJvci5tZXNzYWdlIH07XHJcbiAgfVxyXG59XHJcblxyXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gcmVvcmRlck1vZHVsZXMoY291cnNlSWQ6IHN0cmluZywgbW9kdWxlSWRzOiBzdHJpbmdbXSk6IFByb21pc2U8eyBlcnJvcjogc3RyaW5nIHwgbnVsbCB9PiB7XHJcbiAgY29uc3Qgc3VwYWJhc2UgPSBhd2FpdCBjcmVhdGVTdXBhYmFzZUNsaWVudCgpO1xyXG4gIFxyXG4gIHRyeSB7XHJcbiAgICAvLyBDaGVjayBhZG1pbiBhY2Nlc3NcclxuICAgIGNvbnN0IGFkbWluQ2hlY2sgPSBhd2FpdCBpc0FkbWluKHN1cGFiYXNlKTtcclxuICAgIGlmICghYWRtaW5DaGVjaykge1xyXG4gICAgICByZXR1cm4geyBlcnJvcjogJ0FjY2VzcyBkZW5pZWQuIEFkbWluIG9yIHRlYWNoZXIgcm9sZSByZXF1aXJlZC4nIH07XHJcbiAgICB9XHJcblxyXG4gICAgLy8gVXBkYXRlIGFsbCBtb2R1bGVzIHdpdGggdGhlaXIgbmV3IHBvc2l0aW9ucyBpbiBhIHNpbmdsZSB0cmFuc2FjdGlvblxyXG4gICAgY29uc3QgdXBkYXRlcyA9IG1vZHVsZUlkcy5tYXAoKGlkLCBpbmRleCkgPT4gKHtcclxuICAgICAgaWQsXHJcbiAgICAgIG9yZGVyX2luZGV4OiBpbmRleCAqIDEwIC8vIFVzZSBpbmNyZW1lbnRzIG9mIDEwIHRvIGFsbG93IGZvciBmdXR1cmUgaW5zZXJ0aW9ucyBiZXR3ZWVuIGl0ZW1zXHJcbiAgICB9KSk7XHJcblxyXG4gICAgLy8gUGVyZm9ybSB1cGRhdGVzIGluIGEgYmF0Y2hcclxuICAgIGZvciAoY29uc3QgdXBkYXRlIG9mIHVwZGF0ZXMpIHtcclxuICAgICAgY29uc3QgeyBlcnJvciB9ID0gYXdhaXQgc3VwYWJhc2VcclxuICAgICAgICAuZnJvbSgnbW9kdWxlcycpXHJcbiAgICAgICAgLnVwZGF0ZSh7IG9yZGVyX2luZGV4OiB1cGRhdGUub3JkZXJfaW5kZXggfSlcclxuICAgICAgICAuZXEoJ2lkJywgdXBkYXRlLmlkKVxyXG4gICAgICAgIC5lcSgnY291cnNlX2lkJywgY291cnNlSWQpOyAvLyBBZGRpdGlvbmFsIHNhZmV0eSBjaGVja1xyXG5cclxuICAgICAgaWYgKGVycm9yKSB7XHJcbiAgICAgICAgcmV0dXJuIHsgZXJyb3I6IGVycm9yLm1lc3NhZ2UgfTtcclxuICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8vIFJldmFsaWRhdGUgdGhlIGNhY2hlIHRvIGVuc3VyZSBmcm9udGVuZCByZWZsZWN0cyBjaGFuZ2VzXHJcbiAgICByZXZhbGlkYXRlUGF0aCgnL2NvdXJzZXMnKTtcclxuICAgIHJldmFsaWRhdGVQYXRoKCcvZGFzaGJvYXJkJyk7XHJcbiAgICBcclxuICAgIHJldHVybiB7IGVycm9yOiBudWxsIH07XHJcbiAgfSBjYXRjaCAoZXJyb3I6IGFueSkge1xyXG4gICAgcmV0dXJuIHsgZXJyb3I6IGVycm9yLm1lc3NhZ2UgfTtcclxuICB9XHJcbn1cclxuXHJcbi8vIExlc3NvbiBBY3Rpb25zXHJcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBsaXN0TGVzc29ucyhtb2R1bGVJZDogc3RyaW5nKTogUHJvbWlzZTx7IGRhdGE6IExlc3NvbltdIHwgbnVsbDsgZXJyb3I6IHN0cmluZyB8IG51bGwgfT4ge1xyXG4gIGNvbnN0IHN1cGFiYXNlID0gYXdhaXQgY3JlYXRlU3VwYWJhc2VDbGllbnQoKTtcclxuICBcclxuICB0cnkge1xyXG4gICAgLy8gQ2hlY2sgYWRtaW4gYWNjZXNzXHJcbiAgICBjb25zdCBhZG1pbkNoZWNrID0gYXdhaXQgaXNBZG1pbihzdXBhYmFzZSk7XHJcbiAgICBpZiAoIWFkbWluQ2hlY2spIHtcclxuICAgICAgcmV0dXJuIHsgZGF0YTogbnVsbCwgZXJyb3I6ICdBY2Nlc3MgZGVuaWVkLiBBZG1pbiBvciB0ZWFjaGVyIHJvbGUgcmVxdWlyZWQuJyB9O1xyXG4gICAgfVxyXG5cclxuICAgIGNvbnN0IHsgZGF0YSwgZXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlXHJcbiAgICAgIC5mcm9tKCdsZXNzb25zJylcclxuICAgICAgLnNlbGVjdCgnKicpXHJcbiAgICAgIC5lcSgnbW9kdWxlX2lkJywgbW9kdWxlSWQpXHJcbiAgICAgIC5vcmRlcignb3JkZXJfaW5kZXgnLCB7IGFzY2VuZGluZzogdHJ1ZSB9KTtcclxuXHJcbiAgICBpZiAoZXJyb3IpIHtcclxuICAgICAgcmV0dXJuIHsgZGF0YTogbnVsbCwgZXJyb3I6IGVycm9yLm1lc3NhZ2UgfTtcclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4geyBkYXRhLCBlcnJvcjogbnVsbCB9O1xyXG4gIH0gY2F0Y2ggKGVycm9yOiBhbnkpIHtcclxuICAgIHJldHVybiB7IGRhdGE6IG51bGwsIGVycm9yOiBlcnJvci5tZXNzYWdlIH07XHJcbiAgfVxyXG59XHJcblxyXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gY3JlYXRlTGVzc29uKFxyXG4gIG1vZHVsZUlkOiBzdHJpbmcsIFxyXG4gIHRpdGxlOiBzdHJpbmcsIFxyXG4gIGRlc2NyaXB0aW9uOiBzdHJpbmcsIFxyXG4gIHlvdXR1YmVVcmw6IHN0cmluZ1xyXG4pOiBQcm9taXNlPHsgZGF0YTogTGVzc29uIHwgbnVsbDsgZXJyb3I6IHN0cmluZyB8IG51bGwgfT4ge1xyXG4gIGNvbnN0IHN1cGFiYXNlID0gYXdhaXQgY3JlYXRlU3VwYWJhc2VDbGllbnQoKTtcclxuICBcclxuICB0cnkge1xyXG4gICAgLy8gQ2hlY2sgYWRtaW4gYWNjZXNzXHJcbiAgICBjb25zdCBhZG1pbkNoZWNrID0gYXdhaXQgaXNBZG1pbihzdXBhYmFzZSk7XHJcbiAgICBpZiAoIWFkbWluQ2hlY2spIHtcclxuICAgICAgcmV0dXJuIHsgZGF0YTogbnVsbCwgZXJyb3I6ICdBY2Nlc3MgZGVuaWVkLiBBZG1pbiBvciB0ZWFjaGVyIHJvbGUgcmVxdWlyZWQuJyB9O1xyXG4gICAgfVxyXG5cclxuICAgIC8vIFBhcnNlIHRoZSBZb3VUdWJlIFVSTFxyXG4gICAgY29uc3QgcGFyc2VkID0gcGFyc2VZb3VUdWJlKHlvdXR1YmVVcmwpO1xyXG4gICAgaWYgKHBhcnNlZC5lcnJvcikge1xyXG4gICAgICByZXR1cm4geyBkYXRhOiBudWxsLCBlcnJvcjogcGFyc2VkLmVycm9yIH07XHJcbiAgICB9XHJcblxyXG4gICAgLy8gR2V0IHRoZSBoaWdoZXN0IG9yZGVyX2luZGV4IHRvIGRldGVybWluZSB0aGUgbmV3IHBvc2l0aW9uXHJcbiAgICBjb25zdCB7IGRhdGE6IGV4aXN0aW5nTGVzc29ucyB9ID0gYXdhaXQgc3VwYWJhc2VcclxuICAgICAgLmZyb20oJ2xlc3NvbnMnKVxyXG4gICAgICAuc2VsZWN0KCdvcmRlcl9pbmRleCcpXHJcbiAgICAgIC5lcSgnbW9kdWxlX2lkJywgbW9kdWxlSWQpXHJcbiAgICAgIC5vcmRlcignb3JkZXJfaW5kZXgnLCB7IGFzY2VuZGluZzogZmFsc2UgfSlcclxuICAgICAgLmxpbWl0KDEpO1xyXG5cclxuICAgIGNvbnN0IG5ld09yZGVySW5kZXggPSBleGlzdGluZ0xlc3NvbnMgJiYgZXhpc3RpbmdMZXNzb25zLmxlbmd0aCA+IDAgXHJcbiAgICAgID8gZXhpc3RpbmdMZXNzb25zWzBdLm9yZGVyX2luZGV4ICsgMTAgXHJcbiAgICAgIDogMDtcclxuXHJcbiAgICBjb25zdCB7IGRhdGEsIGVycm9yIH0gPSBhd2FpdCBzdXBhYmFzZVxyXG4gICAgICAuZnJvbSgnbGVzc29ucycpXHJcbiAgICAgIC5pbnNlcnQoW3tcclxuICAgICAgICBtb2R1bGVfaWQ6IG1vZHVsZUlkLFxyXG4gICAgICAgIHRpdGxlLFxyXG4gICAgICAgIGRlc2NyaXB0aW9uLFxyXG4gICAgICAgIHlvdXR1YmVfdmlkZW9faWQ6IHBhcnNlZC52aWRlb0lkLFxyXG4gICAgICAgIHZpZGVvX3VybDogcGFyc2VkLmVtYmVkVXJsLFxyXG4gICAgICAgIG9yZGVyX2luZGV4OiBuZXdPcmRlckluZGV4LFxyXG4gICAgICAgIGlzX3ByZXZpZXc6IGZhbHNlLFxyXG4gICAgICAgIGlzX3B1Ymxpc2hlZDogdHJ1ZVxyXG4gICAgICB9XSlcclxuICAgICAgLnNlbGVjdCgpXHJcbiAgICAgIC5zaW5nbGUoKTtcclxuXHJcbiAgICBpZiAoZXJyb3IpIHtcclxuICAgICAgcmV0dXJuIHsgZGF0YTogbnVsbCwgZXJyb3I6IGVycm9yLm1lc3NhZ2UgfTtcclxuICAgIH1cclxuXHJcbiAgICAvLyBSZXZhbGlkYXRlIHRoZSBjYWNoZSB0byBlbnN1cmUgZnJvbnRlbmQgcmVmbGVjdHMgY2hhbmdlc1xyXG4gICAgcmV2YWxpZGF0ZVBhdGgoJy9jb3Vyc2VzJyk7XHJcbiAgICByZXZhbGlkYXRlUGF0aCgnL2Rhc2hib2FyZCcpO1xyXG4gICAgXHJcbiAgICByZXR1cm4geyBkYXRhLCBlcnJvcjogbnVsbCB9O1xyXG4gIH0gY2F0Y2ggKGVycm9yOiBhbnkpIHtcclxuICAgIHJldHVybiB7IGRhdGE6IG51bGwsIGVycm9yOiBlcnJvci5tZXNzYWdlIH07XHJcbiAgfVxyXG59XHJcblxyXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gdXBkYXRlTGVzc29uKFxyXG4gIGlkOiBzdHJpbmcsIFxyXG4gIHVwZGF0ZXM6IFBhcnRpYWw8T21pdDxMZXNzb24sICdpZCcgfCAnbW9kdWxlX2lkJyB8ICdjcmVhdGVkX2F0JyB8ICd1cGRhdGVkX2F0Jz4+XHJcbik6IFByb21pc2U8eyBkYXRhOiBMZXNzb24gfCBudWxsOyBlcnJvcjogc3RyaW5nIHwgbnVsbCB9PiB7XHJcbiAgY29uc3Qgc3VwYWJhc2UgPSBhd2FpdCBjcmVhdGVTdXBhYmFzZUNsaWVudCgpO1xyXG4gIFxyXG4gIHRyeSB7XHJcbiAgICAvLyBDaGVjayBhZG1pbiBhY2Nlc3NcclxuICAgIGNvbnN0IGFkbWluQ2hlY2sgPSBhd2FpdCBpc0FkbWluKHN1cGFiYXNlKTtcclxuICAgIGlmICghYWRtaW5DaGVjaykge1xyXG4gICAgICByZXR1cm4geyBkYXRhOiBudWxsLCBlcnJvcjogJ0FjY2VzcyBkZW5pZWQuIEFkbWluIG9yIHRlYWNoZXIgcm9sZSByZXF1aXJlZC4nIH07XHJcbiAgICB9XHJcblxyXG4gICAgLy8gSWYgdXBkYXRpbmcgWW91VHViZSBVUkwsIHBhcnNlIGl0IGZpcnN0XHJcbiAgICBpZiAodXBkYXRlcy52aWRlb191cmwpIHtcclxuICAgICAgY29uc3QgcGFyc2VkID0gcGFyc2VZb3VUdWJlKHVwZGF0ZXMudmlkZW9fdXJsKTtcclxuICAgICAgaWYgKHBhcnNlZC5lcnJvcikge1xyXG4gICAgICAgIHJldHVybiB7IGRhdGE6IG51bGwsIGVycm9yOiBwYXJzZWQuZXJyb3IgfTtcclxuICAgICAgfVxyXG4gICAgICB1cGRhdGVzLnlvdXR1YmVfdmlkZW9faWQgPSBwYXJzZWQudmlkZW9JZDtcclxuICAgICAgdXBkYXRlcy52aWRlb191cmwgPSBwYXJzZWQuZW1iZWRVcmw7XHJcbiAgICB9XHJcblxyXG4gICAgY29uc3QgeyBkYXRhLCBlcnJvciB9ID0gYXdhaXQgc3VwYWJhc2VcclxuICAgICAgLmZyb20oJ2xlc3NvbnMnKVxyXG4gICAgICAudXBkYXRlKHVwZGF0ZXMpXHJcbiAgICAgIC5lcSgnaWQnLCBpZClcclxuICAgICAgLnNlbGVjdCgpXHJcbiAgICAgIC5zaW5nbGUoKTtcclxuXHJcbiAgICBpZiAoZXJyb3IpIHtcclxuICAgICAgcmV0dXJuIHsgZGF0YTogbnVsbCwgZXJyb3I6IGVycm9yLm1lc3NhZ2UgfTtcclxuICAgIH1cclxuXHJcbiAgICAvLyBSZXZhbGlkYXRlIHRoZSBjYWNoZSB0byBlbnN1cmUgZnJvbnRlbmQgcmVmbGVjdHMgY2hhbmdlc1xyXG4gICAgcmV2YWxpZGF0ZVBhdGgoJy9jb3Vyc2VzJyk7XHJcbiAgICByZXZhbGlkYXRlUGF0aCgnL2Rhc2hib2FyZCcpO1xyXG4gICAgXHJcbiAgICByZXR1cm4geyBkYXRhLCBlcnJvcjogbnVsbCB9O1xyXG4gIH0gY2F0Y2ggKGVycm9yOiBhbnkpIHtcclxuICAgIHJldHVybiB7IGRhdGE6IG51bGwsIGVycm9yOiBlcnJvci5tZXNzYWdlIH07XHJcbiAgfVxyXG59XHJcblxyXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZGVsZXRlTGVzc29uKGlkOiBzdHJpbmcpOiBQcm9taXNlPHsgZXJyb3I6IHN0cmluZyB8IG51bGwgfT4ge1xyXG4gIGNvbnN0IHN1cGFiYXNlID0gYXdhaXQgY3JlYXRlU3VwYWJhc2VDbGllbnQoKTtcclxuICBcclxuICB0cnkge1xyXG4gICAgLy8gQ2hlY2sgYWRtaW4gYWNjZXNzXHJcbiAgICBjb25zdCBhZG1pbkNoZWNrID0gYXdhaXQgaXNBZG1pbihzdXBhYmFzZSk7XHJcbiAgICBpZiAoIWFkbWluQ2hlY2spIHtcclxuICAgICAgcmV0dXJuIHsgZXJyb3I6ICdBY2Nlc3MgZGVuaWVkLiBBZG1pbiBvciB0ZWFjaGVyIHJvbGUgcmVxdWlyZWQuJyB9O1xyXG4gICAgfVxyXG5cclxuICAgIGNvbnN0IHsgZXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlXHJcbiAgICAgIC5mcm9tKCdsZXNzb25zJylcclxuICAgICAgLmRlbGV0ZSgpXHJcbiAgICAgIC5lcSgnaWQnLCBpZCk7XHJcblxyXG4gICAgaWYgKGVycm9yKSB7XHJcbiAgICAgIHJldHVybiB7IGVycm9yOiBlcnJvci5tZXNzYWdlIH07XHJcbiAgICB9XHJcblxyXG4gICAgLy8gUmV2YWxpZGF0ZSB0aGUgY2FjaGUgdG8gZW5zdXJlIGZyb250ZW5kIHJlZmxlY3RzIGNoYW5nZXNcclxuICAgIHJldmFsaWRhdGVQYXRoKCcvY291cnNlcycpO1xyXG4gICAgcmV2YWxpZGF0ZVBhdGgoJy9kYXNoYm9hcmQnKTtcclxuICAgIFxyXG4gICAgcmV0dXJuIHsgZXJyb3I6IG51bGwgfTtcclxuICB9IGNhdGNoIChlcnJvcjogYW55KSB7XHJcbiAgICByZXR1cm4geyBlcnJvcjogZXJyb3IubWVzc2FnZSB9O1xyXG4gIH1cclxufVxyXG5cclxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIHJlb3JkZXJMZXNzb25zKG1vZHVsZUlkOiBzdHJpbmcsIGxlc3Nvbklkczogc3RyaW5nW10pOiBQcm9taXNlPHsgZXJyb3I6IHN0cmluZyB8IG51bGwgfT4ge1xyXG4gIGNvbnN0IHN1cGFiYXNlID0gYXdhaXQgY3JlYXRlU3VwYWJhc2VDbGllbnQoKTtcclxuICBcclxuICB0cnkge1xyXG4gICAgLy8gQ2hlY2sgYWRtaW4gYWNjZXNzXHJcbiAgICBjb25zdCBhZG1pbkNoZWNrID0gYXdhaXQgaXNBZG1pbihzdXBhYmFzZSk7XHJcbiAgICBpZiAoIWFkbWluQ2hlY2spIHtcclxuICAgICAgcmV0dXJuIHsgZXJyb3I6ICdBY2Nlc3MgZGVuaWVkLiBBZG1pbiBvciB0ZWFjaGVyIHJvbGUgcmVxdWlyZWQuJyB9O1xyXG4gICAgfVxyXG5cclxuICAgIC8vIFVwZGF0ZSBhbGwgbGVzc29ucyB3aXRoIHRoZWlyIG5ldyBwb3NpdGlvbnMgaW4gYSBzaW5nbGUgdHJhbnNhY3Rpb25cclxuICAgIGNvbnN0IHVwZGF0ZXMgPSBsZXNzb25JZHMubWFwKChpZCwgaW5kZXgpID0+ICh7XHJcbiAgICAgIGlkLFxyXG4gICAgICBvcmRlcl9pbmRleDogaW5kZXggKiAxMCAvLyBVc2UgaW5jcmVtZW50cyBvZiAxMCB0byBhbGxvdyBmb3IgZnV0dXJlIGluc2VydGlvbnMgYmV0d2VlbiBpdGVtc1xyXG4gICAgfSkpO1xyXG5cclxuICAgIC8vIFBlcmZvcm0gdXBkYXRlcyBpbiBhIGJhdGNoXHJcbiAgICBmb3IgKGNvbnN0IHVwZGF0ZSBvZiB1cGRhdGVzKSB7XHJcbiAgICAgIGNvbnN0IHsgZXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlXHJcbiAgICAgICAgLmZyb20oJ2xlc3NvbnMnKVxyXG4gICAgICAgIC51cGRhdGUoeyBvcmRlcl9pbmRleDogdXBkYXRlLm9yZGVyX2luZGV4IH0pXHJcbiAgICAgICAgLmVxKCdpZCcsIHVwZGF0ZS5pZClcclxuICAgICAgICAuZXEoJ21vZHVsZV9pZCcsIG1vZHVsZUlkKTsgLy8gQWRkaXRpb25hbCBzYWZldHkgY2hlY2tcclxuXHJcbiAgICAgIGlmIChlcnJvcikge1xyXG4gICAgICAgIHJldHVybiB7IGVycm9yOiBlcnJvci5tZXNzYWdlIH07XHJcbiAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvLyBSZXZhbGlkYXRlIHRoZSBjYWNoZSB0byBlbnN1cmUgZnJvbnRlbmQgcmVmbGVjdHMgY2hhbmdlc1xyXG4gICAgcmV2YWxpZGF0ZVBhdGgoJy9jb3Vyc2VzJyk7XHJcbiAgICByZXZhbGlkYXRlUGF0aCgnL2Rhc2hib2FyZCcpO1xyXG4gICAgXHJcbiAgICByZXR1cm4geyBlcnJvcjogbnVsbCB9O1xyXG4gIH0gY2F0Y2ggKGVycm9yOiBhbnkpIHtcclxuICAgIHJldHVybiB7IGVycm9yOiBlcnJvci5tZXNzYWdlIH07XHJcbiAgfVxyXG59Il0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI2UkErUXNCLHlMQUFBIn0=
}),
"[project]/src/actions/data:e2ba3b [app-ssr] (ecmascript) <text/javascript>", ((__turbopack_context__) => {
"use strict";

__turbopack_context__.s([
    "deleteModule",
    ()=>$$RSC_SERVER_ACTION_8
]);
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$build$2f$webpack$2f$loaders$2f$next$2d$flight$2d$loader$2f$action$2d$client$2d$wrapper$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/next/dist/build/webpack/loaders/next-flight-loader/action-client-wrapper.js [app-ssr] (ecmascript)");
/* __next_internal_action_entry_do_not_use__ [{"40d3794158f33f10553408babb4643c61f0a01e583":"deleteModule"},"src/actions/courseActions.ts",""] */ "use turbopack no side effects";
;
const $$RSC_SERVER_ACTION_8 = /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$build$2f$webpack$2f$loaders$2f$next$2d$flight$2d$loader$2f$action$2d$client$2d$wrapper$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["createServerReference"])("40d3794158f33f10553408babb4643c61f0a01e583", __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$build$2f$webpack$2f$loaders$2f$next$2d$flight$2d$loader$2f$action$2d$client$2d$wrapper$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["callServer"], void 0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$build$2f$webpack$2f$loaders$2f$next$2d$flight$2d$loader$2f$action$2d$client$2d$wrapper$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["findSourceMapURL"], "deleteModule");
;
 //# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4vY291cnNlQWN0aW9ucy50cyJdLCJzb3VyY2VzQ29udGVudCI6WyIndXNlIHNlcnZlcidcclxuXHJcbmltcG9ydCB7IGNvb2tpZXMgfSBmcm9tICduZXh0L2hlYWRlcnMnO1xyXG5pbXBvcnQgeyBjcmVhdGVTZXJ2ZXJDbGllbnQgfSBmcm9tICdAc3VwYWJhc2Uvc3NyJztcclxuaW1wb3J0IHsgcmV2YWxpZGF0ZVBhdGggfSBmcm9tICduZXh0L2NhY2hlJztcclxuaW1wb3J0IHsgcGFyc2VZb3VUdWJlIH0gZnJvbSAnQC9saWIveW91dHViZVBhcnNlcic7XHJcblxyXG4vLyBUeXBlIGRlZmluaXRpb25zXHJcbnR5cGUgQ291cnNlID0ge1xyXG4gIGlkOiBzdHJpbmc7XHJcbiAgdGl0bGU6IHN0cmluZztcclxuICBkZXNjcmlwdGlvbjogc3RyaW5nO1xyXG4gIGlzX3B1Ymxpc2hlZDogYm9vbGVhbjtcclxuICBjcmVhdGVkX2F0OiBzdHJpbmc7XHJcbiAgdXBkYXRlZF9hdDogc3RyaW5nO1xyXG59O1xyXG5cclxudHlwZSBNb2R1bGUgPSB7XHJcbiAgaWQ6IHN0cmluZztcclxuICBjb3Vyc2VfaWQ6IHN0cmluZztcclxuICB0aXRsZTogc3RyaW5nO1xyXG4gIG9yZGVyX2luZGV4OiBudW1iZXI7XHJcbn07XHJcblxyXG50eXBlIExlc3NvbiA9IHtcclxuICBpZDogc3RyaW5nO1xyXG4gIG1vZHVsZV9pZDogc3RyaW5nO1xyXG4gIHRpdGxlOiBzdHJpbmc7XHJcbiAgZGVzY3JpcHRpb246IHN0cmluZztcclxuICBvcmRlcl9pbmRleDogbnVtYmVyO1xyXG4gIHZpZGVvX3Byb3ZpZGVyOiBzdHJpbmc7XHJcbiAgdmlkZW9fdXJsOiBzdHJpbmcgfCBudWxsO1xyXG4gIHlvdXR1YmVfdmlkZW9faWQ6IHN0cmluZyB8IG51bGw7XHJcbiAgaXNfcHJldmlldzogYm9vbGVhbjtcclxuICBpc19wdWJsaXNoZWQ6IGJvb2xlYW47XHJcbiAgY3JlYXRlZF9hdDogc3RyaW5nO1xyXG4gIHVwZGF0ZWRfYXQ6IHN0cmluZztcclxufTtcclxuXHJcbi8vIEhlbHBlciBmdW5jdGlvbiB0byBjcmVhdGUgU3VwYWJhc2UgY2xpZW50IGZvciBzZXJ2ZXIgYWN0aW9uc1xyXG5hc3luYyBmdW5jdGlvbiBjcmVhdGVTdXBhYmFzZUNsaWVudCgpIHtcclxuICBjb25zdCBjb29raWVTdG9yZSA9IGF3YWl0IGNvb2tpZXMoKTtcclxuICByZXR1cm4gY3JlYXRlU2VydmVyQ2xpZW50KFxyXG4gICAgcHJvY2Vzcy5lbnYuTkVYVF9QVUJMSUNfU1VQQUJBU0VfVVJMISxcclxuICAgIHByb2Nlc3MuZW52Lk5FWFRfUFVCTElDX1NVUEFCQVNFX0FOT05fS0VZISxcclxuICAgIHtcclxuICAgICAgY29va2llczoge1xyXG4gICAgICAgIGdldDogKG5hbWU6IHN0cmluZykgPT4ge1xyXG4gICAgICAgICAgY29uc3QgY29va2llID0gY29va2llU3RvcmUuZ2V0KG5hbWUpO1xyXG4gICAgICAgICAgcmV0dXJuIGNvb2tpZSA/IGNvb2tpZS52YWx1ZSA6IHVuZGVmaW5lZDtcclxuICAgICAgICB9LFxyXG4gICAgICB9LFxyXG4gICAgfVxyXG4gICk7XHJcbn1cclxuXHJcbi8vIENoZWNrIGlmIHVzZXIgaXMgYWRtaW5cclxuYXN5bmMgZnVuY3Rpb24gaXNBZG1pbihzdXBhYmFzZTogYW55KTogUHJvbWlzZTxib29sZWFuPiB7XHJcbiAgY29uc3Qge1xyXG4gICAgZGF0YTogeyB1c2VyIH0sXHJcbiAgICBlcnJvcjogdXNlckVycm9yLFxyXG4gIH0gPSBhd2FpdCBzdXBhYmFzZS5hdXRoLmdldFVzZXIoKTtcclxuXHJcbiAgaWYgKHVzZXJFcnJvciB8fCAhdXNlcikge1xyXG4gICAgcmV0dXJuIGZhbHNlO1xyXG4gIH1cclxuXHJcbiAgY29uc3QgeyBkYXRhOiBwcm9maWxlLCBlcnJvcjogcHJvZmlsZUVycm9yIH0gPSBhd2FpdCBzdXBhYmFzZVxyXG4gICAgLmZyb20oJ3Byb2ZpbGVzJylcclxuICAgIC5zZWxlY3QoJ3JvbGUnKVxyXG4gICAgLmVxKCdpZCcsIHVzZXIuaWQpXHJcbiAgICAuc2luZ2xlKCk7XHJcblxyXG4gIGlmIChwcm9maWxlRXJyb3IgfHwgIXByb2ZpbGUpIHtcclxuICAgIHJldHVybiBmYWxzZTtcclxuICB9XHJcblxyXG4gIHJldHVybiBwcm9maWxlLnJvbGUgPT09ICdhZG1pbicgfHwgcHJvZmlsZS5yb2xlID09PSAndGVhY2hlcic7XHJcbn1cclxuXHJcbi8vIENvdXJzZSBBY3Rpb25zXHJcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBsaXN0Q291cnNlcygpOiBQcm9taXNlPHsgZGF0YTogQ291cnNlW10gfCBudWxsOyBlcnJvcjogc3RyaW5nIHwgbnVsbCB9PiB7XHJcbiAgY29uc3Qgc3VwYWJhc2UgPSBhd2FpdCBjcmVhdGVTdXBhYmFzZUNsaWVudCgpO1xyXG4gIFxyXG4gIHRyeSB7XHJcbiAgICAvLyBDaGVjayBhZG1pbiBhY2Nlc3NcclxuICAgIGNvbnN0IGFkbWluQ2hlY2sgPSBhd2FpdCBpc0FkbWluKHN1cGFiYXNlKTtcclxuICAgIGlmICghYWRtaW5DaGVjaykge1xyXG4gICAgICBjb25zb2xlLmxvZygnREVCVUc6IGxpc3RDb3Vyc2VzIC0gQWNjZXNzIGRlbmllZCwgbm90IGFkbWluL3RlYWNoZXInKTtcclxuICAgICAgcmV0dXJuIHsgZGF0YTogbnVsbCwgZXJyb3I6ICdBY2Nlc3MgZGVuaWVkLiBBZG1pbiBvciB0ZWFjaGVyIHJvbGUgcmVxdWlyZWQuJyB9O1xyXG4gICAgfVxyXG4gICAgXHJcbiAgICBjb25zb2xlLmxvZygnREVCVUc6IGxpc3RDb3Vyc2VzIC0gRmV0Y2hpbmcgYWxsIGNvdXJzZXMgZm9yIGFkbWluJyk7XHJcbiAgICBcclxuICAgIGNvbnN0IHsgZGF0YSwgZXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlXHJcbiAgICAgIC5mcm9tKCdjb3Vyc2VzJylcclxuICAgICAgLnNlbGVjdCgnKicpXHJcbiAgICAgIC5vcmRlcignY3JlYXRlZF9hdCcsIHsgYXNjZW5kaW5nOiBmYWxzZSB9KTtcclxuICAgIFxyXG4gICAgY29uc29sZS5sb2coJ0RFQlVHOiBsaXN0Q291cnNlcyAtIFF1ZXJ5IHJlc3VsdDonLCB7IGRhdGE6IGRhdGE/Lmxlbmd0aCwgZXJyb3IgfSk7XHJcbiAgICBcclxuICAgIGlmIChlcnJvcikge1xyXG4gICAgICBjb25zb2xlLmVycm9yKCdERUJVRzogbGlzdENvdXJzZXMgLSBTdXBhYmFzZSBlcnJvcjonLCBlcnJvcik7XHJcbiAgICAgIHJldHVybiB7IGRhdGE6IG51bGwsIGVycm9yOiBlcnJvci5tZXNzYWdlIH07XHJcbiAgICB9XHJcblxyXG4gICAgY29uc29sZS5sb2coJ0RFQlVHOiBsaXN0Q291cnNlcyAtIFJldHVybmluZyBjb3Vyc2VzOicsIGRhdGE/Lmxlbmd0aCk7XHJcbiAgICByZXR1cm4geyBkYXRhLCBlcnJvcjogbnVsbCB9O1xyXG4gIH0gY2F0Y2ggKGVycm9yOiBhbnkpIHtcclxuICAgIGNvbnNvbGUuZXJyb3IoJ0RFQlVHOiBsaXN0Q291cnNlcyAtIEV4Y2VwdGlvbjonLCBlcnJvcik7XHJcbiAgICByZXR1cm4geyBkYXRhOiBudWxsLCBlcnJvcjogZXJyb3IubWVzc2FnZSB9O1xyXG4gIH1cclxufVxyXG5cclxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGNyZWF0ZUNvdXJzZSh0aXRsZTogc3RyaW5nLCBkZXNjcmlwdGlvbjogc3RyaW5nKTogUHJvbWlzZTx7IGRhdGE6IENvdXJzZSB8IG51bGw7IGVycm9yOiBzdHJpbmcgfCBudWxsIH0+IHtcclxuICBjb25zdCBzdXBhYmFzZSA9IGF3YWl0IGNyZWF0ZVN1cGFiYXNlQ2xpZW50KCk7XHJcbiAgXHJcbiAgdHJ5IHtcclxuICAgIC8vIENoZWNrIGFkbWluIGFjY2Vzc1xyXG4gICAgY29uc3QgYWRtaW5DaGVjayA9IGF3YWl0IGlzQWRtaW4oc3VwYWJhc2UpO1xyXG4gICAgaWYgKCFhZG1pbkNoZWNrKSB7XHJcbiAgICAgIGNvbnNvbGUubG9nKCdERUJVRzogY3JlYXRlQ291cnNlIC0gQWNjZXNzIGRlbmllZCwgbm90IGFkbWluL3RlYWNoZXInKTtcclxuICAgICAgcmV0dXJuIHsgZGF0YTogbnVsbCwgZXJyb3I6ICdBY2Nlc3MgZGVuaWVkLiBBZG1pbiBvciB0ZWFjaGVyIHJvbGUgcmVxdWlyZWQuJyB9O1xyXG4gICAgfVxyXG4gICAgXHJcbiAgICBjb25zb2xlLmxvZygnREVCVUc6IGNyZWF0ZUNvdXJzZSAtIENyZWF0aW5nIGNvdXJzZTonLCB7IHRpdGxlLCBkZXNjcmlwdGlvbiB9KTtcclxuXHJcbiAgICBjb25zdCB7IGRhdGEsIGVycm9yIH0gPSBhd2FpdCBzdXBhYmFzZVxyXG4gICAgICAuZnJvbSgnY291cnNlcycpXHJcbiAgICAgIC5pbnNlcnQoW3sgdGl0bGUsIGRlc2NyaXB0aW9uIH1dKVxyXG4gICAgICAuc2VsZWN0KClcclxuICAgICAgLnNpbmdsZSgpO1xyXG4gICAgXHJcbiAgICBjb25zb2xlLmxvZygnREVCVUc6IGNyZWF0ZUNvdXJzZSAtIEluc2VydCByZXN1bHQ6JywgeyBkYXRhOiAhIWRhdGEsIGVycm9yIH0pO1xyXG5cclxuICAgIGlmIChlcnJvcikge1xyXG4gICAgICBjb25zb2xlLmVycm9yKCdERUJVRzogY3JlYXRlQ291cnNlIC0gU3VwYWJhc2UgZXJyb3I6JywgZXJyb3IpO1xyXG4gICAgICByZXR1cm4geyBkYXRhOiBudWxsLCBlcnJvcjogZXJyb3IubWVzc2FnZSB9O1xyXG4gICAgfVxyXG5cclxuICAgIC8vIFJldmFsaWRhdGUgdGhlIGNhY2hlIHRvIGVuc3VyZSBmcm9udGVuZCByZWZsZWN0cyBjaGFuZ2VzXHJcbiAgICByZXZhbGlkYXRlUGF0aCgnL2NvdXJzZXMnKTtcclxuICAgIHJldmFsaWRhdGVQYXRoKCcvZGFzaGJvYXJkJyk7XHJcbiAgICBcclxuICAgIGNvbnNvbGUubG9nKCdERUJVRzogY3JlYXRlQ291cnNlIC0gQ291cnNlIGNyZWF0ZWQgc3VjY2Vzc2Z1bGx5LCBjYWNoZSBpbnZhbGlkYXRlZCcpO1xyXG4gICAgXHJcbiAgICByZXR1cm4geyBkYXRhLCBlcnJvcjogbnVsbCB9O1xyXG4gIH0gY2F0Y2ggKGVycm9yOiBhbnkpIHtcclxuICAgIGNvbnNvbGUuZXJyb3IoJ0RFQlVHOiBjcmVhdGVDb3Vyc2UgLSBFeGNlcHRpb246JywgZXJyb3IpO1xyXG4gICAgcmV0dXJuIHsgZGF0YTogbnVsbCwgZXJyb3I6IGVycm9yLm1lc3NhZ2UgfTtcclxuICB9XHJcbn1cclxuXHJcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiB1cGRhdGVDb3Vyc2UoaWQ6IHN0cmluZywgdXBkYXRlczogUGFydGlhbDxDb3Vyc2U+KTogUHJvbWlzZTx7IGRhdGE6IENvdXJzZSB8IG51bGw7IGVycm9yOiBzdHJpbmcgfCBudWxsIH0+IHtcclxuICBjb25zdCBzdXBhYmFzZSA9IGF3YWl0IGNyZWF0ZVN1cGFiYXNlQ2xpZW50KCk7XHJcbiAgXHJcbiAgdHJ5IHtcclxuICAgIC8vIENoZWNrIGFkbWluIGFjY2Vzc1xyXG4gICAgY29uc3QgYWRtaW5DaGVjayA9IGF3YWl0IGlzQWRtaW4oc3VwYWJhc2UpO1xyXG4gICAgaWYgKCFhZG1pbkNoZWNrKSB7XHJcbiAgICAgIHJldHVybiB7IGRhdGE6IG51bGwsIGVycm9yOiAnQWNjZXNzIGRlbmllZC4gQWRtaW4gb3IgdGVhY2hlciByb2xlIHJlcXVpcmVkLicgfTtcclxuICAgIH1cclxuXHJcbiAgICBjb25zdCB7IGRhdGEsIGVycm9yIH0gPSBhd2FpdCBzdXBhYmFzZVxyXG4gICAgICAuZnJvbSgnY291cnNlcycpXHJcbiAgICAgIC51cGRhdGUodXBkYXRlcylcclxuICAgICAgLmVxKCdpZCcsIGlkKVxyXG4gICAgICAuc2VsZWN0KClcclxuICAgICAgLnNpbmdsZSgpO1xyXG5cclxuICAgIGlmIChlcnJvcikge1xyXG4gICAgICByZXR1cm4geyBkYXRhOiBudWxsLCBlcnJvcjogZXJyb3IubWVzc2FnZSB9O1xyXG4gICAgfVxyXG5cclxuICAgIC8vIFJldmFsaWRhdGUgdGhlIGNhY2hlIHRvIGVuc3VyZSBmcm9udGVuZCByZWZsZWN0cyBjaGFuZ2VzXHJcbiAgICByZXZhbGlkYXRlUGF0aCgnL2NvdXJzZXMnKTtcclxuICAgIHJldmFsaWRhdGVQYXRoKCcvZGFzaGJvYXJkJyk7XHJcbiAgICBcclxuICAgIHJldHVybiB7IGRhdGEsIGVycm9yOiBudWxsIH07XHJcbiAgfSBjYXRjaCAoZXJyb3I6IGFueSkge1xyXG4gICAgcmV0dXJuIHsgZGF0YTogbnVsbCwgZXJyb3I6IGVycm9yLm1lc3NhZ2UgfTtcclxuICB9XHJcbn1cclxuXHJcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBkZWxldGVDb3Vyc2UoaWQ6IHN0cmluZyk6IFByb21pc2U8eyBlcnJvcjogc3RyaW5nIHwgbnVsbCB9PiB7XHJcbiAgY29uc3Qgc3VwYWJhc2UgPSBhd2FpdCBjcmVhdGVTdXBhYmFzZUNsaWVudCgpO1xyXG4gIFxyXG4gIHRyeSB7XHJcbiAgICAvLyBDaGVjayBhZG1pbiBhY2Nlc3NcclxuICAgIGNvbnN0IGFkbWluQ2hlY2sgPSBhd2FpdCBpc0FkbWluKHN1cGFiYXNlKTtcclxuICAgIGlmICghYWRtaW5DaGVjaykge1xyXG4gICAgICByZXR1cm4geyBlcnJvcjogJ0FjY2VzcyBkZW5pZWQuIEFkbWluIG9yIHRlYWNoZXIgcm9sZSByZXF1aXJlZC4nIH07XHJcbiAgICB9XHJcblxyXG4gICAgY29uc3QgeyBlcnJvciB9ID0gYXdhaXQgc3VwYWJhc2VcclxuICAgICAgLmZyb20oJ2NvdXJzZXMnKVxyXG4gICAgICAuZGVsZXRlKClcclxuICAgICAgLmVxKCdpZCcsIGlkKTtcclxuXHJcbiAgICBpZiAoZXJyb3IpIHtcclxuICAgICAgcmV0dXJuIHsgZXJyb3I6IGVycm9yLm1lc3NhZ2UgfTtcclxuICAgIH1cclxuXHJcbiAgICAvLyBSZXZhbGlkYXRlIHRoZSBjYWNoZSB0byBlbnN1cmUgZnJvbnRlbmQgcmVmbGVjdHMgY2hhbmdlc1xyXG4gICAgcmV2YWxpZGF0ZVBhdGgoJy9jb3Vyc2VzJyk7XHJcbiAgICByZXZhbGlkYXRlUGF0aCgnL2Rhc2hib2FyZCcpO1xyXG4gICAgXHJcbiAgICByZXR1cm4geyBlcnJvcjogbnVsbCB9O1xyXG4gIH0gY2F0Y2ggKGVycm9yOiBhbnkpIHtcclxuICAgIHJldHVybiB7IGVycm9yOiBlcnJvci5tZXNzYWdlIH07XHJcbiAgfVxyXG59XHJcblxyXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gcHVibGlzaENvdXJzZShpZDogc3RyaW5nLCBpc1B1Ymxpc2hlZDogYm9vbGVhbik6IFByb21pc2U8eyBkYXRhOiBDb3Vyc2UgfCBudWxsOyBlcnJvcjogc3RyaW5nIHwgbnVsbCB9PiB7XHJcbiAgY29uc3Qgc3VwYWJhc2UgPSBhd2FpdCBjcmVhdGVTdXBhYmFzZUNsaWVudCgpO1xyXG4gIFxyXG4gIHRyeSB7XHJcbiAgICAvLyBDaGVjayBhZG1pbiBhY2Nlc3NcclxuICAgIGNvbnN0IGFkbWluQ2hlY2sgPSBhd2FpdCBpc0FkbWluKHN1cGFiYXNlKTtcclxuICAgIGlmICghYWRtaW5DaGVjaykge1xyXG4gICAgICByZXR1cm4geyBkYXRhOiBudWxsLCBlcnJvcjogJ0FjY2VzcyBkZW5pZWQuIEFkbWluIG9yIHRlYWNoZXIgcm9sZSByZXF1aXJlZC4nIH07XHJcbiAgICB9XHJcblxyXG4gICAgY29uc3QgeyBkYXRhLCBlcnJvciB9ID0gYXdhaXQgc3VwYWJhc2VcclxuICAgICAgLmZyb20oJ2NvdXJzZXMnKVxyXG4gICAgICAudXBkYXRlKHsgaXNfcHVibGlzaGVkOiBpc1B1Ymxpc2hlZCB9KVxyXG4gICAgICAuZXEoJ2lkJywgaWQpXHJcbiAgICAgIC5zZWxlY3QoKVxyXG4gICAgICAuc2luZ2xlKCk7XHJcblxyXG4gICAgaWYgKGVycm9yKSB7XHJcbiAgICAgIHJldHVybiB7IGRhdGE6IG51bGwsIGVycm9yOiBlcnJvci5tZXNzYWdlIH07XHJcbiAgICB9XHJcblxyXG4gICAgLy8gUmV2YWxpZGF0ZSB0aGUgY2FjaGUgdG8gZW5zdXJlIGZyb250ZW5kIHJlZmxlY3RzIGNoYW5nZXNcclxuICAgIHJldmFsaWRhdGVQYXRoKCcvY291cnNlcycpO1xyXG4gICAgcmV2YWxpZGF0ZVBhdGgoJy9kYXNoYm9hcmQnKTtcclxuICAgIFxyXG4gICAgcmV0dXJuIHsgZGF0YSwgZXJyb3I6IG51bGwgfTtcclxuICB9IGNhdGNoIChlcnJvcjogYW55KSB7XHJcbiAgICByZXR1cm4geyBkYXRhOiBudWxsLCBlcnJvcjogZXJyb3IubWVzc2FnZSB9O1xyXG4gIH1cclxufVxyXG5cclxuLy8gTW9kdWxlIEFjdGlvbnNcclxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGxpc3RNb2R1bGVzKGNvdXJzZUlkOiBzdHJpbmcpOiBQcm9taXNlPHsgZGF0YTogTW9kdWxlW10gfCBudWxsOyBlcnJvcjogc3RyaW5nIHwgbnVsbCB9PiB7XHJcbiAgY29uc3Qgc3VwYWJhc2UgPSBhd2FpdCBjcmVhdGVTdXBhYmFzZUNsaWVudCgpO1xyXG4gIFxyXG4gIHRyeSB7XHJcbiAgICAvLyBDaGVjayBhZG1pbiBhY2Nlc3NcclxuICAgIGNvbnN0IGFkbWluQ2hlY2sgPSBhd2FpdCBpc0FkbWluKHN1cGFiYXNlKTtcclxuICAgIGlmICghYWRtaW5DaGVjaykge1xyXG4gICAgICByZXR1cm4geyBkYXRhOiBudWxsLCBlcnJvcjogJ0FjY2VzcyBkZW5pZWQuIEFkbWluIG9yIHRlYWNoZXIgcm9sZSByZXF1aXJlZC4nIH07XHJcbiAgICB9XHJcblxyXG4gICAgY29uc3QgeyBkYXRhLCBlcnJvciB9ID0gYXdhaXQgc3VwYWJhc2VcclxuICAgICAgLmZyb20oJ21vZHVsZXMnKVxyXG4gICAgICAuc2VsZWN0KCcqJylcclxuICAgICAgLmVxKCdjb3Vyc2VfaWQnLCBjb3Vyc2VJZClcclxuICAgICAgLm9yZGVyKCdvcmRlcl9pbmRleCcsIHsgYXNjZW5kaW5nOiB0cnVlIH0pO1xyXG5cclxuICAgIGlmIChlcnJvcikge1xyXG4gICAgICByZXR1cm4geyBkYXRhOiBudWxsLCBlcnJvcjogZXJyb3IubWVzc2FnZSB9O1xyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiB7IGRhdGEsIGVycm9yOiBudWxsIH07XHJcbiAgfSBjYXRjaCAoZXJyb3I6IGFueSkge1xyXG4gICAgcmV0dXJuIHsgZGF0YTogbnVsbCwgZXJyb3I6IGVycm9yLm1lc3NhZ2UgfTtcclxuICB9XHJcbn1cclxuXHJcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBjcmVhdGVNb2R1bGUoY291cnNlSWQ6IHN0cmluZywgdGl0bGU6IHN0cmluZyk6IFByb21pc2U8eyBkYXRhOiBNb2R1bGUgfCBudWxsOyBlcnJvcjogc3RyaW5nIHwgbnVsbCB9PiB7XHJcbiAgY29uc3Qgc3VwYWJhc2UgPSBhd2FpdCBjcmVhdGVTdXBhYmFzZUNsaWVudCgpO1xyXG4gIFxyXG4gIHRyeSB7XHJcbiAgICAvLyBDaGVjayBhZG1pbiBhY2Nlc3NcclxuICAgIGNvbnN0IGFkbWluQ2hlY2sgPSBhd2FpdCBpc0FkbWluKHN1cGFiYXNlKTtcclxuICAgIGlmICghYWRtaW5DaGVjaykge1xyXG4gICAgICByZXR1cm4geyBkYXRhOiBudWxsLCBlcnJvcjogJ0FjY2VzcyBkZW5pZWQuIEFkbWluIG9yIHRlYWNoZXIgcm9sZSByZXF1aXJlZC4nIH07XHJcbiAgICB9XHJcblxyXG4gICAgLy8gR2V0IHRoZSBoaWdoZXN0IG9yZGVyX2luZGV4IHRvIGRldGVybWluZSB0aGUgbmV3IHBvc2l0aW9uXHJcbiAgICBjb25zdCB7IGRhdGE6IGV4aXN0aW5nTW9kdWxlcyB9ID0gYXdhaXQgc3VwYWJhc2VcclxuICAgICAgLmZyb20oJ21vZHVsZXMnKVxyXG4gICAgICAuc2VsZWN0KCdvcmRlcl9pbmRleCcpXHJcbiAgICAgIC5lcSgnY291cnNlX2lkJywgY291cnNlSWQpXHJcbiAgICAgIC5vcmRlcignb3JkZXJfaW5kZXgnLCB7IGFzY2VuZGluZzogZmFsc2UgfSlcclxuICAgICAgLmxpbWl0KDEpO1xyXG5cclxuICAgIGNvbnN0IG5ld09yZGVySW5kZXggPSBleGlzdGluZ01vZHVsZXMgJiYgZXhpc3RpbmdNb2R1bGVzLmxlbmd0aCA+IDAgXHJcbiAgICAgID8gZXhpc3RpbmdNb2R1bGVzWzBdLm9yZGVyX2luZGV4ICsgMTAgXHJcbiAgICAgIDogMDtcclxuXHJcbiAgICBjb25zdCB7IGRhdGEsIGVycm9yIH0gPSBhd2FpdCBzdXBhYmFzZVxyXG4gICAgICAuZnJvbSgnbW9kdWxlcycpXHJcbiAgICAgIC5pbnNlcnQoW3sgY291cnNlX2lkOiBjb3Vyc2VJZCwgdGl0bGUsIG9yZGVyX2luZGV4OiBuZXdPcmRlckluZGV4IH1dKVxyXG4gICAgICAuc2VsZWN0KClcclxuICAgICAgLnNpbmdsZSgpO1xyXG5cclxuICAgIGlmIChlcnJvcikge1xyXG4gICAgICByZXR1cm4geyBkYXRhOiBudWxsLCBlcnJvcjogZXJyb3IubWVzc2FnZSB9O1xyXG4gICAgfVxyXG5cclxuICAgIC8vIFJldmFsaWRhdGUgdGhlIGNhY2hlIHRvIGVuc3VyZSBmcm9udGVuZCByZWZsZWN0cyBjaGFuZ2VzXHJcbiAgICByZXZhbGlkYXRlUGF0aCgnL2NvdXJzZXMnKTtcclxuICAgIHJldmFsaWRhdGVQYXRoKCcvZGFzaGJvYXJkJyk7XHJcbiAgICBcclxuICAgIHJldHVybiB7IGRhdGEsIGVycm9yOiBudWxsIH07XHJcbiAgfSBjYXRjaCAoZXJyb3I6IGFueSkge1xyXG4gICAgcmV0dXJuIHsgZGF0YTogbnVsbCwgZXJyb3I6IGVycm9yLm1lc3NhZ2UgfTtcclxuICB9XHJcbn1cclxuXHJcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiB1cGRhdGVNb2R1bGUoaWQ6IHN0cmluZywgdXBkYXRlczogUGFydGlhbDxNb2R1bGU+KTogUHJvbWlzZTx7IGRhdGE6IE1vZHVsZSB8IG51bGw7IGVycm9yOiBzdHJpbmcgfCBudWxsIH0+IHtcclxuICBjb25zdCBzdXBhYmFzZSA9IGF3YWl0IGNyZWF0ZVN1cGFiYXNlQ2xpZW50KCk7XHJcbiAgXHJcbiAgdHJ5IHtcclxuICAgIC8vIENoZWNrIGFkbWluIGFjY2Vzc1xyXG4gICAgY29uc3QgYWRtaW5DaGVjayA9IGF3YWl0IGlzQWRtaW4oc3VwYWJhc2UpO1xyXG4gICAgaWYgKCFhZG1pbkNoZWNrKSB7XHJcbiAgICAgIHJldHVybiB7IGRhdGE6IG51bGwsIGVycm9yOiAnQWNjZXNzIGRlbmllZC4gQWRtaW4gb3IgdGVhY2hlciByb2xlIHJlcXVpcmVkLicgfTtcclxuICAgIH1cclxuXHJcbiAgICBjb25zdCB7IGRhdGEsIGVycm9yIH0gPSBhd2FpdCBzdXBhYmFzZVxyXG4gICAgICAuZnJvbSgnbW9kdWxlcycpXHJcbiAgICAgIC51cGRhdGUodXBkYXRlcylcclxuICAgICAgLmVxKCdpZCcsIGlkKVxyXG4gICAgICAuc2VsZWN0KClcclxuICAgICAgLnNpbmdsZSgpO1xyXG5cclxuICAgIGlmIChlcnJvcikge1xyXG4gICAgICByZXR1cm4geyBkYXRhOiBudWxsLCBlcnJvcjogZXJyb3IubWVzc2FnZSB9O1xyXG4gICAgfVxyXG5cclxuICAgIC8vIFJldmFsaWRhdGUgdGhlIGNhY2hlIHRvIGVuc3VyZSBmcm9udGVuZCByZWZsZWN0cyBjaGFuZ2VzXHJcbiAgICByZXZhbGlkYXRlUGF0aCgnL2NvdXJzZXMnKTtcclxuICAgIHJldmFsaWRhdGVQYXRoKCcvZGFzaGJvYXJkJyk7XHJcbiAgICBcclxuICAgIHJldHVybiB7IGRhdGEsIGVycm9yOiBudWxsIH07XHJcbiAgfSBjYXRjaCAoZXJyb3I6IGFueSkge1xyXG4gICAgcmV0dXJuIHsgZGF0YTogbnVsbCwgZXJyb3I6IGVycm9yLm1lc3NhZ2UgfTtcclxuICB9XHJcbn1cclxuXHJcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBkZWxldGVNb2R1bGUoaWQ6IHN0cmluZyk6IFByb21pc2U8eyBlcnJvcjogc3RyaW5nIHwgbnVsbCB9PiB7XHJcbiAgY29uc3Qgc3VwYWJhc2UgPSBhd2FpdCBjcmVhdGVTdXBhYmFzZUNsaWVudCgpO1xyXG4gIFxyXG4gIHRyeSB7XHJcbiAgICAvLyBDaGVjayBhZG1pbiBhY2Nlc3NcclxuICAgIGNvbnN0IGFkbWluQ2hlY2sgPSBhd2FpdCBpc0FkbWluKHN1cGFiYXNlKTtcclxuICAgIGlmICghYWRtaW5DaGVjaykge1xyXG4gICAgICByZXR1cm4geyBlcnJvcjogJ0FjY2VzcyBkZW5pZWQuIEFkbWluIG9yIHRlYWNoZXIgcm9sZSByZXF1aXJlZC4nIH07XHJcbiAgICB9XHJcblxyXG4gICAgY29uc3QgeyBlcnJvciB9ID0gYXdhaXQgc3VwYWJhc2VcclxuICAgICAgLmZyb20oJ21vZHVsZXMnKVxyXG4gICAgICAuZGVsZXRlKClcclxuICAgICAgLmVxKCdpZCcsIGlkKTtcclxuXHJcbiAgICBpZiAoZXJyb3IpIHtcclxuICAgICAgcmV0dXJuIHsgZXJyb3I6IGVycm9yLm1lc3NhZ2UgfTtcclxuICAgIH1cclxuXHJcbiAgICAvLyBSZXZhbGlkYXRlIHRoZSBjYWNoZSB0byBlbnN1cmUgZnJvbnRlbmQgcmVmbGVjdHMgY2hhbmdlc1xyXG4gICAgcmV2YWxpZGF0ZVBhdGgoJy9jb3Vyc2VzJyk7XHJcbiAgICByZXZhbGlkYXRlUGF0aCgnL2Rhc2hib2FyZCcpO1xyXG4gICAgXHJcbiAgICByZXR1cm4geyBlcnJvcjogbnVsbCB9O1xyXG4gIH0gY2F0Y2ggKGVycm9yOiBhbnkpIHtcclxuICAgIHJldHVybiB7IGVycm9yOiBlcnJvci5tZXNzYWdlIH07XHJcbiAgfVxyXG59XHJcblxyXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gcmVvcmRlck1vZHVsZXMoY291cnNlSWQ6IHN0cmluZywgbW9kdWxlSWRzOiBzdHJpbmdbXSk6IFByb21pc2U8eyBlcnJvcjogc3RyaW5nIHwgbnVsbCB9PiB7XHJcbiAgY29uc3Qgc3VwYWJhc2UgPSBhd2FpdCBjcmVhdGVTdXBhYmFzZUNsaWVudCgpO1xyXG4gIFxyXG4gIHRyeSB7XHJcbiAgICAvLyBDaGVjayBhZG1pbiBhY2Nlc3NcclxuICAgIGNvbnN0IGFkbWluQ2hlY2sgPSBhd2FpdCBpc0FkbWluKHN1cGFiYXNlKTtcclxuICAgIGlmICghYWRtaW5DaGVjaykge1xyXG4gICAgICByZXR1cm4geyBlcnJvcjogJ0FjY2VzcyBkZW5pZWQuIEFkbWluIG9yIHRlYWNoZXIgcm9sZSByZXF1aXJlZC4nIH07XHJcbiAgICB9XHJcblxyXG4gICAgLy8gVXBkYXRlIGFsbCBtb2R1bGVzIHdpdGggdGhlaXIgbmV3IHBvc2l0aW9ucyBpbiBhIHNpbmdsZSB0cmFuc2FjdGlvblxyXG4gICAgY29uc3QgdXBkYXRlcyA9IG1vZHVsZUlkcy5tYXAoKGlkLCBpbmRleCkgPT4gKHtcclxuICAgICAgaWQsXHJcbiAgICAgIG9yZGVyX2luZGV4OiBpbmRleCAqIDEwIC8vIFVzZSBpbmNyZW1lbnRzIG9mIDEwIHRvIGFsbG93IGZvciBmdXR1cmUgaW5zZXJ0aW9ucyBiZXR3ZWVuIGl0ZW1zXHJcbiAgICB9KSk7XHJcblxyXG4gICAgLy8gUGVyZm9ybSB1cGRhdGVzIGluIGEgYmF0Y2hcclxuICAgIGZvciAoY29uc3QgdXBkYXRlIG9mIHVwZGF0ZXMpIHtcclxuICAgICAgY29uc3QgeyBlcnJvciB9ID0gYXdhaXQgc3VwYWJhc2VcclxuICAgICAgICAuZnJvbSgnbW9kdWxlcycpXHJcbiAgICAgICAgLnVwZGF0ZSh7IG9yZGVyX2luZGV4OiB1cGRhdGUub3JkZXJfaW5kZXggfSlcclxuICAgICAgICAuZXEoJ2lkJywgdXBkYXRlLmlkKVxyXG4gICAgICAgIC5lcSgnY291cnNlX2lkJywgY291cnNlSWQpOyAvLyBBZGRpdGlvbmFsIHNhZmV0eSBjaGVja1xyXG5cclxuICAgICAgaWYgKGVycm9yKSB7XHJcbiAgICAgICAgcmV0dXJuIHsgZXJyb3I6IGVycm9yLm1lc3NhZ2UgfTtcclxuICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8vIFJldmFsaWRhdGUgdGhlIGNhY2hlIHRvIGVuc3VyZSBmcm9udGVuZCByZWZsZWN0cyBjaGFuZ2VzXHJcbiAgICByZXZhbGlkYXRlUGF0aCgnL2NvdXJzZXMnKTtcclxuICAgIHJldmFsaWRhdGVQYXRoKCcvZGFzaGJvYXJkJyk7XHJcbiAgICBcclxuICAgIHJldHVybiB7IGVycm9yOiBudWxsIH07XHJcbiAgfSBjYXRjaCAoZXJyb3I6IGFueSkge1xyXG4gICAgcmV0dXJuIHsgZXJyb3I6IGVycm9yLm1lc3NhZ2UgfTtcclxuICB9XHJcbn1cclxuXHJcbi8vIExlc3NvbiBBY3Rpb25zXHJcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBsaXN0TGVzc29ucyhtb2R1bGVJZDogc3RyaW5nKTogUHJvbWlzZTx7IGRhdGE6IExlc3NvbltdIHwgbnVsbDsgZXJyb3I6IHN0cmluZyB8IG51bGwgfT4ge1xyXG4gIGNvbnN0IHN1cGFiYXNlID0gYXdhaXQgY3JlYXRlU3VwYWJhc2VDbGllbnQoKTtcclxuICBcclxuICB0cnkge1xyXG4gICAgLy8gQ2hlY2sgYWRtaW4gYWNjZXNzXHJcbiAgICBjb25zdCBhZG1pbkNoZWNrID0gYXdhaXQgaXNBZG1pbihzdXBhYmFzZSk7XHJcbiAgICBpZiAoIWFkbWluQ2hlY2spIHtcclxuICAgICAgcmV0dXJuIHsgZGF0YTogbnVsbCwgZXJyb3I6ICdBY2Nlc3MgZGVuaWVkLiBBZG1pbiBvciB0ZWFjaGVyIHJvbGUgcmVxdWlyZWQuJyB9O1xyXG4gICAgfVxyXG5cclxuICAgIGNvbnN0IHsgZGF0YSwgZXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlXHJcbiAgICAgIC5mcm9tKCdsZXNzb25zJylcclxuICAgICAgLnNlbGVjdCgnKicpXHJcbiAgICAgIC5lcSgnbW9kdWxlX2lkJywgbW9kdWxlSWQpXHJcbiAgICAgIC5vcmRlcignb3JkZXJfaW5kZXgnLCB7IGFzY2VuZGluZzogdHJ1ZSB9KTtcclxuXHJcbiAgICBpZiAoZXJyb3IpIHtcclxuICAgICAgcmV0dXJuIHsgZGF0YTogbnVsbCwgZXJyb3I6IGVycm9yLm1lc3NhZ2UgfTtcclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4geyBkYXRhLCBlcnJvcjogbnVsbCB9O1xyXG4gIH0gY2F0Y2ggKGVycm9yOiBhbnkpIHtcclxuICAgIHJldHVybiB7IGRhdGE6IG51bGwsIGVycm9yOiBlcnJvci5tZXNzYWdlIH07XHJcbiAgfVxyXG59XHJcblxyXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gY3JlYXRlTGVzc29uKFxyXG4gIG1vZHVsZUlkOiBzdHJpbmcsIFxyXG4gIHRpdGxlOiBzdHJpbmcsIFxyXG4gIGRlc2NyaXB0aW9uOiBzdHJpbmcsIFxyXG4gIHlvdXR1YmVVcmw6IHN0cmluZ1xyXG4pOiBQcm9taXNlPHsgZGF0YTogTGVzc29uIHwgbnVsbDsgZXJyb3I6IHN0cmluZyB8IG51bGwgfT4ge1xyXG4gIGNvbnN0IHN1cGFiYXNlID0gYXdhaXQgY3JlYXRlU3VwYWJhc2VDbGllbnQoKTtcclxuICBcclxuICB0cnkge1xyXG4gICAgLy8gQ2hlY2sgYWRtaW4gYWNjZXNzXHJcbiAgICBjb25zdCBhZG1pbkNoZWNrID0gYXdhaXQgaXNBZG1pbihzdXBhYmFzZSk7XHJcbiAgICBpZiAoIWFkbWluQ2hlY2spIHtcclxuICAgICAgcmV0dXJuIHsgZGF0YTogbnVsbCwgZXJyb3I6ICdBY2Nlc3MgZGVuaWVkLiBBZG1pbiBvciB0ZWFjaGVyIHJvbGUgcmVxdWlyZWQuJyB9O1xyXG4gICAgfVxyXG5cclxuICAgIC8vIFBhcnNlIHRoZSBZb3VUdWJlIFVSTFxyXG4gICAgY29uc3QgcGFyc2VkID0gcGFyc2VZb3VUdWJlKHlvdXR1YmVVcmwpO1xyXG4gICAgaWYgKHBhcnNlZC5lcnJvcikge1xyXG4gICAgICByZXR1cm4geyBkYXRhOiBudWxsLCBlcnJvcjogcGFyc2VkLmVycm9yIH07XHJcbiAgICB9XHJcblxyXG4gICAgLy8gR2V0IHRoZSBoaWdoZXN0IG9yZGVyX2luZGV4IHRvIGRldGVybWluZSB0aGUgbmV3IHBvc2l0aW9uXHJcbiAgICBjb25zdCB7IGRhdGE6IGV4aXN0aW5nTGVzc29ucyB9ID0gYXdhaXQgc3VwYWJhc2VcclxuICAgICAgLmZyb20oJ2xlc3NvbnMnKVxyXG4gICAgICAuc2VsZWN0KCdvcmRlcl9pbmRleCcpXHJcbiAgICAgIC5lcSgnbW9kdWxlX2lkJywgbW9kdWxlSWQpXHJcbiAgICAgIC5vcmRlcignb3JkZXJfaW5kZXgnLCB7IGFzY2VuZGluZzogZmFsc2UgfSlcclxuICAgICAgLmxpbWl0KDEpO1xyXG5cclxuICAgIGNvbnN0IG5ld09yZGVySW5kZXggPSBleGlzdGluZ0xlc3NvbnMgJiYgZXhpc3RpbmdMZXNzb25zLmxlbmd0aCA+IDAgXHJcbiAgICAgID8gZXhpc3RpbmdMZXNzb25zWzBdLm9yZGVyX2luZGV4ICsgMTAgXHJcbiAgICAgIDogMDtcclxuXHJcbiAgICBjb25zdCB7IGRhdGEsIGVycm9yIH0gPSBhd2FpdCBzdXBhYmFzZVxyXG4gICAgICAuZnJvbSgnbGVzc29ucycpXHJcbiAgICAgIC5pbnNlcnQoW3tcclxuICAgICAgICBtb2R1bGVfaWQ6IG1vZHVsZUlkLFxyXG4gICAgICAgIHRpdGxlLFxyXG4gICAgICAgIGRlc2NyaXB0aW9uLFxyXG4gICAgICAgIHlvdXR1YmVfdmlkZW9faWQ6IHBhcnNlZC52aWRlb0lkLFxyXG4gICAgICAgIHZpZGVvX3VybDogcGFyc2VkLmVtYmVkVXJsLFxyXG4gICAgICAgIG9yZGVyX2luZGV4OiBuZXdPcmRlckluZGV4LFxyXG4gICAgICAgIGlzX3ByZXZpZXc6IGZhbHNlLFxyXG4gICAgICAgIGlzX3B1Ymxpc2hlZDogdHJ1ZVxyXG4gICAgICB9XSlcclxuICAgICAgLnNlbGVjdCgpXHJcbiAgICAgIC5zaW5nbGUoKTtcclxuXHJcbiAgICBpZiAoZXJyb3IpIHtcclxuICAgICAgcmV0dXJuIHsgZGF0YTogbnVsbCwgZXJyb3I6IGVycm9yLm1lc3NhZ2UgfTtcclxuICAgIH1cclxuXHJcbiAgICAvLyBSZXZhbGlkYXRlIHRoZSBjYWNoZSB0byBlbnN1cmUgZnJvbnRlbmQgcmVmbGVjdHMgY2hhbmdlc1xyXG4gICAgcmV2YWxpZGF0ZVBhdGgoJy9jb3Vyc2VzJyk7XHJcbiAgICByZXZhbGlkYXRlUGF0aCgnL2Rhc2hib2FyZCcpO1xyXG4gICAgXHJcbiAgICByZXR1cm4geyBkYXRhLCBlcnJvcjogbnVsbCB9O1xyXG4gIH0gY2F0Y2ggKGVycm9yOiBhbnkpIHtcclxuICAgIHJldHVybiB7IGRhdGE6IG51bGwsIGVycm9yOiBlcnJvci5tZXNzYWdlIH07XHJcbiAgfVxyXG59XHJcblxyXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gdXBkYXRlTGVzc29uKFxyXG4gIGlkOiBzdHJpbmcsIFxyXG4gIHVwZGF0ZXM6IFBhcnRpYWw8T21pdDxMZXNzb24sICdpZCcgfCAnbW9kdWxlX2lkJyB8ICdjcmVhdGVkX2F0JyB8ICd1cGRhdGVkX2F0Jz4+XHJcbik6IFByb21pc2U8eyBkYXRhOiBMZXNzb24gfCBudWxsOyBlcnJvcjogc3RyaW5nIHwgbnVsbCB9PiB7XHJcbiAgY29uc3Qgc3VwYWJhc2UgPSBhd2FpdCBjcmVhdGVTdXBhYmFzZUNsaWVudCgpO1xyXG4gIFxyXG4gIHRyeSB7XHJcbiAgICAvLyBDaGVjayBhZG1pbiBhY2Nlc3NcclxuICAgIGNvbnN0IGFkbWluQ2hlY2sgPSBhd2FpdCBpc0FkbWluKHN1cGFiYXNlKTtcclxuICAgIGlmICghYWRtaW5DaGVjaykge1xyXG4gICAgICByZXR1cm4geyBkYXRhOiBudWxsLCBlcnJvcjogJ0FjY2VzcyBkZW5pZWQuIEFkbWluIG9yIHRlYWNoZXIgcm9sZSByZXF1aXJlZC4nIH07XHJcbiAgICB9XHJcblxyXG4gICAgLy8gSWYgdXBkYXRpbmcgWW91VHViZSBVUkwsIHBhcnNlIGl0IGZpcnN0XHJcbiAgICBpZiAodXBkYXRlcy52aWRlb191cmwpIHtcclxuICAgICAgY29uc3QgcGFyc2VkID0gcGFyc2VZb3VUdWJlKHVwZGF0ZXMudmlkZW9fdXJsKTtcclxuICAgICAgaWYgKHBhcnNlZC5lcnJvcikge1xyXG4gICAgICAgIHJldHVybiB7IGRhdGE6IG51bGwsIGVycm9yOiBwYXJzZWQuZXJyb3IgfTtcclxuICAgICAgfVxyXG4gICAgICB1cGRhdGVzLnlvdXR1YmVfdmlkZW9faWQgPSBwYXJzZWQudmlkZW9JZDtcclxuICAgICAgdXBkYXRlcy52aWRlb191cmwgPSBwYXJzZWQuZW1iZWRVcmw7XHJcbiAgICB9XHJcblxyXG4gICAgY29uc3QgeyBkYXRhLCBlcnJvciB9ID0gYXdhaXQgc3VwYWJhc2VcclxuICAgICAgLmZyb20oJ2xlc3NvbnMnKVxyXG4gICAgICAudXBkYXRlKHVwZGF0ZXMpXHJcbiAgICAgIC5lcSgnaWQnLCBpZClcclxuICAgICAgLnNlbGVjdCgpXHJcbiAgICAgIC5zaW5nbGUoKTtcclxuXHJcbiAgICBpZiAoZXJyb3IpIHtcclxuICAgICAgcmV0dXJuIHsgZGF0YTogbnVsbCwgZXJyb3I6IGVycm9yLm1lc3NhZ2UgfTtcclxuICAgIH1cclxuXHJcbiAgICAvLyBSZXZhbGlkYXRlIHRoZSBjYWNoZSB0byBlbnN1cmUgZnJvbnRlbmQgcmVmbGVjdHMgY2hhbmdlc1xyXG4gICAgcmV2YWxpZGF0ZVBhdGgoJy9jb3Vyc2VzJyk7XHJcbiAgICByZXZhbGlkYXRlUGF0aCgnL2Rhc2hib2FyZCcpO1xyXG4gICAgXHJcbiAgICByZXR1cm4geyBkYXRhLCBlcnJvcjogbnVsbCB9O1xyXG4gIH0gY2F0Y2ggKGVycm9yOiBhbnkpIHtcclxuICAgIHJldHVybiB7IGRhdGE6IG51bGwsIGVycm9yOiBlcnJvci5tZXNzYWdlIH07XHJcbiAgfVxyXG59XHJcblxyXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZGVsZXRlTGVzc29uKGlkOiBzdHJpbmcpOiBQcm9taXNlPHsgZXJyb3I6IHN0cmluZyB8IG51bGwgfT4ge1xyXG4gIGNvbnN0IHN1cGFiYXNlID0gYXdhaXQgY3JlYXRlU3VwYWJhc2VDbGllbnQoKTtcclxuICBcclxuICB0cnkge1xyXG4gICAgLy8gQ2hlY2sgYWRtaW4gYWNjZXNzXHJcbiAgICBjb25zdCBhZG1pbkNoZWNrID0gYXdhaXQgaXNBZG1pbihzdXBhYmFzZSk7XHJcbiAgICBpZiAoIWFkbWluQ2hlY2spIHtcclxuICAgICAgcmV0dXJuIHsgZXJyb3I6ICdBY2Nlc3MgZGVuaWVkLiBBZG1pbiBvciB0ZWFjaGVyIHJvbGUgcmVxdWlyZWQuJyB9O1xyXG4gICAgfVxyXG5cclxuICAgIGNvbnN0IHsgZXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlXHJcbiAgICAgIC5mcm9tKCdsZXNzb25zJylcclxuICAgICAgLmRlbGV0ZSgpXHJcbiAgICAgIC5lcSgnaWQnLCBpZCk7XHJcblxyXG4gICAgaWYgKGVycm9yKSB7XHJcbiAgICAgIHJldHVybiB7IGVycm9yOiBlcnJvci5tZXNzYWdlIH07XHJcbiAgICB9XHJcblxyXG4gICAgLy8gUmV2YWxpZGF0ZSB0aGUgY2FjaGUgdG8gZW5zdXJlIGZyb250ZW5kIHJlZmxlY3RzIGNoYW5nZXNcclxuICAgIHJldmFsaWRhdGVQYXRoKCcvY291cnNlcycpO1xyXG4gICAgcmV2YWxpZGF0ZVBhdGgoJy9kYXNoYm9hcmQnKTtcclxuICAgIFxyXG4gICAgcmV0dXJuIHsgZXJyb3I6IG51bGwgfTtcclxuICB9IGNhdGNoIChlcnJvcjogYW55KSB7XHJcbiAgICByZXR1cm4geyBlcnJvcjogZXJyb3IubWVzc2FnZSB9O1xyXG4gIH1cclxufVxyXG5cclxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIHJlb3JkZXJMZXNzb25zKG1vZHVsZUlkOiBzdHJpbmcsIGxlc3Nvbklkczogc3RyaW5nW10pOiBQcm9taXNlPHsgZXJyb3I6IHN0cmluZyB8IG51bGwgfT4ge1xyXG4gIGNvbnN0IHN1cGFiYXNlID0gYXdhaXQgY3JlYXRlU3VwYWJhc2VDbGllbnQoKTtcclxuICBcclxuICB0cnkge1xyXG4gICAgLy8gQ2hlY2sgYWRtaW4gYWNjZXNzXHJcbiAgICBjb25zdCBhZG1pbkNoZWNrID0gYXdhaXQgaXNBZG1pbihzdXBhYmFzZSk7XHJcbiAgICBpZiAoIWFkbWluQ2hlY2spIHtcclxuICAgICAgcmV0dXJuIHsgZXJyb3I6ICdBY2Nlc3MgZGVuaWVkLiBBZG1pbiBvciB0ZWFjaGVyIHJvbGUgcmVxdWlyZWQuJyB9O1xyXG4gICAgfVxyXG5cclxuICAgIC8vIFVwZGF0ZSBhbGwgbGVzc29ucyB3aXRoIHRoZWlyIG5ldyBwb3NpdGlvbnMgaW4gYSBzaW5nbGUgdHJhbnNhY3Rpb25cclxuICAgIGNvbnN0IHVwZGF0ZXMgPSBsZXNzb25JZHMubWFwKChpZCwgaW5kZXgpID0+ICh7XHJcbiAgICAgIGlkLFxyXG4gICAgICBvcmRlcl9pbmRleDogaW5kZXggKiAxMCAvLyBVc2UgaW5jcmVtZW50cyBvZiAxMCB0byBhbGxvdyBmb3IgZnV0dXJlIGluc2VydGlvbnMgYmV0d2VlbiBpdGVtc1xyXG4gICAgfSkpO1xyXG5cclxuICAgIC8vIFBlcmZvcm0gdXBkYXRlcyBpbiBhIGJhdGNoXHJcbiAgICBmb3IgKGNvbnN0IHVwZGF0ZSBvZiB1cGRhdGVzKSB7XHJcbiAgICAgIGNvbnN0IHsgZXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlXHJcbiAgICAgICAgLmZyb20oJ2xlc3NvbnMnKVxyXG4gICAgICAgIC51cGRhdGUoeyBvcmRlcl9pbmRleDogdXBkYXRlLm9yZGVyX2luZGV4IH0pXHJcbiAgICAgICAgLmVxKCdpZCcsIHVwZGF0ZS5pZClcclxuICAgICAgICAuZXEoJ21vZHVsZV9pZCcsIG1vZHVsZUlkKTsgLy8gQWRkaXRpb25hbCBzYWZldHkgY2hlY2tcclxuXHJcbiAgICAgIGlmIChlcnJvcikge1xyXG4gICAgICAgIHJldHVybiB7IGVycm9yOiBlcnJvci5tZXNzYWdlIH07XHJcbiAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvLyBSZXZhbGlkYXRlIHRoZSBjYWNoZSB0byBlbnN1cmUgZnJvbnRlbmQgcmVmbGVjdHMgY2hhbmdlc1xyXG4gICAgcmV2YWxpZGF0ZVBhdGgoJy9jb3Vyc2VzJyk7XHJcbiAgICByZXZhbGlkYXRlUGF0aCgnL2Rhc2hib2FyZCcpO1xyXG4gICAgXHJcbiAgICByZXR1cm4geyBlcnJvcjogbnVsbCB9O1xyXG4gIH0gY2F0Y2ggKGVycm9yOiBhbnkpIHtcclxuICAgIHJldHVybiB7IGVycm9yOiBlcnJvci5tZXNzYWdlIH07XHJcbiAgfVxyXG59Il0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI2UkF3VnNCLHlMQUFBIn0=
}),
"[project]/src/actions/data:95ed7e [app-ssr] (ecmascript) <text/javascript>", ((__turbopack_context__) => {
"use strict";

__turbopack_context__.s([
    "reorderModules",
    ()=>$$RSC_SERVER_ACTION_9
]);
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$build$2f$webpack$2f$loaders$2f$next$2d$flight$2d$loader$2f$action$2d$client$2d$wrapper$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/next/dist/build/webpack/loaders/next-flight-loader/action-client-wrapper.js [app-ssr] (ecmascript)");
/* __next_internal_action_entry_do_not_use__ [{"60dfb916d99351656b3d40dd5fd4b0b67f331b7ba1":"reorderModules"},"src/actions/courseActions.ts",""] */ "use turbopack no side effects";
;
const $$RSC_SERVER_ACTION_9 = /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$build$2f$webpack$2f$loaders$2f$next$2d$flight$2d$loader$2f$action$2d$client$2d$wrapper$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["createServerReference"])("60dfb916d99351656b3d40dd5fd4b0b67f331b7ba1", __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$build$2f$webpack$2f$loaders$2f$next$2d$flight$2d$loader$2f$action$2d$client$2d$wrapper$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["callServer"], void 0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$build$2f$webpack$2f$loaders$2f$next$2d$flight$2d$loader$2f$action$2d$client$2d$wrapper$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["findSourceMapURL"], "reorderModules");
;
 //# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4vY291cnNlQWN0aW9ucy50cyJdLCJzb3VyY2VzQ29udGVudCI6WyIndXNlIHNlcnZlcidcclxuXHJcbmltcG9ydCB7IGNvb2tpZXMgfSBmcm9tICduZXh0L2hlYWRlcnMnO1xyXG5pbXBvcnQgeyBjcmVhdGVTZXJ2ZXJDbGllbnQgfSBmcm9tICdAc3VwYWJhc2Uvc3NyJztcclxuaW1wb3J0IHsgcmV2YWxpZGF0ZVBhdGggfSBmcm9tICduZXh0L2NhY2hlJztcclxuaW1wb3J0IHsgcGFyc2VZb3VUdWJlIH0gZnJvbSAnQC9saWIveW91dHViZVBhcnNlcic7XHJcblxyXG4vLyBUeXBlIGRlZmluaXRpb25zXHJcbnR5cGUgQ291cnNlID0ge1xyXG4gIGlkOiBzdHJpbmc7XHJcbiAgdGl0bGU6IHN0cmluZztcclxuICBkZXNjcmlwdGlvbjogc3RyaW5nO1xyXG4gIGlzX3B1Ymxpc2hlZDogYm9vbGVhbjtcclxuICBjcmVhdGVkX2F0OiBzdHJpbmc7XHJcbiAgdXBkYXRlZF9hdDogc3RyaW5nO1xyXG59O1xyXG5cclxudHlwZSBNb2R1bGUgPSB7XHJcbiAgaWQ6IHN0cmluZztcclxuICBjb3Vyc2VfaWQ6IHN0cmluZztcclxuICB0aXRsZTogc3RyaW5nO1xyXG4gIG9yZGVyX2luZGV4OiBudW1iZXI7XHJcbn07XHJcblxyXG50eXBlIExlc3NvbiA9IHtcclxuICBpZDogc3RyaW5nO1xyXG4gIG1vZHVsZV9pZDogc3RyaW5nO1xyXG4gIHRpdGxlOiBzdHJpbmc7XHJcbiAgZGVzY3JpcHRpb246IHN0cmluZztcclxuICBvcmRlcl9pbmRleDogbnVtYmVyO1xyXG4gIHZpZGVvX3Byb3ZpZGVyOiBzdHJpbmc7XHJcbiAgdmlkZW9fdXJsOiBzdHJpbmcgfCBudWxsO1xyXG4gIHlvdXR1YmVfdmlkZW9faWQ6IHN0cmluZyB8IG51bGw7XHJcbiAgaXNfcHJldmlldzogYm9vbGVhbjtcclxuICBpc19wdWJsaXNoZWQ6IGJvb2xlYW47XHJcbiAgY3JlYXRlZF9hdDogc3RyaW5nO1xyXG4gIHVwZGF0ZWRfYXQ6IHN0cmluZztcclxufTtcclxuXHJcbi8vIEhlbHBlciBmdW5jdGlvbiB0byBjcmVhdGUgU3VwYWJhc2UgY2xpZW50IGZvciBzZXJ2ZXIgYWN0aW9uc1xyXG5hc3luYyBmdW5jdGlvbiBjcmVhdGVTdXBhYmFzZUNsaWVudCgpIHtcclxuICBjb25zdCBjb29raWVTdG9yZSA9IGF3YWl0IGNvb2tpZXMoKTtcclxuICByZXR1cm4gY3JlYXRlU2VydmVyQ2xpZW50KFxyXG4gICAgcHJvY2Vzcy5lbnYuTkVYVF9QVUJMSUNfU1VQQUJBU0VfVVJMISxcclxuICAgIHByb2Nlc3MuZW52Lk5FWFRfUFVCTElDX1NVUEFCQVNFX0FOT05fS0VZISxcclxuICAgIHtcclxuICAgICAgY29va2llczoge1xyXG4gICAgICAgIGdldDogKG5hbWU6IHN0cmluZykgPT4ge1xyXG4gICAgICAgICAgY29uc3QgY29va2llID0gY29va2llU3RvcmUuZ2V0KG5hbWUpO1xyXG4gICAgICAgICAgcmV0dXJuIGNvb2tpZSA/IGNvb2tpZS52YWx1ZSA6IHVuZGVmaW5lZDtcclxuICAgICAgICB9LFxyXG4gICAgICB9LFxyXG4gICAgfVxyXG4gICk7XHJcbn1cclxuXHJcbi8vIENoZWNrIGlmIHVzZXIgaXMgYWRtaW5cclxuYXN5bmMgZnVuY3Rpb24gaXNBZG1pbihzdXBhYmFzZTogYW55KTogUHJvbWlzZTxib29sZWFuPiB7XHJcbiAgY29uc3Qge1xyXG4gICAgZGF0YTogeyB1c2VyIH0sXHJcbiAgICBlcnJvcjogdXNlckVycm9yLFxyXG4gIH0gPSBhd2FpdCBzdXBhYmFzZS5hdXRoLmdldFVzZXIoKTtcclxuXHJcbiAgaWYgKHVzZXJFcnJvciB8fCAhdXNlcikge1xyXG4gICAgcmV0dXJuIGZhbHNlO1xyXG4gIH1cclxuXHJcbiAgY29uc3QgeyBkYXRhOiBwcm9maWxlLCBlcnJvcjogcHJvZmlsZUVycm9yIH0gPSBhd2FpdCBzdXBhYmFzZVxyXG4gICAgLmZyb20oJ3Byb2ZpbGVzJylcclxuICAgIC5zZWxlY3QoJ3JvbGUnKVxyXG4gICAgLmVxKCdpZCcsIHVzZXIuaWQpXHJcbiAgICAuc2luZ2xlKCk7XHJcblxyXG4gIGlmIChwcm9maWxlRXJyb3IgfHwgIXByb2ZpbGUpIHtcclxuICAgIHJldHVybiBmYWxzZTtcclxuICB9XHJcblxyXG4gIHJldHVybiBwcm9maWxlLnJvbGUgPT09ICdhZG1pbicgfHwgcHJvZmlsZS5yb2xlID09PSAndGVhY2hlcic7XHJcbn1cclxuXHJcbi8vIENvdXJzZSBBY3Rpb25zXHJcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBsaXN0Q291cnNlcygpOiBQcm9taXNlPHsgZGF0YTogQ291cnNlW10gfCBudWxsOyBlcnJvcjogc3RyaW5nIHwgbnVsbCB9PiB7XHJcbiAgY29uc3Qgc3VwYWJhc2UgPSBhd2FpdCBjcmVhdGVTdXBhYmFzZUNsaWVudCgpO1xyXG4gIFxyXG4gIHRyeSB7XHJcbiAgICAvLyBDaGVjayBhZG1pbiBhY2Nlc3NcclxuICAgIGNvbnN0IGFkbWluQ2hlY2sgPSBhd2FpdCBpc0FkbWluKHN1cGFiYXNlKTtcclxuICAgIGlmICghYWRtaW5DaGVjaykge1xyXG4gICAgICBjb25zb2xlLmxvZygnREVCVUc6IGxpc3RDb3Vyc2VzIC0gQWNjZXNzIGRlbmllZCwgbm90IGFkbWluL3RlYWNoZXInKTtcclxuICAgICAgcmV0dXJuIHsgZGF0YTogbnVsbCwgZXJyb3I6ICdBY2Nlc3MgZGVuaWVkLiBBZG1pbiBvciB0ZWFjaGVyIHJvbGUgcmVxdWlyZWQuJyB9O1xyXG4gICAgfVxyXG4gICAgXHJcbiAgICBjb25zb2xlLmxvZygnREVCVUc6IGxpc3RDb3Vyc2VzIC0gRmV0Y2hpbmcgYWxsIGNvdXJzZXMgZm9yIGFkbWluJyk7XHJcbiAgICBcclxuICAgIGNvbnN0IHsgZGF0YSwgZXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlXHJcbiAgICAgIC5mcm9tKCdjb3Vyc2VzJylcclxuICAgICAgLnNlbGVjdCgnKicpXHJcbiAgICAgIC5vcmRlcignY3JlYXRlZF9hdCcsIHsgYXNjZW5kaW5nOiBmYWxzZSB9KTtcclxuICAgIFxyXG4gICAgY29uc29sZS5sb2coJ0RFQlVHOiBsaXN0Q291cnNlcyAtIFF1ZXJ5IHJlc3VsdDonLCB7IGRhdGE6IGRhdGE/Lmxlbmd0aCwgZXJyb3IgfSk7XHJcbiAgICBcclxuICAgIGlmIChlcnJvcikge1xyXG4gICAgICBjb25zb2xlLmVycm9yKCdERUJVRzogbGlzdENvdXJzZXMgLSBTdXBhYmFzZSBlcnJvcjonLCBlcnJvcik7XHJcbiAgICAgIHJldHVybiB7IGRhdGE6IG51bGwsIGVycm9yOiBlcnJvci5tZXNzYWdlIH07XHJcbiAgICB9XHJcblxyXG4gICAgY29uc29sZS5sb2coJ0RFQlVHOiBsaXN0Q291cnNlcyAtIFJldHVybmluZyBjb3Vyc2VzOicsIGRhdGE/Lmxlbmd0aCk7XHJcbiAgICByZXR1cm4geyBkYXRhLCBlcnJvcjogbnVsbCB9O1xyXG4gIH0gY2F0Y2ggKGVycm9yOiBhbnkpIHtcclxuICAgIGNvbnNvbGUuZXJyb3IoJ0RFQlVHOiBsaXN0Q291cnNlcyAtIEV4Y2VwdGlvbjonLCBlcnJvcik7XHJcbiAgICByZXR1cm4geyBkYXRhOiBudWxsLCBlcnJvcjogZXJyb3IubWVzc2FnZSB9O1xyXG4gIH1cclxufVxyXG5cclxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGNyZWF0ZUNvdXJzZSh0aXRsZTogc3RyaW5nLCBkZXNjcmlwdGlvbjogc3RyaW5nKTogUHJvbWlzZTx7IGRhdGE6IENvdXJzZSB8IG51bGw7IGVycm9yOiBzdHJpbmcgfCBudWxsIH0+IHtcclxuICBjb25zdCBzdXBhYmFzZSA9IGF3YWl0IGNyZWF0ZVN1cGFiYXNlQ2xpZW50KCk7XHJcbiAgXHJcbiAgdHJ5IHtcclxuICAgIC8vIENoZWNrIGFkbWluIGFjY2Vzc1xyXG4gICAgY29uc3QgYWRtaW5DaGVjayA9IGF3YWl0IGlzQWRtaW4oc3VwYWJhc2UpO1xyXG4gICAgaWYgKCFhZG1pbkNoZWNrKSB7XHJcbiAgICAgIGNvbnNvbGUubG9nKCdERUJVRzogY3JlYXRlQ291cnNlIC0gQWNjZXNzIGRlbmllZCwgbm90IGFkbWluL3RlYWNoZXInKTtcclxuICAgICAgcmV0dXJuIHsgZGF0YTogbnVsbCwgZXJyb3I6ICdBY2Nlc3MgZGVuaWVkLiBBZG1pbiBvciB0ZWFjaGVyIHJvbGUgcmVxdWlyZWQuJyB9O1xyXG4gICAgfVxyXG4gICAgXHJcbiAgICBjb25zb2xlLmxvZygnREVCVUc6IGNyZWF0ZUNvdXJzZSAtIENyZWF0aW5nIGNvdXJzZTonLCB7IHRpdGxlLCBkZXNjcmlwdGlvbiB9KTtcclxuXHJcbiAgICBjb25zdCB7IGRhdGEsIGVycm9yIH0gPSBhd2FpdCBzdXBhYmFzZVxyXG4gICAgICAuZnJvbSgnY291cnNlcycpXHJcbiAgICAgIC5pbnNlcnQoW3sgdGl0bGUsIGRlc2NyaXB0aW9uIH1dKVxyXG4gICAgICAuc2VsZWN0KClcclxuICAgICAgLnNpbmdsZSgpO1xyXG4gICAgXHJcbiAgICBjb25zb2xlLmxvZygnREVCVUc6IGNyZWF0ZUNvdXJzZSAtIEluc2VydCByZXN1bHQ6JywgeyBkYXRhOiAhIWRhdGEsIGVycm9yIH0pO1xyXG5cclxuICAgIGlmIChlcnJvcikge1xyXG4gICAgICBjb25zb2xlLmVycm9yKCdERUJVRzogY3JlYXRlQ291cnNlIC0gU3VwYWJhc2UgZXJyb3I6JywgZXJyb3IpO1xyXG4gICAgICByZXR1cm4geyBkYXRhOiBudWxsLCBlcnJvcjogZXJyb3IubWVzc2FnZSB9O1xyXG4gICAgfVxyXG5cclxuICAgIC8vIFJldmFsaWRhdGUgdGhlIGNhY2hlIHRvIGVuc3VyZSBmcm9udGVuZCByZWZsZWN0cyBjaGFuZ2VzXHJcbiAgICByZXZhbGlkYXRlUGF0aCgnL2NvdXJzZXMnKTtcclxuICAgIHJldmFsaWRhdGVQYXRoKCcvZGFzaGJvYXJkJyk7XHJcbiAgICBcclxuICAgIGNvbnNvbGUubG9nKCdERUJVRzogY3JlYXRlQ291cnNlIC0gQ291cnNlIGNyZWF0ZWQgc3VjY2Vzc2Z1bGx5LCBjYWNoZSBpbnZhbGlkYXRlZCcpO1xyXG4gICAgXHJcbiAgICByZXR1cm4geyBkYXRhLCBlcnJvcjogbnVsbCB9O1xyXG4gIH0gY2F0Y2ggKGVycm9yOiBhbnkpIHtcclxuICAgIGNvbnNvbGUuZXJyb3IoJ0RFQlVHOiBjcmVhdGVDb3Vyc2UgLSBFeGNlcHRpb246JywgZXJyb3IpO1xyXG4gICAgcmV0dXJuIHsgZGF0YTogbnVsbCwgZXJyb3I6IGVycm9yLm1lc3NhZ2UgfTtcclxuICB9XHJcbn1cclxuXHJcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiB1cGRhdGVDb3Vyc2UoaWQ6IHN0cmluZywgdXBkYXRlczogUGFydGlhbDxDb3Vyc2U+KTogUHJvbWlzZTx7IGRhdGE6IENvdXJzZSB8IG51bGw7IGVycm9yOiBzdHJpbmcgfCBudWxsIH0+IHtcclxuICBjb25zdCBzdXBhYmFzZSA9IGF3YWl0IGNyZWF0ZVN1cGFiYXNlQ2xpZW50KCk7XHJcbiAgXHJcbiAgdHJ5IHtcclxuICAgIC8vIENoZWNrIGFkbWluIGFjY2Vzc1xyXG4gICAgY29uc3QgYWRtaW5DaGVjayA9IGF3YWl0IGlzQWRtaW4oc3VwYWJhc2UpO1xyXG4gICAgaWYgKCFhZG1pbkNoZWNrKSB7XHJcbiAgICAgIHJldHVybiB7IGRhdGE6IG51bGwsIGVycm9yOiAnQWNjZXNzIGRlbmllZC4gQWRtaW4gb3IgdGVhY2hlciByb2xlIHJlcXVpcmVkLicgfTtcclxuICAgIH1cclxuXHJcbiAgICBjb25zdCB7IGRhdGEsIGVycm9yIH0gPSBhd2FpdCBzdXBhYmFzZVxyXG4gICAgICAuZnJvbSgnY291cnNlcycpXHJcbiAgICAgIC51cGRhdGUodXBkYXRlcylcclxuICAgICAgLmVxKCdpZCcsIGlkKVxyXG4gICAgICAuc2VsZWN0KClcclxuICAgICAgLnNpbmdsZSgpO1xyXG5cclxuICAgIGlmIChlcnJvcikge1xyXG4gICAgICByZXR1cm4geyBkYXRhOiBudWxsLCBlcnJvcjogZXJyb3IubWVzc2FnZSB9O1xyXG4gICAgfVxyXG5cclxuICAgIC8vIFJldmFsaWRhdGUgdGhlIGNhY2hlIHRvIGVuc3VyZSBmcm9udGVuZCByZWZsZWN0cyBjaGFuZ2VzXHJcbiAgICByZXZhbGlkYXRlUGF0aCgnL2NvdXJzZXMnKTtcclxuICAgIHJldmFsaWRhdGVQYXRoKCcvZGFzaGJvYXJkJyk7XHJcbiAgICBcclxuICAgIHJldHVybiB7IGRhdGEsIGVycm9yOiBudWxsIH07XHJcbiAgfSBjYXRjaCAoZXJyb3I6IGFueSkge1xyXG4gICAgcmV0dXJuIHsgZGF0YTogbnVsbCwgZXJyb3I6IGVycm9yLm1lc3NhZ2UgfTtcclxuICB9XHJcbn1cclxuXHJcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBkZWxldGVDb3Vyc2UoaWQ6IHN0cmluZyk6IFByb21pc2U8eyBlcnJvcjogc3RyaW5nIHwgbnVsbCB9PiB7XHJcbiAgY29uc3Qgc3VwYWJhc2UgPSBhd2FpdCBjcmVhdGVTdXBhYmFzZUNsaWVudCgpO1xyXG4gIFxyXG4gIHRyeSB7XHJcbiAgICAvLyBDaGVjayBhZG1pbiBhY2Nlc3NcclxuICAgIGNvbnN0IGFkbWluQ2hlY2sgPSBhd2FpdCBpc0FkbWluKHN1cGFiYXNlKTtcclxuICAgIGlmICghYWRtaW5DaGVjaykge1xyXG4gICAgICByZXR1cm4geyBlcnJvcjogJ0FjY2VzcyBkZW5pZWQuIEFkbWluIG9yIHRlYWNoZXIgcm9sZSByZXF1aXJlZC4nIH07XHJcbiAgICB9XHJcblxyXG4gICAgY29uc3QgeyBlcnJvciB9ID0gYXdhaXQgc3VwYWJhc2VcclxuICAgICAgLmZyb20oJ2NvdXJzZXMnKVxyXG4gICAgICAuZGVsZXRlKClcclxuICAgICAgLmVxKCdpZCcsIGlkKTtcclxuXHJcbiAgICBpZiAoZXJyb3IpIHtcclxuICAgICAgcmV0dXJuIHsgZXJyb3I6IGVycm9yLm1lc3NhZ2UgfTtcclxuICAgIH1cclxuXHJcbiAgICAvLyBSZXZhbGlkYXRlIHRoZSBjYWNoZSB0byBlbnN1cmUgZnJvbnRlbmQgcmVmbGVjdHMgY2hhbmdlc1xyXG4gICAgcmV2YWxpZGF0ZVBhdGgoJy9jb3Vyc2VzJyk7XHJcbiAgICByZXZhbGlkYXRlUGF0aCgnL2Rhc2hib2FyZCcpO1xyXG4gICAgXHJcbiAgICByZXR1cm4geyBlcnJvcjogbnVsbCB9O1xyXG4gIH0gY2F0Y2ggKGVycm9yOiBhbnkpIHtcclxuICAgIHJldHVybiB7IGVycm9yOiBlcnJvci5tZXNzYWdlIH07XHJcbiAgfVxyXG59XHJcblxyXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gcHVibGlzaENvdXJzZShpZDogc3RyaW5nLCBpc1B1Ymxpc2hlZDogYm9vbGVhbik6IFByb21pc2U8eyBkYXRhOiBDb3Vyc2UgfCBudWxsOyBlcnJvcjogc3RyaW5nIHwgbnVsbCB9PiB7XHJcbiAgY29uc3Qgc3VwYWJhc2UgPSBhd2FpdCBjcmVhdGVTdXBhYmFzZUNsaWVudCgpO1xyXG4gIFxyXG4gIHRyeSB7XHJcbiAgICAvLyBDaGVjayBhZG1pbiBhY2Nlc3NcclxuICAgIGNvbnN0IGFkbWluQ2hlY2sgPSBhd2FpdCBpc0FkbWluKHN1cGFiYXNlKTtcclxuICAgIGlmICghYWRtaW5DaGVjaykge1xyXG4gICAgICByZXR1cm4geyBkYXRhOiBudWxsLCBlcnJvcjogJ0FjY2VzcyBkZW5pZWQuIEFkbWluIG9yIHRlYWNoZXIgcm9sZSByZXF1aXJlZC4nIH07XHJcbiAgICB9XHJcblxyXG4gICAgY29uc3QgeyBkYXRhLCBlcnJvciB9ID0gYXdhaXQgc3VwYWJhc2VcclxuICAgICAgLmZyb20oJ2NvdXJzZXMnKVxyXG4gICAgICAudXBkYXRlKHsgaXNfcHVibGlzaGVkOiBpc1B1Ymxpc2hlZCB9KVxyXG4gICAgICAuZXEoJ2lkJywgaWQpXHJcbiAgICAgIC5zZWxlY3QoKVxyXG4gICAgICAuc2luZ2xlKCk7XHJcblxyXG4gICAgaWYgKGVycm9yKSB7XHJcbiAgICAgIHJldHVybiB7IGRhdGE6IG51bGwsIGVycm9yOiBlcnJvci5tZXNzYWdlIH07XHJcbiAgICB9XHJcblxyXG4gICAgLy8gUmV2YWxpZGF0ZSB0aGUgY2FjaGUgdG8gZW5zdXJlIGZyb250ZW5kIHJlZmxlY3RzIGNoYW5nZXNcclxuICAgIHJldmFsaWRhdGVQYXRoKCcvY291cnNlcycpO1xyXG4gICAgcmV2YWxpZGF0ZVBhdGgoJy9kYXNoYm9hcmQnKTtcclxuICAgIFxyXG4gICAgcmV0dXJuIHsgZGF0YSwgZXJyb3I6IG51bGwgfTtcclxuICB9IGNhdGNoIChlcnJvcjogYW55KSB7XHJcbiAgICByZXR1cm4geyBkYXRhOiBudWxsLCBlcnJvcjogZXJyb3IubWVzc2FnZSB9O1xyXG4gIH1cclxufVxyXG5cclxuLy8gTW9kdWxlIEFjdGlvbnNcclxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGxpc3RNb2R1bGVzKGNvdXJzZUlkOiBzdHJpbmcpOiBQcm9taXNlPHsgZGF0YTogTW9kdWxlW10gfCBudWxsOyBlcnJvcjogc3RyaW5nIHwgbnVsbCB9PiB7XHJcbiAgY29uc3Qgc3VwYWJhc2UgPSBhd2FpdCBjcmVhdGVTdXBhYmFzZUNsaWVudCgpO1xyXG4gIFxyXG4gIHRyeSB7XHJcbiAgICAvLyBDaGVjayBhZG1pbiBhY2Nlc3NcclxuICAgIGNvbnN0IGFkbWluQ2hlY2sgPSBhd2FpdCBpc0FkbWluKHN1cGFiYXNlKTtcclxuICAgIGlmICghYWRtaW5DaGVjaykge1xyXG4gICAgICByZXR1cm4geyBkYXRhOiBudWxsLCBlcnJvcjogJ0FjY2VzcyBkZW5pZWQuIEFkbWluIG9yIHRlYWNoZXIgcm9sZSByZXF1aXJlZC4nIH07XHJcbiAgICB9XHJcblxyXG4gICAgY29uc3QgeyBkYXRhLCBlcnJvciB9ID0gYXdhaXQgc3VwYWJhc2VcclxuICAgICAgLmZyb20oJ21vZHVsZXMnKVxyXG4gICAgICAuc2VsZWN0KCcqJylcclxuICAgICAgLmVxKCdjb3Vyc2VfaWQnLCBjb3Vyc2VJZClcclxuICAgICAgLm9yZGVyKCdvcmRlcl9pbmRleCcsIHsgYXNjZW5kaW5nOiB0cnVlIH0pO1xyXG5cclxuICAgIGlmIChlcnJvcikge1xyXG4gICAgICByZXR1cm4geyBkYXRhOiBudWxsLCBlcnJvcjogZXJyb3IubWVzc2FnZSB9O1xyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiB7IGRhdGEsIGVycm9yOiBudWxsIH07XHJcbiAgfSBjYXRjaCAoZXJyb3I6IGFueSkge1xyXG4gICAgcmV0dXJuIHsgZGF0YTogbnVsbCwgZXJyb3I6IGVycm9yLm1lc3NhZ2UgfTtcclxuICB9XHJcbn1cclxuXHJcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBjcmVhdGVNb2R1bGUoY291cnNlSWQ6IHN0cmluZywgdGl0bGU6IHN0cmluZyk6IFByb21pc2U8eyBkYXRhOiBNb2R1bGUgfCBudWxsOyBlcnJvcjogc3RyaW5nIHwgbnVsbCB9PiB7XHJcbiAgY29uc3Qgc3VwYWJhc2UgPSBhd2FpdCBjcmVhdGVTdXBhYmFzZUNsaWVudCgpO1xyXG4gIFxyXG4gIHRyeSB7XHJcbiAgICAvLyBDaGVjayBhZG1pbiBhY2Nlc3NcclxuICAgIGNvbnN0IGFkbWluQ2hlY2sgPSBhd2FpdCBpc0FkbWluKHN1cGFiYXNlKTtcclxuICAgIGlmICghYWRtaW5DaGVjaykge1xyXG4gICAgICByZXR1cm4geyBkYXRhOiBudWxsLCBlcnJvcjogJ0FjY2VzcyBkZW5pZWQuIEFkbWluIG9yIHRlYWNoZXIgcm9sZSByZXF1aXJlZC4nIH07XHJcbiAgICB9XHJcblxyXG4gICAgLy8gR2V0IHRoZSBoaWdoZXN0IG9yZGVyX2luZGV4IHRvIGRldGVybWluZSB0aGUgbmV3IHBvc2l0aW9uXHJcbiAgICBjb25zdCB7IGRhdGE6IGV4aXN0aW5nTW9kdWxlcyB9ID0gYXdhaXQgc3VwYWJhc2VcclxuICAgICAgLmZyb20oJ21vZHVsZXMnKVxyXG4gICAgICAuc2VsZWN0KCdvcmRlcl9pbmRleCcpXHJcbiAgICAgIC5lcSgnY291cnNlX2lkJywgY291cnNlSWQpXHJcbiAgICAgIC5vcmRlcignb3JkZXJfaW5kZXgnLCB7IGFzY2VuZGluZzogZmFsc2UgfSlcclxuICAgICAgLmxpbWl0KDEpO1xyXG5cclxuICAgIGNvbnN0IG5ld09yZGVySW5kZXggPSBleGlzdGluZ01vZHVsZXMgJiYgZXhpc3RpbmdNb2R1bGVzLmxlbmd0aCA+IDAgXHJcbiAgICAgID8gZXhpc3RpbmdNb2R1bGVzWzBdLm9yZGVyX2luZGV4ICsgMTAgXHJcbiAgICAgIDogMDtcclxuXHJcbiAgICBjb25zdCB7IGRhdGEsIGVycm9yIH0gPSBhd2FpdCBzdXBhYmFzZVxyXG4gICAgICAuZnJvbSgnbW9kdWxlcycpXHJcbiAgICAgIC5pbnNlcnQoW3sgY291cnNlX2lkOiBjb3Vyc2VJZCwgdGl0bGUsIG9yZGVyX2luZGV4OiBuZXdPcmRlckluZGV4IH1dKVxyXG4gICAgICAuc2VsZWN0KClcclxuICAgICAgLnNpbmdsZSgpO1xyXG5cclxuICAgIGlmIChlcnJvcikge1xyXG4gICAgICByZXR1cm4geyBkYXRhOiBudWxsLCBlcnJvcjogZXJyb3IubWVzc2FnZSB9O1xyXG4gICAgfVxyXG5cclxuICAgIC8vIFJldmFsaWRhdGUgdGhlIGNhY2hlIHRvIGVuc3VyZSBmcm9udGVuZCByZWZsZWN0cyBjaGFuZ2VzXHJcbiAgICByZXZhbGlkYXRlUGF0aCgnL2NvdXJzZXMnKTtcclxuICAgIHJldmFsaWRhdGVQYXRoKCcvZGFzaGJvYXJkJyk7XHJcbiAgICBcclxuICAgIHJldHVybiB7IGRhdGEsIGVycm9yOiBudWxsIH07XHJcbiAgfSBjYXRjaCAoZXJyb3I6IGFueSkge1xyXG4gICAgcmV0dXJuIHsgZGF0YTogbnVsbCwgZXJyb3I6IGVycm9yLm1lc3NhZ2UgfTtcclxuICB9XHJcbn1cclxuXHJcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiB1cGRhdGVNb2R1bGUoaWQ6IHN0cmluZywgdXBkYXRlczogUGFydGlhbDxNb2R1bGU+KTogUHJvbWlzZTx7IGRhdGE6IE1vZHVsZSB8IG51bGw7IGVycm9yOiBzdHJpbmcgfCBudWxsIH0+IHtcclxuICBjb25zdCBzdXBhYmFzZSA9IGF3YWl0IGNyZWF0ZVN1cGFiYXNlQ2xpZW50KCk7XHJcbiAgXHJcbiAgdHJ5IHtcclxuICAgIC8vIENoZWNrIGFkbWluIGFjY2Vzc1xyXG4gICAgY29uc3QgYWRtaW5DaGVjayA9IGF3YWl0IGlzQWRtaW4oc3VwYWJhc2UpO1xyXG4gICAgaWYgKCFhZG1pbkNoZWNrKSB7XHJcbiAgICAgIHJldHVybiB7IGRhdGE6IG51bGwsIGVycm9yOiAnQWNjZXNzIGRlbmllZC4gQWRtaW4gb3IgdGVhY2hlciByb2xlIHJlcXVpcmVkLicgfTtcclxuICAgIH1cclxuXHJcbiAgICBjb25zdCB7IGRhdGEsIGVycm9yIH0gPSBhd2FpdCBzdXBhYmFzZVxyXG4gICAgICAuZnJvbSgnbW9kdWxlcycpXHJcbiAgICAgIC51cGRhdGUodXBkYXRlcylcclxuICAgICAgLmVxKCdpZCcsIGlkKVxyXG4gICAgICAuc2VsZWN0KClcclxuICAgICAgLnNpbmdsZSgpO1xyXG5cclxuICAgIGlmIChlcnJvcikge1xyXG4gICAgICByZXR1cm4geyBkYXRhOiBudWxsLCBlcnJvcjogZXJyb3IubWVzc2FnZSB9O1xyXG4gICAgfVxyXG5cclxuICAgIC8vIFJldmFsaWRhdGUgdGhlIGNhY2hlIHRvIGVuc3VyZSBmcm9udGVuZCByZWZsZWN0cyBjaGFuZ2VzXHJcbiAgICByZXZhbGlkYXRlUGF0aCgnL2NvdXJzZXMnKTtcclxuICAgIHJldmFsaWRhdGVQYXRoKCcvZGFzaGJvYXJkJyk7XHJcbiAgICBcclxuICAgIHJldHVybiB7IGRhdGEsIGVycm9yOiBudWxsIH07XHJcbiAgfSBjYXRjaCAoZXJyb3I6IGFueSkge1xyXG4gICAgcmV0dXJuIHsgZGF0YTogbnVsbCwgZXJyb3I6IGVycm9yLm1lc3NhZ2UgfTtcclxuICB9XHJcbn1cclxuXHJcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBkZWxldGVNb2R1bGUoaWQ6IHN0cmluZyk6IFByb21pc2U8eyBlcnJvcjogc3RyaW5nIHwgbnVsbCB9PiB7XHJcbiAgY29uc3Qgc3VwYWJhc2UgPSBhd2FpdCBjcmVhdGVTdXBhYmFzZUNsaWVudCgpO1xyXG4gIFxyXG4gIHRyeSB7XHJcbiAgICAvLyBDaGVjayBhZG1pbiBhY2Nlc3NcclxuICAgIGNvbnN0IGFkbWluQ2hlY2sgPSBhd2FpdCBpc0FkbWluKHN1cGFiYXNlKTtcclxuICAgIGlmICghYWRtaW5DaGVjaykge1xyXG4gICAgICByZXR1cm4geyBlcnJvcjogJ0FjY2VzcyBkZW5pZWQuIEFkbWluIG9yIHRlYWNoZXIgcm9sZSByZXF1aXJlZC4nIH07XHJcbiAgICB9XHJcblxyXG4gICAgY29uc3QgeyBlcnJvciB9ID0gYXdhaXQgc3VwYWJhc2VcclxuICAgICAgLmZyb20oJ21vZHVsZXMnKVxyXG4gICAgICAuZGVsZXRlKClcclxuICAgICAgLmVxKCdpZCcsIGlkKTtcclxuXHJcbiAgICBpZiAoZXJyb3IpIHtcclxuICAgICAgcmV0dXJuIHsgZXJyb3I6IGVycm9yLm1lc3NhZ2UgfTtcclxuICAgIH1cclxuXHJcbiAgICAvLyBSZXZhbGlkYXRlIHRoZSBjYWNoZSB0byBlbnN1cmUgZnJvbnRlbmQgcmVmbGVjdHMgY2hhbmdlc1xyXG4gICAgcmV2YWxpZGF0ZVBhdGgoJy9jb3Vyc2VzJyk7XHJcbiAgICByZXZhbGlkYXRlUGF0aCgnL2Rhc2hib2FyZCcpO1xyXG4gICAgXHJcbiAgICByZXR1cm4geyBlcnJvcjogbnVsbCB9O1xyXG4gIH0gY2F0Y2ggKGVycm9yOiBhbnkpIHtcclxuICAgIHJldHVybiB7IGVycm9yOiBlcnJvci5tZXNzYWdlIH07XHJcbiAgfVxyXG59XHJcblxyXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gcmVvcmRlck1vZHVsZXMoY291cnNlSWQ6IHN0cmluZywgbW9kdWxlSWRzOiBzdHJpbmdbXSk6IFByb21pc2U8eyBlcnJvcjogc3RyaW5nIHwgbnVsbCB9PiB7XHJcbiAgY29uc3Qgc3VwYWJhc2UgPSBhd2FpdCBjcmVhdGVTdXBhYmFzZUNsaWVudCgpO1xyXG4gIFxyXG4gIHRyeSB7XHJcbiAgICAvLyBDaGVjayBhZG1pbiBhY2Nlc3NcclxuICAgIGNvbnN0IGFkbWluQ2hlY2sgPSBhd2FpdCBpc0FkbWluKHN1cGFiYXNlKTtcclxuICAgIGlmICghYWRtaW5DaGVjaykge1xyXG4gICAgICByZXR1cm4geyBlcnJvcjogJ0FjY2VzcyBkZW5pZWQuIEFkbWluIG9yIHRlYWNoZXIgcm9sZSByZXF1aXJlZC4nIH07XHJcbiAgICB9XHJcblxyXG4gICAgLy8gVXBkYXRlIGFsbCBtb2R1bGVzIHdpdGggdGhlaXIgbmV3IHBvc2l0aW9ucyBpbiBhIHNpbmdsZSB0cmFuc2FjdGlvblxyXG4gICAgY29uc3QgdXBkYXRlcyA9IG1vZHVsZUlkcy5tYXAoKGlkLCBpbmRleCkgPT4gKHtcclxuICAgICAgaWQsXHJcbiAgICAgIG9yZGVyX2luZGV4OiBpbmRleCAqIDEwIC8vIFVzZSBpbmNyZW1lbnRzIG9mIDEwIHRvIGFsbG93IGZvciBmdXR1cmUgaW5zZXJ0aW9ucyBiZXR3ZWVuIGl0ZW1zXHJcbiAgICB9KSk7XHJcblxyXG4gICAgLy8gUGVyZm9ybSB1cGRhdGVzIGluIGEgYmF0Y2hcclxuICAgIGZvciAoY29uc3QgdXBkYXRlIG9mIHVwZGF0ZXMpIHtcclxuICAgICAgY29uc3QgeyBlcnJvciB9ID0gYXdhaXQgc3VwYWJhc2VcclxuICAgICAgICAuZnJvbSgnbW9kdWxlcycpXHJcbiAgICAgICAgLnVwZGF0ZSh7IG9yZGVyX2luZGV4OiB1cGRhdGUub3JkZXJfaW5kZXggfSlcclxuICAgICAgICAuZXEoJ2lkJywgdXBkYXRlLmlkKVxyXG4gICAgICAgIC5lcSgnY291cnNlX2lkJywgY291cnNlSWQpOyAvLyBBZGRpdGlvbmFsIHNhZmV0eSBjaGVja1xyXG5cclxuICAgICAgaWYgKGVycm9yKSB7XHJcbiAgICAgICAgcmV0dXJuIHsgZXJyb3I6IGVycm9yLm1lc3NhZ2UgfTtcclxuICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8vIFJldmFsaWRhdGUgdGhlIGNhY2hlIHRvIGVuc3VyZSBmcm9udGVuZCByZWZsZWN0cyBjaGFuZ2VzXHJcbiAgICByZXZhbGlkYXRlUGF0aCgnL2NvdXJzZXMnKTtcclxuICAgIHJldmFsaWRhdGVQYXRoKCcvZGFzaGJvYXJkJyk7XHJcbiAgICBcclxuICAgIHJldHVybiB7IGVycm9yOiBudWxsIH07XHJcbiAgfSBjYXRjaCAoZXJyb3I6IGFueSkge1xyXG4gICAgcmV0dXJuIHsgZXJyb3I6IGVycm9yLm1lc3NhZ2UgfTtcclxuICB9XHJcbn1cclxuXHJcbi8vIExlc3NvbiBBY3Rpb25zXHJcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBsaXN0TGVzc29ucyhtb2R1bGVJZDogc3RyaW5nKTogUHJvbWlzZTx7IGRhdGE6IExlc3NvbltdIHwgbnVsbDsgZXJyb3I6IHN0cmluZyB8IG51bGwgfT4ge1xyXG4gIGNvbnN0IHN1cGFiYXNlID0gYXdhaXQgY3JlYXRlU3VwYWJhc2VDbGllbnQoKTtcclxuICBcclxuICB0cnkge1xyXG4gICAgLy8gQ2hlY2sgYWRtaW4gYWNjZXNzXHJcbiAgICBjb25zdCBhZG1pbkNoZWNrID0gYXdhaXQgaXNBZG1pbihzdXBhYmFzZSk7XHJcbiAgICBpZiAoIWFkbWluQ2hlY2spIHtcclxuICAgICAgcmV0dXJuIHsgZGF0YTogbnVsbCwgZXJyb3I6ICdBY2Nlc3MgZGVuaWVkLiBBZG1pbiBvciB0ZWFjaGVyIHJvbGUgcmVxdWlyZWQuJyB9O1xyXG4gICAgfVxyXG5cclxuICAgIGNvbnN0IHsgZGF0YSwgZXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlXHJcbiAgICAgIC5mcm9tKCdsZXNzb25zJylcclxuICAgICAgLnNlbGVjdCgnKicpXHJcbiAgICAgIC5lcSgnbW9kdWxlX2lkJywgbW9kdWxlSWQpXHJcbiAgICAgIC5vcmRlcignb3JkZXJfaW5kZXgnLCB7IGFzY2VuZGluZzogdHJ1ZSB9KTtcclxuXHJcbiAgICBpZiAoZXJyb3IpIHtcclxuICAgICAgcmV0dXJuIHsgZGF0YTogbnVsbCwgZXJyb3I6IGVycm9yLm1lc3NhZ2UgfTtcclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4geyBkYXRhLCBlcnJvcjogbnVsbCB9O1xyXG4gIH0gY2F0Y2ggKGVycm9yOiBhbnkpIHtcclxuICAgIHJldHVybiB7IGRhdGE6IG51bGwsIGVycm9yOiBlcnJvci5tZXNzYWdlIH07XHJcbiAgfVxyXG59XHJcblxyXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gY3JlYXRlTGVzc29uKFxyXG4gIG1vZHVsZUlkOiBzdHJpbmcsIFxyXG4gIHRpdGxlOiBzdHJpbmcsIFxyXG4gIGRlc2NyaXB0aW9uOiBzdHJpbmcsIFxyXG4gIHlvdXR1YmVVcmw6IHN0cmluZ1xyXG4pOiBQcm9taXNlPHsgZGF0YTogTGVzc29uIHwgbnVsbDsgZXJyb3I6IHN0cmluZyB8IG51bGwgfT4ge1xyXG4gIGNvbnN0IHN1cGFiYXNlID0gYXdhaXQgY3JlYXRlU3VwYWJhc2VDbGllbnQoKTtcclxuICBcclxuICB0cnkge1xyXG4gICAgLy8gQ2hlY2sgYWRtaW4gYWNjZXNzXHJcbiAgICBjb25zdCBhZG1pbkNoZWNrID0gYXdhaXQgaXNBZG1pbihzdXBhYmFzZSk7XHJcbiAgICBpZiAoIWFkbWluQ2hlY2spIHtcclxuICAgICAgcmV0dXJuIHsgZGF0YTogbnVsbCwgZXJyb3I6ICdBY2Nlc3MgZGVuaWVkLiBBZG1pbiBvciB0ZWFjaGVyIHJvbGUgcmVxdWlyZWQuJyB9O1xyXG4gICAgfVxyXG5cclxuICAgIC8vIFBhcnNlIHRoZSBZb3VUdWJlIFVSTFxyXG4gICAgY29uc3QgcGFyc2VkID0gcGFyc2VZb3VUdWJlKHlvdXR1YmVVcmwpO1xyXG4gICAgaWYgKHBhcnNlZC5lcnJvcikge1xyXG4gICAgICByZXR1cm4geyBkYXRhOiBudWxsLCBlcnJvcjogcGFyc2VkLmVycm9yIH07XHJcbiAgICB9XHJcblxyXG4gICAgLy8gR2V0IHRoZSBoaWdoZXN0IG9yZGVyX2luZGV4IHRvIGRldGVybWluZSB0aGUgbmV3IHBvc2l0aW9uXHJcbiAgICBjb25zdCB7IGRhdGE6IGV4aXN0aW5nTGVzc29ucyB9ID0gYXdhaXQgc3VwYWJhc2VcclxuICAgICAgLmZyb20oJ2xlc3NvbnMnKVxyXG4gICAgICAuc2VsZWN0KCdvcmRlcl9pbmRleCcpXHJcbiAgICAgIC5lcSgnbW9kdWxlX2lkJywgbW9kdWxlSWQpXHJcbiAgICAgIC5vcmRlcignb3JkZXJfaW5kZXgnLCB7IGFzY2VuZGluZzogZmFsc2UgfSlcclxuICAgICAgLmxpbWl0KDEpO1xyXG5cclxuICAgIGNvbnN0IG5ld09yZGVySW5kZXggPSBleGlzdGluZ0xlc3NvbnMgJiYgZXhpc3RpbmdMZXNzb25zLmxlbmd0aCA+IDAgXHJcbiAgICAgID8gZXhpc3RpbmdMZXNzb25zWzBdLm9yZGVyX2luZGV4ICsgMTAgXHJcbiAgICAgIDogMDtcclxuXHJcbiAgICBjb25zdCB7IGRhdGEsIGVycm9yIH0gPSBhd2FpdCBzdXBhYmFzZVxyXG4gICAgICAuZnJvbSgnbGVzc29ucycpXHJcbiAgICAgIC5pbnNlcnQoW3tcclxuICAgICAgICBtb2R1bGVfaWQ6IG1vZHVsZUlkLFxyXG4gICAgICAgIHRpdGxlLFxyXG4gICAgICAgIGRlc2NyaXB0aW9uLFxyXG4gICAgICAgIHlvdXR1YmVfdmlkZW9faWQ6IHBhcnNlZC52aWRlb0lkLFxyXG4gICAgICAgIHZpZGVvX3VybDogcGFyc2VkLmVtYmVkVXJsLFxyXG4gICAgICAgIG9yZGVyX2luZGV4OiBuZXdPcmRlckluZGV4LFxyXG4gICAgICAgIGlzX3ByZXZpZXc6IGZhbHNlLFxyXG4gICAgICAgIGlzX3B1Ymxpc2hlZDogdHJ1ZVxyXG4gICAgICB9XSlcclxuICAgICAgLnNlbGVjdCgpXHJcbiAgICAgIC5zaW5nbGUoKTtcclxuXHJcbiAgICBpZiAoZXJyb3IpIHtcclxuICAgICAgcmV0dXJuIHsgZGF0YTogbnVsbCwgZXJyb3I6IGVycm9yLm1lc3NhZ2UgfTtcclxuICAgIH1cclxuXHJcbiAgICAvLyBSZXZhbGlkYXRlIHRoZSBjYWNoZSB0byBlbnN1cmUgZnJvbnRlbmQgcmVmbGVjdHMgY2hhbmdlc1xyXG4gICAgcmV2YWxpZGF0ZVBhdGgoJy9jb3Vyc2VzJyk7XHJcbiAgICByZXZhbGlkYXRlUGF0aCgnL2Rhc2hib2FyZCcpO1xyXG4gICAgXHJcbiAgICByZXR1cm4geyBkYXRhLCBlcnJvcjogbnVsbCB9O1xyXG4gIH0gY2F0Y2ggKGVycm9yOiBhbnkpIHtcclxuICAgIHJldHVybiB7IGRhdGE6IG51bGwsIGVycm9yOiBlcnJvci5tZXNzYWdlIH07XHJcbiAgfVxyXG59XHJcblxyXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gdXBkYXRlTGVzc29uKFxyXG4gIGlkOiBzdHJpbmcsIFxyXG4gIHVwZGF0ZXM6IFBhcnRpYWw8T21pdDxMZXNzb24sICdpZCcgfCAnbW9kdWxlX2lkJyB8ICdjcmVhdGVkX2F0JyB8ICd1cGRhdGVkX2F0Jz4+XHJcbik6IFByb21pc2U8eyBkYXRhOiBMZXNzb24gfCBudWxsOyBlcnJvcjogc3RyaW5nIHwgbnVsbCB9PiB7XHJcbiAgY29uc3Qgc3VwYWJhc2UgPSBhd2FpdCBjcmVhdGVTdXBhYmFzZUNsaWVudCgpO1xyXG4gIFxyXG4gIHRyeSB7XHJcbiAgICAvLyBDaGVjayBhZG1pbiBhY2Nlc3NcclxuICAgIGNvbnN0IGFkbWluQ2hlY2sgPSBhd2FpdCBpc0FkbWluKHN1cGFiYXNlKTtcclxuICAgIGlmICghYWRtaW5DaGVjaykge1xyXG4gICAgICByZXR1cm4geyBkYXRhOiBudWxsLCBlcnJvcjogJ0FjY2VzcyBkZW5pZWQuIEFkbWluIG9yIHRlYWNoZXIgcm9sZSByZXF1aXJlZC4nIH07XHJcbiAgICB9XHJcblxyXG4gICAgLy8gSWYgdXBkYXRpbmcgWW91VHViZSBVUkwsIHBhcnNlIGl0IGZpcnN0XHJcbiAgICBpZiAodXBkYXRlcy52aWRlb191cmwpIHtcclxuICAgICAgY29uc3QgcGFyc2VkID0gcGFyc2VZb3VUdWJlKHVwZGF0ZXMudmlkZW9fdXJsKTtcclxuICAgICAgaWYgKHBhcnNlZC5lcnJvcikge1xyXG4gICAgICAgIHJldHVybiB7IGRhdGE6IG51bGwsIGVycm9yOiBwYXJzZWQuZXJyb3IgfTtcclxuICAgICAgfVxyXG4gICAgICB1cGRhdGVzLnlvdXR1YmVfdmlkZW9faWQgPSBwYXJzZWQudmlkZW9JZDtcclxuICAgICAgdXBkYXRlcy52aWRlb191cmwgPSBwYXJzZWQuZW1iZWRVcmw7XHJcbiAgICB9XHJcblxyXG4gICAgY29uc3QgeyBkYXRhLCBlcnJvciB9ID0gYXdhaXQgc3VwYWJhc2VcclxuICAgICAgLmZyb20oJ2xlc3NvbnMnKVxyXG4gICAgICAudXBkYXRlKHVwZGF0ZXMpXHJcbiAgICAgIC5lcSgnaWQnLCBpZClcclxuICAgICAgLnNlbGVjdCgpXHJcbiAgICAgIC5zaW5nbGUoKTtcclxuXHJcbiAgICBpZiAoZXJyb3IpIHtcclxuICAgICAgcmV0dXJuIHsgZGF0YTogbnVsbCwgZXJyb3I6IGVycm9yLm1lc3NhZ2UgfTtcclxuICAgIH1cclxuXHJcbiAgICAvLyBSZXZhbGlkYXRlIHRoZSBjYWNoZSB0byBlbnN1cmUgZnJvbnRlbmQgcmVmbGVjdHMgY2hhbmdlc1xyXG4gICAgcmV2YWxpZGF0ZVBhdGgoJy9jb3Vyc2VzJyk7XHJcbiAgICByZXZhbGlkYXRlUGF0aCgnL2Rhc2hib2FyZCcpO1xyXG4gICAgXHJcbiAgICByZXR1cm4geyBkYXRhLCBlcnJvcjogbnVsbCB9O1xyXG4gIH0gY2F0Y2ggKGVycm9yOiBhbnkpIHtcclxuICAgIHJldHVybiB7IGRhdGE6IG51bGwsIGVycm9yOiBlcnJvci5tZXNzYWdlIH07XHJcbiAgfVxyXG59XHJcblxyXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZGVsZXRlTGVzc29uKGlkOiBzdHJpbmcpOiBQcm9taXNlPHsgZXJyb3I6IHN0cmluZyB8IG51bGwgfT4ge1xyXG4gIGNvbnN0IHN1cGFiYXNlID0gYXdhaXQgY3JlYXRlU3VwYWJhc2VDbGllbnQoKTtcclxuICBcclxuICB0cnkge1xyXG4gICAgLy8gQ2hlY2sgYWRtaW4gYWNjZXNzXHJcbiAgICBjb25zdCBhZG1pbkNoZWNrID0gYXdhaXQgaXNBZG1pbihzdXBhYmFzZSk7XHJcbiAgICBpZiAoIWFkbWluQ2hlY2spIHtcclxuICAgICAgcmV0dXJuIHsgZXJyb3I6ICdBY2Nlc3MgZGVuaWVkLiBBZG1pbiBvciB0ZWFjaGVyIHJvbGUgcmVxdWlyZWQuJyB9O1xyXG4gICAgfVxyXG5cclxuICAgIGNvbnN0IHsgZXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlXHJcbiAgICAgIC5mcm9tKCdsZXNzb25zJylcclxuICAgICAgLmRlbGV0ZSgpXHJcbiAgICAgIC5lcSgnaWQnLCBpZCk7XHJcblxyXG4gICAgaWYgKGVycm9yKSB7XHJcbiAgICAgIHJldHVybiB7IGVycm9yOiBlcnJvci5tZXNzYWdlIH07XHJcbiAgICB9XHJcblxyXG4gICAgLy8gUmV2YWxpZGF0ZSB0aGUgY2FjaGUgdG8gZW5zdXJlIGZyb250ZW5kIHJlZmxlY3RzIGNoYW5nZXNcclxuICAgIHJldmFsaWRhdGVQYXRoKCcvY291cnNlcycpO1xyXG4gICAgcmV2YWxpZGF0ZVBhdGgoJy9kYXNoYm9hcmQnKTtcclxuICAgIFxyXG4gICAgcmV0dXJuIHsgZXJyb3I6IG51bGwgfTtcclxuICB9IGNhdGNoIChlcnJvcjogYW55KSB7XHJcbiAgICByZXR1cm4geyBlcnJvcjogZXJyb3IubWVzc2FnZSB9O1xyXG4gIH1cclxufVxyXG5cclxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIHJlb3JkZXJMZXNzb25zKG1vZHVsZUlkOiBzdHJpbmcsIGxlc3Nvbklkczogc3RyaW5nW10pOiBQcm9taXNlPHsgZXJyb3I6IHN0cmluZyB8IG51bGwgfT4ge1xyXG4gIGNvbnN0IHN1cGFiYXNlID0gYXdhaXQgY3JlYXRlU3VwYWJhc2VDbGllbnQoKTtcclxuICBcclxuICB0cnkge1xyXG4gICAgLy8gQ2hlY2sgYWRtaW4gYWNjZXNzXHJcbiAgICBjb25zdCBhZG1pbkNoZWNrID0gYXdhaXQgaXNBZG1pbihzdXBhYmFzZSk7XHJcbiAgICBpZiAoIWFkbWluQ2hlY2spIHtcclxuICAgICAgcmV0dXJuIHsgZXJyb3I6ICdBY2Nlc3MgZGVuaWVkLiBBZG1pbiBvciB0ZWFjaGVyIHJvbGUgcmVxdWlyZWQuJyB9O1xyXG4gICAgfVxyXG5cclxuICAgIC8vIFVwZGF0ZSBhbGwgbGVzc29ucyB3aXRoIHRoZWlyIG5ldyBwb3NpdGlvbnMgaW4gYSBzaW5nbGUgdHJhbnNhY3Rpb25cclxuICAgIGNvbnN0IHVwZGF0ZXMgPSBsZXNzb25JZHMubWFwKChpZCwgaW5kZXgpID0+ICh7XHJcbiAgICAgIGlkLFxyXG4gICAgICBvcmRlcl9pbmRleDogaW5kZXggKiAxMCAvLyBVc2UgaW5jcmVtZW50cyBvZiAxMCB0byBhbGxvdyBmb3IgZnV0dXJlIGluc2VydGlvbnMgYmV0d2VlbiBpdGVtc1xyXG4gICAgfSkpO1xyXG5cclxuICAgIC8vIFBlcmZvcm0gdXBkYXRlcyBpbiBhIGJhdGNoXHJcbiAgICBmb3IgKGNvbnN0IHVwZGF0ZSBvZiB1cGRhdGVzKSB7XHJcbiAgICAgIGNvbnN0IHsgZXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlXHJcbiAgICAgICAgLmZyb20oJ2xlc3NvbnMnKVxyXG4gICAgICAgIC51cGRhdGUoeyBvcmRlcl9pbmRleDogdXBkYXRlLm9yZGVyX2luZGV4IH0pXHJcbiAgICAgICAgLmVxKCdpZCcsIHVwZGF0ZS5pZClcclxuICAgICAgICAuZXEoJ21vZHVsZV9pZCcsIG1vZHVsZUlkKTsgLy8gQWRkaXRpb25hbCBzYWZldHkgY2hlY2tcclxuXHJcbiAgICAgIGlmIChlcnJvcikge1xyXG4gICAgICAgIHJldHVybiB7IGVycm9yOiBlcnJvci5tZXNzYWdlIH07XHJcbiAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvLyBSZXZhbGlkYXRlIHRoZSBjYWNoZSB0byBlbnN1cmUgZnJvbnRlbmQgcmVmbGVjdHMgY2hhbmdlc1xyXG4gICAgcmV2YWxpZGF0ZVBhdGgoJy9jb3Vyc2VzJyk7XHJcbiAgICByZXZhbGlkYXRlUGF0aCgnL2Rhc2hib2FyZCcpO1xyXG4gICAgXHJcbiAgICByZXR1cm4geyBlcnJvcjogbnVsbCB9O1xyXG4gIH0gY2F0Y2ggKGVycm9yOiBhbnkpIHtcclxuICAgIHJldHVybiB7IGVycm9yOiBlcnJvci5tZXNzYWdlIH07XHJcbiAgfVxyXG59Il0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiIrUkFxWHNCLDJMQUFBIn0=
}),
"[project]/src/components/admin/ModuleList.tsx [app-ssr] (ecmascript)", ((__turbopack_context__) => {
"use strict";

__turbopack_context__.s([
    "default",
    ()=>__TURBOPACK__default__export__
]);
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/next/dist/server/route-modules/app-page/vendored/ssr/react-jsx-dev-runtime.js [app-ssr] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/next/dist/server/route-modules/app-page/vendored/ssr/react.js [app-ssr] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$actions$2f$data$3a$a40cba__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$text$2f$javascript$3e$__ = __turbopack_context__.i("[project]/src/actions/data:a40cba [app-ssr] (ecmascript) <text/javascript>");
var __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$actions$2f$data$3a$6f10cc__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$text$2f$javascript$3e$__ = __turbopack_context__.i("[project]/src/actions/data:6f10cc [app-ssr] (ecmascript) <text/javascript>");
var __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$actions$2f$data$3a$e2ba3b__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$text$2f$javascript$3e$__ = __turbopack_context__.i("[project]/src/actions/data:e2ba3b [app-ssr] (ecmascript) <text/javascript>");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$lucide$2d$react$2f$dist$2f$esm$2f$icons$2f$plus$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$export__default__as__PlusIcon$3e$__ = __turbopack_context__.i("[project]/node_modules/lucide-react/dist/esm/icons/plus.js [app-ssr] (ecmascript) <export default as PlusIcon>");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$lucide$2d$react$2f$dist$2f$esm$2f$icons$2f$trash$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$export__default__as__TrashIcon$3e$__ = __turbopack_context__.i("[project]/node_modules/lucide-react/dist/esm/icons/trash.js [app-ssr] (ecmascript) <export default as TrashIcon>");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$dnd$2d$kit$2f$core$2f$dist$2f$core$2e$esm$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@dnd-kit/core/dist/core.esm.js [app-ssr] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$dnd$2d$kit$2f$sortable$2f$dist$2f$sortable$2e$esm$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@dnd-kit/sortable/dist/sortable.esm.js [app-ssr] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$dnd$2d$kit$2f$utilities$2f$dist$2f$utilities$2e$esm$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@dnd-kit/utilities/dist/utilities.esm.js [app-ssr] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$actions$2f$data$3a$95ed7e__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$text$2f$javascript$3e$__ = __turbopack_context__.i("[project]/src/actions/data:95ed7e [app-ssr] (ecmascript) <text/javascript>");
'use client';
;
;
;
;
;
;
;
;
// Sortable Module Item Component
const SortableModuleItem = ({ module, isSelected, onSelect, onDelete })=>{
    const { attributes, listeners, setNodeRef, transform, transition, isDragging } = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$dnd$2d$kit$2f$sortable$2f$dist$2f$sortable$2e$esm$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["useSortable"])({
        id: module.id
    });
    const style = {
        transform: __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$dnd$2d$kit$2f$utilities$2f$dist$2f$utilities$2e$esm$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["CSS"].Transform.toString(transform),
        transition,
        opacity: isDragging ? 0.5 : 1
    };
    return /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("li", {
        ref: setNodeRef,
        style: style,
        className: `p-3 cursor-pointer transition-colors ${isSelected ? 'bg-accent-primary/10 border-l-4 border-accent-primary' : 'hover:bg-gray-800/50'} ${isDragging ? 'shadow-lg' : ''}`,
        onClick: ()=>onSelect(module.id),
        children: /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
            className: "flex justify-between items-center",
            children: [
                /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                    className: "flex items-center gap-2",
                    children: [
                        /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("button", {
                            ...attributes,
                            ...listeners,
                            className: "cursor-grab active:cursor-grabbing text-gray-500 hover:text-gray-300 hover-lift",
                            onClick: (e)=>e.stopPropagation(),
                            children: /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("svg", {
                                xmlns: "http://www.w3.org/2000/svg",
                                width: "16",
                                height: "16",
                                viewBox: "0 0 24 24",
                                fill: "none",
                                stroke: "currentColor",
                                strokeWidth: "2",
                                strokeLinecap: "round",
                                strokeLinejoin: "round",
                                children: [
                                    /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("circle", {
                                        cx: "9",
                                        cy: "5",
                                        r: "1"
                                    }, void 0, false, {
                                        fileName: "[project]/src/components/admin/ModuleList.tsx",
                                        lineNumber: 67,
                                        columnNumber: 15
                                    }, ("TURBOPACK compile-time value", void 0)),
                                    /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("circle", {
                                        cx: "9",
                                        cy: "12",
                                        r: "1"
                                    }, void 0, false, {
                                        fileName: "[project]/src/components/admin/ModuleList.tsx",
                                        lineNumber: 68,
                                        columnNumber: 15
                                    }, ("TURBOPACK compile-time value", void 0)),
                                    /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("circle", {
                                        cx: "9",
                                        cy: "19",
                                        r: "1"
                                    }, void 0, false, {
                                        fileName: "[project]/src/components/admin/ModuleList.tsx",
                                        lineNumber: 69,
                                        columnNumber: 15
                                    }, ("TURBOPACK compile-time value", void 0)),
                                    /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("circle", {
                                        cx: "15",
                                        cy: "5",
                                        r: "1"
                                    }, void 0, false, {
                                        fileName: "[project]/src/components/admin/ModuleList.tsx",
                                        lineNumber: 70,
                                        columnNumber: 15
                                    }, ("TURBOPACK compile-time value", void 0)),
                                    /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("circle", {
                                        cx: "15",
                                        cy: "12",
                                        r: "1"
                                    }, void 0, false, {
                                        fileName: "[project]/src/components/admin/ModuleList.tsx",
                                        lineNumber: 71,
                                        columnNumber: 15
                                    }, ("TURBOPACK compile-time value", void 0)),
                                    /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("circle", {
                                        cx: "15",
                                        cy: "19",
                                        r: "1"
                                    }, void 0, false, {
                                        fileName: "[project]/src/components/admin/ModuleList.tsx",
                                        lineNumber: 72,
                                        columnNumber: 15
                                    }, ("TURBOPACK compile-time value", void 0))
                                ]
                            }, void 0, true, {
                                fileName: "[project]/src/components/admin/ModuleList.tsx",
                                lineNumber: 66,
                                columnNumber: 13
                            }, ("TURBOPACK compile-time value", void 0))
                        }, void 0, false, {
                            fileName: "[project]/src/components/admin/ModuleList.tsx",
                            lineNumber: 60,
                            columnNumber: 11
                        }, ("TURBOPACK compile-time value", void 0)),
                        /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("span", {
                            className: "font-medium text-white",
                            children: module.title
                        }, void 0, false, {
                            fileName: "[project]/src/components/admin/ModuleList.tsx",
                            lineNumber: 75,
                            columnNumber: 11
                        }, ("TURBOPACK compile-time value", void 0))
                    ]
                }, void 0, true, {
                    fileName: "[project]/src/components/admin/ModuleList.tsx",
                    lineNumber: 59,
                    columnNumber: 9
                }, ("TURBOPACK compile-time value", void 0)),
                /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("button", {
                    onClick: (e)=>{
                        e.stopPropagation();
                        onDelete(module.id);
                    },
                    className: "p-1 rounded text-red-400 hover:bg-red-900/20 hover-lift",
                    title: "Delete",
                    children: /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$lucide$2d$react$2f$dist$2f$esm$2f$icons$2f$trash$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$export__default__as__TrashIcon$3e$__["TrashIcon"], {
                        size: 14
                    }, void 0, false, {
                        fileName: "[project]/src/components/admin/ModuleList.tsx",
                        lineNumber: 85,
                        columnNumber: 11
                    }, ("TURBOPACK compile-time value", void 0))
                }, void 0, false, {
                    fileName: "[project]/src/components/admin/ModuleList.tsx",
                    lineNumber: 77,
                    columnNumber: 9
                }, ("TURBOPACK compile-time value", void 0))
            ]
        }, void 0, true, {
            fileName: "[project]/src/components/admin/ModuleList.tsx",
            lineNumber: 58,
            columnNumber: 7
        }, ("TURBOPACK compile-time value", void 0))
    }, void 0, false, {
        fileName: "[project]/src/components/admin/ModuleList.tsx",
        lineNumber: 48,
        columnNumber: 5
    }, ("TURBOPACK compile-time value", void 0));
};
const ModuleList = ({ courseId, selectedModuleId, onSelectModule, onModuleCreated, onModuleUpdated })=>{
    const [modules, setModules] = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["useState"])([]);
    const [loading, setLoading] = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["useState"])(true);
    const [error, setError] = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["useState"])(null);
    const [newModuleTitle, setNewModuleTitle] = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["useState"])('');
    const [showCreateForm, setShowCreateForm] = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["useState"])(false);
    const sensors = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$dnd$2d$kit$2f$core$2f$dist$2f$core$2e$esm$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["useSensors"])((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$dnd$2d$kit$2f$core$2f$dist$2f$core$2e$esm$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["useSensor"])(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$dnd$2d$kit$2f$core$2f$dist$2f$core$2e$esm$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["PointerSensor"]), (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$dnd$2d$kit$2f$core$2f$dist$2f$core$2e$esm$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["useSensor"])(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$dnd$2d$kit$2f$core$2f$dist$2f$core$2e$esm$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["KeyboardSensor"], {
        coordinateGetter: __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$dnd$2d$kit$2f$sortable$2f$dist$2f$sortable$2e$esm$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["sortableKeyboardCoordinates"]
    }));
    (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["useEffect"])(()=>{
        if (courseId) {
            loadModules();
        } else {
            setModules([]);
            setLoading(false);
        }
    }, [
        courseId
    ]);
    const loadModules = async ()=>{
        console.log('DEBUG: ModuleList - Loading modules for course:', courseId);
        if (!courseId) return;
        setLoading(true);
        setError(null);
        try {
            const result = await (0, __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$actions$2f$data$3a$a40cba__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$text$2f$javascript$3e$__["listModules"])(courseId);
            console.log('DEBUG: ModuleList - listModules result:', result);
            if (result.error) {
                console.error('DEBUG: ModuleList - Error loading modules:', result.error);
                setError(result.error);
            } else if (result.data) {
                console.log('DEBUG: ModuleList - Loaded modules:', result.data);
                // Sort by order_index
                const sortedModules = [
                    ...result.data
                ].sort((a, b)=>a.order_index - b.order_index);
                setModules(sortedModules);
            }
        } catch (err) {
            console.error('DEBUG: ModuleList - Exception loading modules:', err);
            setError('Failed to load modules');
        } finally{
            console.log('DEBUG: ModuleList - Finished loading modules, loading state:', false);
            setLoading(false);
        }
    };
    const handleCreateModule = async ()=>{
        if (!newModuleTitle.trim()) {
            setError('Module title is required');
            return;
        }
        if (!courseId) {
            setError('No course selected');
            return;
        }
        try {
            const result = await (0, __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$actions$2f$data$3a$6f10cc__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$text$2f$javascript$3e$__["createModule"])(courseId, newModuleTitle);
            if (result.error) {
                setError(result.error);
            } else if (result.data) {
                setModules([
                    ...modules,
                    result.data
                ]);
                setNewModuleTitle('');
                setShowCreateForm(false);
                onModuleCreated();
            }
        } catch (err) {
            setError('Failed to create module');
        }
    };
    const handleDeleteModule = async (id)=>{
        if (!confirm('Are you sure you want to delete this module? This will also delete all lessons in this module.')) {
            return;
        }
        try {
            const result = await (0, __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$actions$2f$data$3a$e2ba3b__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$text$2f$javascript$3e$__["deleteModule"])(id);
            if (result.error) {
                setError(result.error);
            } else {
                setModules(modules.filter((module)=>module.id !== id));
                if (selectedModuleId === id) {
                    onSelectModule(null);
                }
                onModuleUpdated();
            }
        } catch (err) {
            setError('Failed to delete module');
        }
    };
    const handleDragEnd = async (event)=>{
        const { active, over } = event;
        if (over && active.id !== over.id) {
            // Find the indices of the dragged and target items
            const oldIndex = modules.findIndex((module)=>module.id === active.id);
            const newIndex = modules.findIndex((module)=>module.id === over.id);
            if (oldIndex !== -1 && newIndex !== -1) {
                // Update the local state optimistically
                const newModules = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$dnd$2d$kit$2f$sortable$2f$dist$2f$sortable$2e$esm$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["arrayMove"])(modules, oldIndex, newIndex);
                setModules(newModules);
                // Update the order on the server
                const moduleIds = newModules.map((module)=>module.id);
                const result = await (0, __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$actions$2f$data$3a$95ed7e__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$text$2f$javascript$3e$__["reorderModules"])(courseId, moduleIds);
                if (result.error) {
                    setError(result.error);
                    // If reorder failed, revert the change
                    loadModules();
                } else {
                    onModuleUpdated();
                }
            }
        }
    };
    return /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
        className: "border-r border-gray-700 h-full flex flex-col",
        children: [
            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                className: "p-4 border-b border-gray-700",
                children: [
                    /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                        className: "flex justify-between items-center mb-4",
                        children: [
                            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("h3", {
                                className: "text-lg font-semibold text-white",
                                children: "Modules"
                            }, void 0, false, {
                                fileName: "[project]/src/components/admin/ModuleList.tsx",
                                lineNumber: 226,
                                columnNumber: 11
                            }, ("TURBOPACK compile-time value", void 0)),
                            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("button", {
                                onClick: ()=>setShowCreateForm(!showCreateForm),
                                disabled: !courseId,
                                className: `hover-lift ${courseId ? 'bg-accent-primary hover:bg-accent-primary/90 text-white border border-accent-primary' : 'bg-gray-700 text-gray-500 cursor-not-allowed'} px-3 py-1 rounded-md text-sm font-medium transition-colors`,
                                children: /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$lucide$2d$react$2f$dist$2f$esm$2f$icons$2f$plus$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$export__default__as__PlusIcon$3e$__["PlusIcon"], {
                                    size: 16
                                }, void 0, false, {
                                    fileName: "[project]/src/components/admin/ModuleList.tsx",
                                    lineNumber: 236,
                                    columnNumber: 13
                                }, ("TURBOPACK compile-time value", void 0))
                            }, void 0, false, {
                                fileName: "[project]/src/components/admin/ModuleList.tsx",
                                lineNumber: 227,
                                columnNumber: 11
                            }, ("TURBOPACK compile-time value", void 0))
                        ]
                    }, void 0, true, {
                        fileName: "[project]/src/components/admin/ModuleList.tsx",
                        lineNumber: 225,
                        columnNumber: 9
                    }, ("TURBOPACK compile-time value", void 0)),
                    showCreateForm && courseId && /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                        className: "mb-4 p-3 bg-gray-800 rounded-lg",
                        children: [
                            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("input", {
                                type: "text",
                                value: newModuleTitle,
                                onChange: (e)=>setNewModuleTitle(e.target.value),
                                placeholder: "Module title",
                                className: "w-full p-2 mb-2 rounded bg-gray-700 border border-gray-600 text-white"
                            }, void 0, false, {
                                fileName: "[project]/src/components/admin/ModuleList.tsx",
                                lineNumber: 242,
                                columnNumber: 13
                            }, ("TURBOPACK compile-time value", void 0)),
                            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                                className: "flex gap-2",
                                children: [
                                    /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("button", {
                                        onClick: handleCreateModule,
                                        className: "bg-green-600 hover:bg-green-700 text-white px-3 py-1 rounded text-sm hover-lift",
                                        children: "Create"
                                    }, void 0, false, {
                                        fileName: "[project]/src/components/admin/ModuleList.tsx",
                                        lineNumber: 250,
                                        columnNumber: 15
                                    }, ("TURBOPACK compile-time value", void 0)),
                                    /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("button", {
                                        onClick: ()=>{
                                            setShowCreateForm(false);
                                            setNewModuleTitle('');
                                        },
                                        className: "bg-gray-600 hover:bg-gray-700 text-white px-3 py-1 rounded text-sm hover-lift",
                                        children: "Cancel"
                                    }, void 0, false, {
                                        fileName: "[project]/src/components/admin/ModuleList.tsx",
                                        lineNumber: 256,
                                        columnNumber: 15
                                    }, ("TURBOPACK compile-time value", void 0))
                                ]
                            }, void 0, true, {
                                fileName: "[project]/src/components/admin/ModuleList.tsx",
                                lineNumber: 249,
                                columnNumber: 13
                            }, ("TURBOPACK compile-time value", void 0))
                        ]
                    }, void 0, true, {
                        fileName: "[project]/src/components/admin/ModuleList.tsx",
                        lineNumber: 241,
                        columnNumber: 11
                    }, ("TURBOPACK compile-time value", void 0)),
                    error && /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                        className: "mb-4 p-2 bg-red-900/30 border border-red-700 rounded text-red-300 text-sm",
                        children: error
                    }, void 0, false, {
                        fileName: "[project]/src/components/admin/ModuleList.tsx",
                        lineNumber: 270,
                        columnNumber: 11
                    }, ("TURBOPACK compile-time value", void 0))
                ]
            }, void 0, true, {
                fileName: "[project]/src/components/admin/ModuleList.tsx",
                lineNumber: 224,
                columnNumber: 7
            }, ("TURBOPACK compile-time value", void 0)),
            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                className: "flex-1 overflow-y-auto",
                children: loading ? /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                    className: "p-4 text-center text-gray-400",
                    children: "Loading modules..."
                }, void 0, false, {
                    fileName: "[project]/src/components/admin/ModuleList.tsx",
                    lineNumber: 278,
                    columnNumber: 11
                }, ("TURBOPACK compile-time value", void 0)) : modules.length === 0 ? /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                    className: "p-4 text-center text-gray-400",
                    children: courseId ? 'No modules found' : 'Select a course to view modules'
                }, void 0, false, {
                    fileName: "[project]/src/components/admin/ModuleList.tsx",
                    lineNumber: 280,
                    columnNumber: 11
                }, ("TURBOPACK compile-time value", void 0)) : /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$dnd$2d$kit$2f$core$2f$dist$2f$core$2e$esm$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["DndContext"], {
                    sensors: sensors,
                    collisionDetection: __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$dnd$2d$kit$2f$core$2f$dist$2f$core$2e$esm$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["closestCenter"],
                    onDragEnd: handleDragEnd,
                    children: /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$dnd$2d$kit$2f$sortable$2f$dist$2f$sortable$2e$esm$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["SortableContext"], {
                        items: modules.map((m)=>m.id),
                        strategy: __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$dnd$2d$kit$2f$sortable$2f$dist$2f$sortable$2e$esm$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["verticalListSortingStrategy"],
                        children: /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("ul", {
                            className: "divide-y divide-gray-700",
                            children: modules.map((module)=>/*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])(SortableModuleItem, {
                                    module: module,
                                    isSelected: selectedModuleId === module.id,
                                    onSelect: onSelectModule,
                                    onDelete: handleDeleteModule
                                }, module.id, false, {
                                    fileName: "[project]/src/components/admin/ModuleList.tsx",
                                    lineNumber: 292,
                                    columnNumber: 19
                                }, ("TURBOPACK compile-time value", void 0)))
                        }, void 0, false, {
                            fileName: "[project]/src/components/admin/ModuleList.tsx",
                            lineNumber: 290,
                            columnNumber: 15
                        }, ("TURBOPACK compile-time value", void 0))
                    }, void 0, false, {
                        fileName: "[project]/src/components/admin/ModuleList.tsx",
                        lineNumber: 289,
                        columnNumber: 13
                    }, ("TURBOPACK compile-time value", void 0))
                }, void 0, false, {
                    fileName: "[project]/src/components/admin/ModuleList.tsx",
                    lineNumber: 284,
                    columnNumber: 11
                }, ("TURBOPACK compile-time value", void 0))
            }, void 0, false, {
                fileName: "[project]/src/components/admin/ModuleList.tsx",
                lineNumber: 276,
                columnNumber: 7
            }, ("TURBOPACK compile-time value", void 0))
        ]
    }, void 0, true, {
        fileName: "[project]/src/components/admin/ModuleList.tsx",
        lineNumber: 223,
        columnNumber: 5
    }, ("TURBOPACK compile-time value", void 0));
};
const __TURBOPACK__default__export__ = ModuleList;
}),
"[project]/src/actions/data:9135d6 [app-ssr] (ecmascript) <text/javascript>", ((__turbopack_context__) => {
"use strict";

__turbopack_context__.s([
    "listLessons",
    ()=>$$RSC_SERVER_ACTION_10
]);
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$build$2f$webpack$2f$loaders$2f$next$2d$flight$2d$loader$2f$action$2d$client$2d$wrapper$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/next/dist/build/webpack/loaders/next-flight-loader/action-client-wrapper.js [app-ssr] (ecmascript)");
/* __next_internal_action_entry_do_not_use__ [{"404001c0ab7c8ec1296d7f0e74492b7cb2781bc127":"listLessons"},"src/actions/courseActions.ts",""] */ "use turbopack no side effects";
;
const $$RSC_SERVER_ACTION_10 = /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$build$2f$webpack$2f$loaders$2f$next$2d$flight$2d$loader$2f$action$2d$client$2d$wrapper$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["createServerReference"])("404001c0ab7c8ec1296d7f0e74492b7cb2781bc127", __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$build$2f$webpack$2f$loaders$2f$next$2d$flight$2d$loader$2f$action$2d$client$2d$wrapper$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["callServer"], void 0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$build$2f$webpack$2f$loaders$2f$next$2d$flight$2d$loader$2f$action$2d$client$2d$wrapper$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["findSourceMapURL"], "listLessons");
;
 //# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4vY291cnNlQWN0aW9ucy50cyJdLCJzb3VyY2VzQ29udGVudCI6WyIndXNlIHNlcnZlcidcclxuXHJcbmltcG9ydCB7IGNvb2tpZXMgfSBmcm9tICduZXh0L2hlYWRlcnMnO1xyXG5pbXBvcnQgeyBjcmVhdGVTZXJ2ZXJDbGllbnQgfSBmcm9tICdAc3VwYWJhc2Uvc3NyJztcclxuaW1wb3J0IHsgcmV2YWxpZGF0ZVBhdGggfSBmcm9tICduZXh0L2NhY2hlJztcclxuaW1wb3J0IHsgcGFyc2VZb3VUdWJlIH0gZnJvbSAnQC9saWIveW91dHViZVBhcnNlcic7XHJcblxyXG4vLyBUeXBlIGRlZmluaXRpb25zXHJcbnR5cGUgQ291cnNlID0ge1xyXG4gIGlkOiBzdHJpbmc7XHJcbiAgdGl0bGU6IHN0cmluZztcclxuICBkZXNjcmlwdGlvbjogc3RyaW5nO1xyXG4gIGlzX3B1Ymxpc2hlZDogYm9vbGVhbjtcclxuICBjcmVhdGVkX2F0OiBzdHJpbmc7XHJcbiAgdXBkYXRlZF9hdDogc3RyaW5nO1xyXG59O1xyXG5cclxudHlwZSBNb2R1bGUgPSB7XHJcbiAgaWQ6IHN0cmluZztcclxuICBjb3Vyc2VfaWQ6IHN0cmluZztcclxuICB0aXRsZTogc3RyaW5nO1xyXG4gIG9yZGVyX2luZGV4OiBudW1iZXI7XHJcbn07XHJcblxyXG50eXBlIExlc3NvbiA9IHtcclxuICBpZDogc3RyaW5nO1xyXG4gIG1vZHVsZV9pZDogc3RyaW5nO1xyXG4gIHRpdGxlOiBzdHJpbmc7XHJcbiAgZGVzY3JpcHRpb246IHN0cmluZztcclxuICBvcmRlcl9pbmRleDogbnVtYmVyO1xyXG4gIHZpZGVvX3Byb3ZpZGVyOiBzdHJpbmc7XHJcbiAgdmlkZW9fdXJsOiBzdHJpbmcgfCBudWxsO1xyXG4gIHlvdXR1YmVfdmlkZW9faWQ6IHN0cmluZyB8IG51bGw7XHJcbiAgaXNfcHJldmlldzogYm9vbGVhbjtcclxuICBpc19wdWJsaXNoZWQ6IGJvb2xlYW47XHJcbiAgY3JlYXRlZF9hdDogc3RyaW5nO1xyXG4gIHVwZGF0ZWRfYXQ6IHN0cmluZztcclxufTtcclxuXHJcbi8vIEhlbHBlciBmdW5jdGlvbiB0byBjcmVhdGUgU3VwYWJhc2UgY2xpZW50IGZvciBzZXJ2ZXIgYWN0aW9uc1xyXG5hc3luYyBmdW5jdGlvbiBjcmVhdGVTdXBhYmFzZUNsaWVudCgpIHtcclxuICBjb25zdCBjb29raWVTdG9yZSA9IGF3YWl0IGNvb2tpZXMoKTtcclxuICByZXR1cm4gY3JlYXRlU2VydmVyQ2xpZW50KFxyXG4gICAgcHJvY2Vzcy5lbnYuTkVYVF9QVUJMSUNfU1VQQUJBU0VfVVJMISxcclxuICAgIHByb2Nlc3MuZW52Lk5FWFRfUFVCTElDX1NVUEFCQVNFX0FOT05fS0VZISxcclxuICAgIHtcclxuICAgICAgY29va2llczoge1xyXG4gICAgICAgIGdldDogKG5hbWU6IHN0cmluZykgPT4ge1xyXG4gICAgICAgICAgY29uc3QgY29va2llID0gY29va2llU3RvcmUuZ2V0KG5hbWUpO1xyXG4gICAgICAgICAgcmV0dXJuIGNvb2tpZSA/IGNvb2tpZS52YWx1ZSA6IHVuZGVmaW5lZDtcclxuICAgICAgICB9LFxyXG4gICAgICB9LFxyXG4gICAgfVxyXG4gICk7XHJcbn1cclxuXHJcbi8vIENoZWNrIGlmIHVzZXIgaXMgYWRtaW5cclxuYXN5bmMgZnVuY3Rpb24gaXNBZG1pbihzdXBhYmFzZTogYW55KTogUHJvbWlzZTxib29sZWFuPiB7XHJcbiAgY29uc3Qge1xyXG4gICAgZGF0YTogeyB1c2VyIH0sXHJcbiAgICBlcnJvcjogdXNlckVycm9yLFxyXG4gIH0gPSBhd2FpdCBzdXBhYmFzZS5hdXRoLmdldFVzZXIoKTtcclxuXHJcbiAgaWYgKHVzZXJFcnJvciB8fCAhdXNlcikge1xyXG4gICAgcmV0dXJuIGZhbHNlO1xyXG4gIH1cclxuXHJcbiAgY29uc3QgeyBkYXRhOiBwcm9maWxlLCBlcnJvcjogcHJvZmlsZUVycm9yIH0gPSBhd2FpdCBzdXBhYmFzZVxyXG4gICAgLmZyb20oJ3Byb2ZpbGVzJylcclxuICAgIC5zZWxlY3QoJ3JvbGUnKVxyXG4gICAgLmVxKCdpZCcsIHVzZXIuaWQpXHJcbiAgICAuc2luZ2xlKCk7XHJcblxyXG4gIGlmIChwcm9maWxlRXJyb3IgfHwgIXByb2ZpbGUpIHtcclxuICAgIHJldHVybiBmYWxzZTtcclxuICB9XHJcblxyXG4gIHJldHVybiBwcm9maWxlLnJvbGUgPT09ICdhZG1pbicgfHwgcHJvZmlsZS5yb2xlID09PSAndGVhY2hlcic7XHJcbn1cclxuXHJcbi8vIENvdXJzZSBBY3Rpb25zXHJcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBsaXN0Q291cnNlcygpOiBQcm9taXNlPHsgZGF0YTogQ291cnNlW10gfCBudWxsOyBlcnJvcjogc3RyaW5nIHwgbnVsbCB9PiB7XHJcbiAgY29uc3Qgc3VwYWJhc2UgPSBhd2FpdCBjcmVhdGVTdXBhYmFzZUNsaWVudCgpO1xyXG4gIFxyXG4gIHRyeSB7XHJcbiAgICAvLyBDaGVjayBhZG1pbiBhY2Nlc3NcclxuICAgIGNvbnN0IGFkbWluQ2hlY2sgPSBhd2FpdCBpc0FkbWluKHN1cGFiYXNlKTtcclxuICAgIGlmICghYWRtaW5DaGVjaykge1xyXG4gICAgICBjb25zb2xlLmxvZygnREVCVUc6IGxpc3RDb3Vyc2VzIC0gQWNjZXNzIGRlbmllZCwgbm90IGFkbWluL3RlYWNoZXInKTtcclxuICAgICAgcmV0dXJuIHsgZGF0YTogbnVsbCwgZXJyb3I6ICdBY2Nlc3MgZGVuaWVkLiBBZG1pbiBvciB0ZWFjaGVyIHJvbGUgcmVxdWlyZWQuJyB9O1xyXG4gICAgfVxyXG4gICAgXHJcbiAgICBjb25zb2xlLmxvZygnREVCVUc6IGxpc3RDb3Vyc2VzIC0gRmV0Y2hpbmcgYWxsIGNvdXJzZXMgZm9yIGFkbWluJyk7XHJcbiAgICBcclxuICAgIGNvbnN0IHsgZGF0YSwgZXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlXHJcbiAgICAgIC5mcm9tKCdjb3Vyc2VzJylcclxuICAgICAgLnNlbGVjdCgnKicpXHJcbiAgICAgIC5vcmRlcignY3JlYXRlZF9hdCcsIHsgYXNjZW5kaW5nOiBmYWxzZSB9KTtcclxuICAgIFxyXG4gICAgY29uc29sZS5sb2coJ0RFQlVHOiBsaXN0Q291cnNlcyAtIFF1ZXJ5IHJlc3VsdDonLCB7IGRhdGE6IGRhdGE/Lmxlbmd0aCwgZXJyb3IgfSk7XHJcbiAgICBcclxuICAgIGlmIChlcnJvcikge1xyXG4gICAgICBjb25zb2xlLmVycm9yKCdERUJVRzogbGlzdENvdXJzZXMgLSBTdXBhYmFzZSBlcnJvcjonLCBlcnJvcik7XHJcbiAgICAgIHJldHVybiB7IGRhdGE6IG51bGwsIGVycm9yOiBlcnJvci5tZXNzYWdlIH07XHJcbiAgICB9XHJcblxyXG4gICAgY29uc29sZS5sb2coJ0RFQlVHOiBsaXN0Q291cnNlcyAtIFJldHVybmluZyBjb3Vyc2VzOicsIGRhdGE/Lmxlbmd0aCk7XHJcbiAgICByZXR1cm4geyBkYXRhLCBlcnJvcjogbnVsbCB9O1xyXG4gIH0gY2F0Y2ggKGVycm9yOiBhbnkpIHtcclxuICAgIGNvbnNvbGUuZXJyb3IoJ0RFQlVHOiBsaXN0Q291cnNlcyAtIEV4Y2VwdGlvbjonLCBlcnJvcik7XHJcbiAgICByZXR1cm4geyBkYXRhOiBudWxsLCBlcnJvcjogZXJyb3IubWVzc2FnZSB9O1xyXG4gIH1cclxufVxyXG5cclxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGNyZWF0ZUNvdXJzZSh0aXRsZTogc3RyaW5nLCBkZXNjcmlwdGlvbjogc3RyaW5nKTogUHJvbWlzZTx7IGRhdGE6IENvdXJzZSB8IG51bGw7IGVycm9yOiBzdHJpbmcgfCBudWxsIH0+IHtcclxuICBjb25zdCBzdXBhYmFzZSA9IGF3YWl0IGNyZWF0ZVN1cGFiYXNlQ2xpZW50KCk7XHJcbiAgXHJcbiAgdHJ5IHtcclxuICAgIC8vIENoZWNrIGFkbWluIGFjY2Vzc1xyXG4gICAgY29uc3QgYWRtaW5DaGVjayA9IGF3YWl0IGlzQWRtaW4oc3VwYWJhc2UpO1xyXG4gICAgaWYgKCFhZG1pbkNoZWNrKSB7XHJcbiAgICAgIGNvbnNvbGUubG9nKCdERUJVRzogY3JlYXRlQ291cnNlIC0gQWNjZXNzIGRlbmllZCwgbm90IGFkbWluL3RlYWNoZXInKTtcclxuICAgICAgcmV0dXJuIHsgZGF0YTogbnVsbCwgZXJyb3I6ICdBY2Nlc3MgZGVuaWVkLiBBZG1pbiBvciB0ZWFjaGVyIHJvbGUgcmVxdWlyZWQuJyB9O1xyXG4gICAgfVxyXG4gICAgXHJcbiAgICBjb25zb2xlLmxvZygnREVCVUc6IGNyZWF0ZUNvdXJzZSAtIENyZWF0aW5nIGNvdXJzZTonLCB7IHRpdGxlLCBkZXNjcmlwdGlvbiB9KTtcclxuXHJcbiAgICBjb25zdCB7IGRhdGEsIGVycm9yIH0gPSBhd2FpdCBzdXBhYmFzZVxyXG4gICAgICAuZnJvbSgnY291cnNlcycpXHJcbiAgICAgIC5pbnNlcnQoW3sgdGl0bGUsIGRlc2NyaXB0aW9uIH1dKVxyXG4gICAgICAuc2VsZWN0KClcclxuICAgICAgLnNpbmdsZSgpO1xyXG4gICAgXHJcbiAgICBjb25zb2xlLmxvZygnREVCVUc6IGNyZWF0ZUNvdXJzZSAtIEluc2VydCByZXN1bHQ6JywgeyBkYXRhOiAhIWRhdGEsIGVycm9yIH0pO1xyXG5cclxuICAgIGlmIChlcnJvcikge1xyXG4gICAgICBjb25zb2xlLmVycm9yKCdERUJVRzogY3JlYXRlQ291cnNlIC0gU3VwYWJhc2UgZXJyb3I6JywgZXJyb3IpO1xyXG4gICAgICByZXR1cm4geyBkYXRhOiBudWxsLCBlcnJvcjogZXJyb3IubWVzc2FnZSB9O1xyXG4gICAgfVxyXG5cclxuICAgIC8vIFJldmFsaWRhdGUgdGhlIGNhY2hlIHRvIGVuc3VyZSBmcm9udGVuZCByZWZsZWN0cyBjaGFuZ2VzXHJcbiAgICByZXZhbGlkYXRlUGF0aCgnL2NvdXJzZXMnKTtcclxuICAgIHJldmFsaWRhdGVQYXRoKCcvZGFzaGJvYXJkJyk7XHJcbiAgICBcclxuICAgIGNvbnNvbGUubG9nKCdERUJVRzogY3JlYXRlQ291cnNlIC0gQ291cnNlIGNyZWF0ZWQgc3VjY2Vzc2Z1bGx5LCBjYWNoZSBpbnZhbGlkYXRlZCcpO1xyXG4gICAgXHJcbiAgICByZXR1cm4geyBkYXRhLCBlcnJvcjogbnVsbCB9O1xyXG4gIH0gY2F0Y2ggKGVycm9yOiBhbnkpIHtcclxuICAgIGNvbnNvbGUuZXJyb3IoJ0RFQlVHOiBjcmVhdGVDb3Vyc2UgLSBFeGNlcHRpb246JywgZXJyb3IpO1xyXG4gICAgcmV0dXJuIHsgZGF0YTogbnVsbCwgZXJyb3I6IGVycm9yLm1lc3NhZ2UgfTtcclxuICB9XHJcbn1cclxuXHJcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiB1cGRhdGVDb3Vyc2UoaWQ6IHN0cmluZywgdXBkYXRlczogUGFydGlhbDxDb3Vyc2U+KTogUHJvbWlzZTx7IGRhdGE6IENvdXJzZSB8IG51bGw7IGVycm9yOiBzdHJpbmcgfCBudWxsIH0+IHtcclxuICBjb25zdCBzdXBhYmFzZSA9IGF3YWl0IGNyZWF0ZVN1cGFiYXNlQ2xpZW50KCk7XHJcbiAgXHJcbiAgdHJ5IHtcclxuICAgIC8vIENoZWNrIGFkbWluIGFjY2Vzc1xyXG4gICAgY29uc3QgYWRtaW5DaGVjayA9IGF3YWl0IGlzQWRtaW4oc3VwYWJhc2UpO1xyXG4gICAgaWYgKCFhZG1pbkNoZWNrKSB7XHJcbiAgICAgIHJldHVybiB7IGRhdGE6IG51bGwsIGVycm9yOiAnQWNjZXNzIGRlbmllZC4gQWRtaW4gb3IgdGVhY2hlciByb2xlIHJlcXVpcmVkLicgfTtcclxuICAgIH1cclxuXHJcbiAgICBjb25zdCB7IGRhdGEsIGVycm9yIH0gPSBhd2FpdCBzdXBhYmFzZVxyXG4gICAgICAuZnJvbSgnY291cnNlcycpXHJcbiAgICAgIC51cGRhdGUodXBkYXRlcylcclxuICAgICAgLmVxKCdpZCcsIGlkKVxyXG4gICAgICAuc2VsZWN0KClcclxuICAgICAgLnNpbmdsZSgpO1xyXG5cclxuICAgIGlmIChlcnJvcikge1xyXG4gICAgICByZXR1cm4geyBkYXRhOiBudWxsLCBlcnJvcjogZXJyb3IubWVzc2FnZSB9O1xyXG4gICAgfVxyXG5cclxuICAgIC8vIFJldmFsaWRhdGUgdGhlIGNhY2hlIHRvIGVuc3VyZSBmcm9udGVuZCByZWZsZWN0cyBjaGFuZ2VzXHJcbiAgICByZXZhbGlkYXRlUGF0aCgnL2NvdXJzZXMnKTtcclxuICAgIHJldmFsaWRhdGVQYXRoKCcvZGFzaGJvYXJkJyk7XHJcbiAgICBcclxuICAgIHJldHVybiB7IGRhdGEsIGVycm9yOiBudWxsIH07XHJcbiAgfSBjYXRjaCAoZXJyb3I6IGFueSkge1xyXG4gICAgcmV0dXJuIHsgZGF0YTogbnVsbCwgZXJyb3I6IGVycm9yLm1lc3NhZ2UgfTtcclxuICB9XHJcbn1cclxuXHJcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBkZWxldGVDb3Vyc2UoaWQ6IHN0cmluZyk6IFByb21pc2U8eyBlcnJvcjogc3RyaW5nIHwgbnVsbCB9PiB7XHJcbiAgY29uc3Qgc3VwYWJhc2UgPSBhd2FpdCBjcmVhdGVTdXBhYmFzZUNsaWVudCgpO1xyXG4gIFxyXG4gIHRyeSB7XHJcbiAgICAvLyBDaGVjayBhZG1pbiBhY2Nlc3NcclxuICAgIGNvbnN0IGFkbWluQ2hlY2sgPSBhd2FpdCBpc0FkbWluKHN1cGFiYXNlKTtcclxuICAgIGlmICghYWRtaW5DaGVjaykge1xyXG4gICAgICByZXR1cm4geyBlcnJvcjogJ0FjY2VzcyBkZW5pZWQuIEFkbWluIG9yIHRlYWNoZXIgcm9sZSByZXF1aXJlZC4nIH07XHJcbiAgICB9XHJcblxyXG4gICAgY29uc3QgeyBlcnJvciB9ID0gYXdhaXQgc3VwYWJhc2VcclxuICAgICAgLmZyb20oJ2NvdXJzZXMnKVxyXG4gICAgICAuZGVsZXRlKClcclxuICAgICAgLmVxKCdpZCcsIGlkKTtcclxuXHJcbiAgICBpZiAoZXJyb3IpIHtcclxuICAgICAgcmV0dXJuIHsgZXJyb3I6IGVycm9yLm1lc3NhZ2UgfTtcclxuICAgIH1cclxuXHJcbiAgICAvLyBSZXZhbGlkYXRlIHRoZSBjYWNoZSB0byBlbnN1cmUgZnJvbnRlbmQgcmVmbGVjdHMgY2hhbmdlc1xyXG4gICAgcmV2YWxpZGF0ZVBhdGgoJy9jb3Vyc2VzJyk7XHJcbiAgICByZXZhbGlkYXRlUGF0aCgnL2Rhc2hib2FyZCcpO1xyXG4gICAgXHJcbiAgICByZXR1cm4geyBlcnJvcjogbnVsbCB9O1xyXG4gIH0gY2F0Y2ggKGVycm9yOiBhbnkpIHtcclxuICAgIHJldHVybiB7IGVycm9yOiBlcnJvci5tZXNzYWdlIH07XHJcbiAgfVxyXG59XHJcblxyXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gcHVibGlzaENvdXJzZShpZDogc3RyaW5nLCBpc1B1Ymxpc2hlZDogYm9vbGVhbik6IFByb21pc2U8eyBkYXRhOiBDb3Vyc2UgfCBudWxsOyBlcnJvcjogc3RyaW5nIHwgbnVsbCB9PiB7XHJcbiAgY29uc3Qgc3VwYWJhc2UgPSBhd2FpdCBjcmVhdGVTdXBhYmFzZUNsaWVudCgpO1xyXG4gIFxyXG4gIHRyeSB7XHJcbiAgICAvLyBDaGVjayBhZG1pbiBhY2Nlc3NcclxuICAgIGNvbnN0IGFkbWluQ2hlY2sgPSBhd2FpdCBpc0FkbWluKHN1cGFiYXNlKTtcclxuICAgIGlmICghYWRtaW5DaGVjaykge1xyXG4gICAgICByZXR1cm4geyBkYXRhOiBudWxsLCBlcnJvcjogJ0FjY2VzcyBkZW5pZWQuIEFkbWluIG9yIHRlYWNoZXIgcm9sZSByZXF1aXJlZC4nIH07XHJcbiAgICB9XHJcblxyXG4gICAgY29uc3QgeyBkYXRhLCBlcnJvciB9ID0gYXdhaXQgc3VwYWJhc2VcclxuICAgICAgLmZyb20oJ2NvdXJzZXMnKVxyXG4gICAgICAudXBkYXRlKHsgaXNfcHVibGlzaGVkOiBpc1B1Ymxpc2hlZCB9KVxyXG4gICAgICAuZXEoJ2lkJywgaWQpXHJcbiAgICAgIC5zZWxlY3QoKVxyXG4gICAgICAuc2luZ2xlKCk7XHJcblxyXG4gICAgaWYgKGVycm9yKSB7XHJcbiAgICAgIHJldHVybiB7IGRhdGE6IG51bGwsIGVycm9yOiBlcnJvci5tZXNzYWdlIH07XHJcbiAgICB9XHJcblxyXG4gICAgLy8gUmV2YWxpZGF0ZSB0aGUgY2FjaGUgdG8gZW5zdXJlIGZyb250ZW5kIHJlZmxlY3RzIGNoYW5nZXNcclxuICAgIHJldmFsaWRhdGVQYXRoKCcvY291cnNlcycpO1xyXG4gICAgcmV2YWxpZGF0ZVBhdGgoJy9kYXNoYm9hcmQnKTtcclxuICAgIFxyXG4gICAgcmV0dXJuIHsgZGF0YSwgZXJyb3I6IG51bGwgfTtcclxuICB9IGNhdGNoIChlcnJvcjogYW55KSB7XHJcbiAgICByZXR1cm4geyBkYXRhOiBudWxsLCBlcnJvcjogZXJyb3IubWVzc2FnZSB9O1xyXG4gIH1cclxufVxyXG5cclxuLy8gTW9kdWxlIEFjdGlvbnNcclxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGxpc3RNb2R1bGVzKGNvdXJzZUlkOiBzdHJpbmcpOiBQcm9taXNlPHsgZGF0YTogTW9kdWxlW10gfCBudWxsOyBlcnJvcjogc3RyaW5nIHwgbnVsbCB9PiB7XHJcbiAgY29uc3Qgc3VwYWJhc2UgPSBhd2FpdCBjcmVhdGVTdXBhYmFzZUNsaWVudCgpO1xyXG4gIFxyXG4gIHRyeSB7XHJcbiAgICAvLyBDaGVjayBhZG1pbiBhY2Nlc3NcclxuICAgIGNvbnN0IGFkbWluQ2hlY2sgPSBhd2FpdCBpc0FkbWluKHN1cGFiYXNlKTtcclxuICAgIGlmICghYWRtaW5DaGVjaykge1xyXG4gICAgICByZXR1cm4geyBkYXRhOiBudWxsLCBlcnJvcjogJ0FjY2VzcyBkZW5pZWQuIEFkbWluIG9yIHRlYWNoZXIgcm9sZSByZXF1aXJlZC4nIH07XHJcbiAgICB9XHJcblxyXG4gICAgY29uc3QgeyBkYXRhLCBlcnJvciB9ID0gYXdhaXQgc3VwYWJhc2VcclxuICAgICAgLmZyb20oJ21vZHVsZXMnKVxyXG4gICAgICAuc2VsZWN0KCcqJylcclxuICAgICAgLmVxKCdjb3Vyc2VfaWQnLCBjb3Vyc2VJZClcclxuICAgICAgLm9yZGVyKCdvcmRlcl9pbmRleCcsIHsgYXNjZW5kaW5nOiB0cnVlIH0pO1xyXG5cclxuICAgIGlmIChlcnJvcikge1xyXG4gICAgICByZXR1cm4geyBkYXRhOiBudWxsLCBlcnJvcjogZXJyb3IubWVzc2FnZSB9O1xyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiB7IGRhdGEsIGVycm9yOiBudWxsIH07XHJcbiAgfSBjYXRjaCAoZXJyb3I6IGFueSkge1xyXG4gICAgcmV0dXJuIHsgZGF0YTogbnVsbCwgZXJyb3I6IGVycm9yLm1lc3NhZ2UgfTtcclxuICB9XHJcbn1cclxuXHJcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBjcmVhdGVNb2R1bGUoY291cnNlSWQ6IHN0cmluZywgdGl0bGU6IHN0cmluZyk6IFByb21pc2U8eyBkYXRhOiBNb2R1bGUgfCBudWxsOyBlcnJvcjogc3RyaW5nIHwgbnVsbCB9PiB7XHJcbiAgY29uc3Qgc3VwYWJhc2UgPSBhd2FpdCBjcmVhdGVTdXBhYmFzZUNsaWVudCgpO1xyXG4gIFxyXG4gIHRyeSB7XHJcbiAgICAvLyBDaGVjayBhZG1pbiBhY2Nlc3NcclxuICAgIGNvbnN0IGFkbWluQ2hlY2sgPSBhd2FpdCBpc0FkbWluKHN1cGFiYXNlKTtcclxuICAgIGlmICghYWRtaW5DaGVjaykge1xyXG4gICAgICByZXR1cm4geyBkYXRhOiBudWxsLCBlcnJvcjogJ0FjY2VzcyBkZW5pZWQuIEFkbWluIG9yIHRlYWNoZXIgcm9sZSByZXF1aXJlZC4nIH07XHJcbiAgICB9XHJcblxyXG4gICAgLy8gR2V0IHRoZSBoaWdoZXN0IG9yZGVyX2luZGV4IHRvIGRldGVybWluZSB0aGUgbmV3IHBvc2l0aW9uXHJcbiAgICBjb25zdCB7IGRhdGE6IGV4aXN0aW5nTW9kdWxlcyB9ID0gYXdhaXQgc3VwYWJhc2VcclxuICAgICAgLmZyb20oJ21vZHVsZXMnKVxyXG4gICAgICAuc2VsZWN0KCdvcmRlcl9pbmRleCcpXHJcbiAgICAgIC5lcSgnY291cnNlX2lkJywgY291cnNlSWQpXHJcbiAgICAgIC5vcmRlcignb3JkZXJfaW5kZXgnLCB7IGFzY2VuZGluZzogZmFsc2UgfSlcclxuICAgICAgLmxpbWl0KDEpO1xyXG5cclxuICAgIGNvbnN0IG5ld09yZGVySW5kZXggPSBleGlzdGluZ01vZHVsZXMgJiYgZXhpc3RpbmdNb2R1bGVzLmxlbmd0aCA+IDAgXHJcbiAgICAgID8gZXhpc3RpbmdNb2R1bGVzWzBdLm9yZGVyX2luZGV4ICsgMTAgXHJcbiAgICAgIDogMDtcclxuXHJcbiAgICBjb25zdCB7IGRhdGEsIGVycm9yIH0gPSBhd2FpdCBzdXBhYmFzZVxyXG4gICAgICAuZnJvbSgnbW9kdWxlcycpXHJcbiAgICAgIC5pbnNlcnQoW3sgY291cnNlX2lkOiBjb3Vyc2VJZCwgdGl0bGUsIG9yZGVyX2luZGV4OiBuZXdPcmRlckluZGV4IH1dKVxyXG4gICAgICAuc2VsZWN0KClcclxuICAgICAgLnNpbmdsZSgpO1xyXG5cclxuICAgIGlmIChlcnJvcikge1xyXG4gICAgICByZXR1cm4geyBkYXRhOiBudWxsLCBlcnJvcjogZXJyb3IubWVzc2FnZSB9O1xyXG4gICAgfVxyXG5cclxuICAgIC8vIFJldmFsaWRhdGUgdGhlIGNhY2hlIHRvIGVuc3VyZSBmcm9udGVuZCByZWZsZWN0cyBjaGFuZ2VzXHJcbiAgICByZXZhbGlkYXRlUGF0aCgnL2NvdXJzZXMnKTtcclxuICAgIHJldmFsaWRhdGVQYXRoKCcvZGFzaGJvYXJkJyk7XHJcbiAgICBcclxuICAgIHJldHVybiB7IGRhdGEsIGVycm9yOiBudWxsIH07XHJcbiAgfSBjYXRjaCAoZXJyb3I6IGFueSkge1xyXG4gICAgcmV0dXJuIHsgZGF0YTogbnVsbCwgZXJyb3I6IGVycm9yLm1lc3NhZ2UgfTtcclxuICB9XHJcbn1cclxuXHJcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiB1cGRhdGVNb2R1bGUoaWQ6IHN0cmluZywgdXBkYXRlczogUGFydGlhbDxNb2R1bGU+KTogUHJvbWlzZTx7IGRhdGE6IE1vZHVsZSB8IG51bGw7IGVycm9yOiBzdHJpbmcgfCBudWxsIH0+IHtcclxuICBjb25zdCBzdXBhYmFzZSA9IGF3YWl0IGNyZWF0ZVN1cGFiYXNlQ2xpZW50KCk7XHJcbiAgXHJcbiAgdHJ5IHtcclxuICAgIC8vIENoZWNrIGFkbWluIGFjY2Vzc1xyXG4gICAgY29uc3QgYWRtaW5DaGVjayA9IGF3YWl0IGlzQWRtaW4oc3VwYWJhc2UpO1xyXG4gICAgaWYgKCFhZG1pbkNoZWNrKSB7XHJcbiAgICAgIHJldHVybiB7IGRhdGE6IG51bGwsIGVycm9yOiAnQWNjZXNzIGRlbmllZC4gQWRtaW4gb3IgdGVhY2hlciByb2xlIHJlcXVpcmVkLicgfTtcclxuICAgIH1cclxuXHJcbiAgICBjb25zdCB7IGRhdGEsIGVycm9yIH0gPSBhd2FpdCBzdXBhYmFzZVxyXG4gICAgICAuZnJvbSgnbW9kdWxlcycpXHJcbiAgICAgIC51cGRhdGUodXBkYXRlcylcclxuICAgICAgLmVxKCdpZCcsIGlkKVxyXG4gICAgICAuc2VsZWN0KClcclxuICAgICAgLnNpbmdsZSgpO1xyXG5cclxuICAgIGlmIChlcnJvcikge1xyXG4gICAgICByZXR1cm4geyBkYXRhOiBudWxsLCBlcnJvcjogZXJyb3IubWVzc2FnZSB9O1xyXG4gICAgfVxyXG5cclxuICAgIC8vIFJldmFsaWRhdGUgdGhlIGNhY2hlIHRvIGVuc3VyZSBmcm9udGVuZCByZWZsZWN0cyBjaGFuZ2VzXHJcbiAgICByZXZhbGlkYXRlUGF0aCgnL2NvdXJzZXMnKTtcclxuICAgIHJldmFsaWRhdGVQYXRoKCcvZGFzaGJvYXJkJyk7XHJcbiAgICBcclxuICAgIHJldHVybiB7IGRhdGEsIGVycm9yOiBudWxsIH07XHJcbiAgfSBjYXRjaCAoZXJyb3I6IGFueSkge1xyXG4gICAgcmV0dXJuIHsgZGF0YTogbnVsbCwgZXJyb3I6IGVycm9yLm1lc3NhZ2UgfTtcclxuICB9XHJcbn1cclxuXHJcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBkZWxldGVNb2R1bGUoaWQ6IHN0cmluZyk6IFByb21pc2U8eyBlcnJvcjogc3RyaW5nIHwgbnVsbCB9PiB7XHJcbiAgY29uc3Qgc3VwYWJhc2UgPSBhd2FpdCBjcmVhdGVTdXBhYmFzZUNsaWVudCgpO1xyXG4gIFxyXG4gIHRyeSB7XHJcbiAgICAvLyBDaGVjayBhZG1pbiBhY2Nlc3NcclxuICAgIGNvbnN0IGFkbWluQ2hlY2sgPSBhd2FpdCBpc0FkbWluKHN1cGFiYXNlKTtcclxuICAgIGlmICghYWRtaW5DaGVjaykge1xyXG4gICAgICByZXR1cm4geyBlcnJvcjogJ0FjY2VzcyBkZW5pZWQuIEFkbWluIG9yIHRlYWNoZXIgcm9sZSByZXF1aXJlZC4nIH07XHJcbiAgICB9XHJcblxyXG4gICAgY29uc3QgeyBlcnJvciB9ID0gYXdhaXQgc3VwYWJhc2VcclxuICAgICAgLmZyb20oJ21vZHVsZXMnKVxyXG4gICAgICAuZGVsZXRlKClcclxuICAgICAgLmVxKCdpZCcsIGlkKTtcclxuXHJcbiAgICBpZiAoZXJyb3IpIHtcclxuICAgICAgcmV0dXJuIHsgZXJyb3I6IGVycm9yLm1lc3NhZ2UgfTtcclxuICAgIH1cclxuXHJcbiAgICAvLyBSZXZhbGlkYXRlIHRoZSBjYWNoZSB0byBlbnN1cmUgZnJvbnRlbmQgcmVmbGVjdHMgY2hhbmdlc1xyXG4gICAgcmV2YWxpZGF0ZVBhdGgoJy9jb3Vyc2VzJyk7XHJcbiAgICByZXZhbGlkYXRlUGF0aCgnL2Rhc2hib2FyZCcpO1xyXG4gICAgXHJcbiAgICByZXR1cm4geyBlcnJvcjogbnVsbCB9O1xyXG4gIH0gY2F0Y2ggKGVycm9yOiBhbnkpIHtcclxuICAgIHJldHVybiB7IGVycm9yOiBlcnJvci5tZXNzYWdlIH07XHJcbiAgfVxyXG59XHJcblxyXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gcmVvcmRlck1vZHVsZXMoY291cnNlSWQ6IHN0cmluZywgbW9kdWxlSWRzOiBzdHJpbmdbXSk6IFByb21pc2U8eyBlcnJvcjogc3RyaW5nIHwgbnVsbCB9PiB7XHJcbiAgY29uc3Qgc3VwYWJhc2UgPSBhd2FpdCBjcmVhdGVTdXBhYmFzZUNsaWVudCgpO1xyXG4gIFxyXG4gIHRyeSB7XHJcbiAgICAvLyBDaGVjayBhZG1pbiBhY2Nlc3NcclxuICAgIGNvbnN0IGFkbWluQ2hlY2sgPSBhd2FpdCBpc0FkbWluKHN1cGFiYXNlKTtcclxuICAgIGlmICghYWRtaW5DaGVjaykge1xyXG4gICAgICByZXR1cm4geyBlcnJvcjogJ0FjY2VzcyBkZW5pZWQuIEFkbWluIG9yIHRlYWNoZXIgcm9sZSByZXF1aXJlZC4nIH07XHJcbiAgICB9XHJcblxyXG4gICAgLy8gVXBkYXRlIGFsbCBtb2R1bGVzIHdpdGggdGhlaXIgbmV3IHBvc2l0aW9ucyBpbiBhIHNpbmdsZSB0cmFuc2FjdGlvblxyXG4gICAgY29uc3QgdXBkYXRlcyA9IG1vZHVsZUlkcy5tYXAoKGlkLCBpbmRleCkgPT4gKHtcclxuICAgICAgaWQsXHJcbiAgICAgIG9yZGVyX2luZGV4OiBpbmRleCAqIDEwIC8vIFVzZSBpbmNyZW1lbnRzIG9mIDEwIHRvIGFsbG93IGZvciBmdXR1cmUgaW5zZXJ0aW9ucyBiZXR3ZWVuIGl0ZW1zXHJcbiAgICB9KSk7XHJcblxyXG4gICAgLy8gUGVyZm9ybSB1cGRhdGVzIGluIGEgYmF0Y2hcclxuICAgIGZvciAoY29uc3QgdXBkYXRlIG9mIHVwZGF0ZXMpIHtcclxuICAgICAgY29uc3QgeyBlcnJvciB9ID0gYXdhaXQgc3VwYWJhc2VcclxuICAgICAgICAuZnJvbSgnbW9kdWxlcycpXHJcbiAgICAgICAgLnVwZGF0ZSh7IG9yZGVyX2luZGV4OiB1cGRhdGUub3JkZXJfaW5kZXggfSlcclxuICAgICAgICAuZXEoJ2lkJywgdXBkYXRlLmlkKVxyXG4gICAgICAgIC5lcSgnY291cnNlX2lkJywgY291cnNlSWQpOyAvLyBBZGRpdGlvbmFsIHNhZmV0eSBjaGVja1xyXG5cclxuICAgICAgaWYgKGVycm9yKSB7XHJcbiAgICAgICAgcmV0dXJuIHsgZXJyb3I6IGVycm9yLm1lc3NhZ2UgfTtcclxuICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8vIFJldmFsaWRhdGUgdGhlIGNhY2hlIHRvIGVuc3VyZSBmcm9udGVuZCByZWZsZWN0cyBjaGFuZ2VzXHJcbiAgICByZXZhbGlkYXRlUGF0aCgnL2NvdXJzZXMnKTtcclxuICAgIHJldmFsaWRhdGVQYXRoKCcvZGFzaGJvYXJkJyk7XHJcbiAgICBcclxuICAgIHJldHVybiB7IGVycm9yOiBudWxsIH07XHJcbiAgfSBjYXRjaCAoZXJyb3I6IGFueSkge1xyXG4gICAgcmV0dXJuIHsgZXJyb3I6IGVycm9yLm1lc3NhZ2UgfTtcclxuICB9XHJcbn1cclxuXHJcbi8vIExlc3NvbiBBY3Rpb25zXHJcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBsaXN0TGVzc29ucyhtb2R1bGVJZDogc3RyaW5nKTogUHJvbWlzZTx7IGRhdGE6IExlc3NvbltdIHwgbnVsbDsgZXJyb3I6IHN0cmluZyB8IG51bGwgfT4ge1xyXG4gIGNvbnN0IHN1cGFiYXNlID0gYXdhaXQgY3JlYXRlU3VwYWJhc2VDbGllbnQoKTtcclxuICBcclxuICB0cnkge1xyXG4gICAgLy8gQ2hlY2sgYWRtaW4gYWNjZXNzXHJcbiAgICBjb25zdCBhZG1pbkNoZWNrID0gYXdhaXQgaXNBZG1pbihzdXBhYmFzZSk7XHJcbiAgICBpZiAoIWFkbWluQ2hlY2spIHtcclxuICAgICAgcmV0dXJuIHsgZGF0YTogbnVsbCwgZXJyb3I6ICdBY2Nlc3MgZGVuaWVkLiBBZG1pbiBvciB0ZWFjaGVyIHJvbGUgcmVxdWlyZWQuJyB9O1xyXG4gICAgfVxyXG5cclxuICAgIGNvbnN0IHsgZGF0YSwgZXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlXHJcbiAgICAgIC5mcm9tKCdsZXNzb25zJylcclxuICAgICAgLnNlbGVjdCgnKicpXHJcbiAgICAgIC5lcSgnbW9kdWxlX2lkJywgbW9kdWxlSWQpXHJcbiAgICAgIC5vcmRlcignb3JkZXJfaW5kZXgnLCB7IGFzY2VuZGluZzogdHJ1ZSB9KTtcclxuXHJcbiAgICBpZiAoZXJyb3IpIHtcclxuICAgICAgcmV0dXJuIHsgZGF0YTogbnVsbCwgZXJyb3I6IGVycm9yLm1lc3NhZ2UgfTtcclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4geyBkYXRhLCBlcnJvcjogbnVsbCB9O1xyXG4gIH0gY2F0Y2ggKGVycm9yOiBhbnkpIHtcclxuICAgIHJldHVybiB7IGRhdGE6IG51bGwsIGVycm9yOiBlcnJvci5tZXNzYWdlIH07XHJcbiAgfVxyXG59XHJcblxyXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gY3JlYXRlTGVzc29uKFxyXG4gIG1vZHVsZUlkOiBzdHJpbmcsIFxyXG4gIHRpdGxlOiBzdHJpbmcsIFxyXG4gIGRlc2NyaXB0aW9uOiBzdHJpbmcsIFxyXG4gIHlvdXR1YmVVcmw6IHN0cmluZ1xyXG4pOiBQcm9taXNlPHsgZGF0YTogTGVzc29uIHwgbnVsbDsgZXJyb3I6IHN0cmluZyB8IG51bGwgfT4ge1xyXG4gIGNvbnN0IHN1cGFiYXNlID0gYXdhaXQgY3JlYXRlU3VwYWJhc2VDbGllbnQoKTtcclxuICBcclxuICB0cnkge1xyXG4gICAgLy8gQ2hlY2sgYWRtaW4gYWNjZXNzXHJcbiAgICBjb25zdCBhZG1pbkNoZWNrID0gYXdhaXQgaXNBZG1pbihzdXBhYmFzZSk7XHJcbiAgICBpZiAoIWFkbWluQ2hlY2spIHtcclxuICAgICAgcmV0dXJuIHsgZGF0YTogbnVsbCwgZXJyb3I6ICdBY2Nlc3MgZGVuaWVkLiBBZG1pbiBvciB0ZWFjaGVyIHJvbGUgcmVxdWlyZWQuJyB9O1xyXG4gICAgfVxyXG5cclxuICAgIC8vIFBhcnNlIHRoZSBZb3VUdWJlIFVSTFxyXG4gICAgY29uc3QgcGFyc2VkID0gcGFyc2VZb3VUdWJlKHlvdXR1YmVVcmwpO1xyXG4gICAgaWYgKHBhcnNlZC5lcnJvcikge1xyXG4gICAgICByZXR1cm4geyBkYXRhOiBudWxsLCBlcnJvcjogcGFyc2VkLmVycm9yIH07XHJcbiAgICB9XHJcblxyXG4gICAgLy8gR2V0IHRoZSBoaWdoZXN0IG9yZGVyX2luZGV4IHRvIGRldGVybWluZSB0aGUgbmV3IHBvc2l0aW9uXHJcbiAgICBjb25zdCB7IGRhdGE6IGV4aXN0aW5nTGVzc29ucyB9ID0gYXdhaXQgc3VwYWJhc2VcclxuICAgICAgLmZyb20oJ2xlc3NvbnMnKVxyXG4gICAgICAuc2VsZWN0KCdvcmRlcl9pbmRleCcpXHJcbiAgICAgIC5lcSgnbW9kdWxlX2lkJywgbW9kdWxlSWQpXHJcbiAgICAgIC5vcmRlcignb3JkZXJfaW5kZXgnLCB7IGFzY2VuZGluZzogZmFsc2UgfSlcclxuICAgICAgLmxpbWl0KDEpO1xyXG5cclxuICAgIGNvbnN0IG5ld09yZGVySW5kZXggPSBleGlzdGluZ0xlc3NvbnMgJiYgZXhpc3RpbmdMZXNzb25zLmxlbmd0aCA+IDAgXHJcbiAgICAgID8gZXhpc3RpbmdMZXNzb25zWzBdLm9yZGVyX2luZGV4ICsgMTAgXHJcbiAgICAgIDogMDtcclxuXHJcbiAgICBjb25zdCB7IGRhdGEsIGVycm9yIH0gPSBhd2FpdCBzdXBhYmFzZVxyXG4gICAgICAuZnJvbSgnbGVzc29ucycpXHJcbiAgICAgIC5pbnNlcnQoW3tcclxuICAgICAgICBtb2R1bGVfaWQ6IG1vZHVsZUlkLFxyXG4gICAgICAgIHRpdGxlLFxyXG4gICAgICAgIGRlc2NyaXB0aW9uLFxyXG4gICAgICAgIHlvdXR1YmVfdmlkZW9faWQ6IHBhcnNlZC52aWRlb0lkLFxyXG4gICAgICAgIHZpZGVvX3VybDogcGFyc2VkLmVtYmVkVXJsLFxyXG4gICAgICAgIG9yZGVyX2luZGV4OiBuZXdPcmRlckluZGV4LFxyXG4gICAgICAgIGlzX3ByZXZpZXc6IGZhbHNlLFxyXG4gICAgICAgIGlzX3B1Ymxpc2hlZDogdHJ1ZVxyXG4gICAgICB9XSlcclxuICAgICAgLnNlbGVjdCgpXHJcbiAgICAgIC5zaW5nbGUoKTtcclxuXHJcbiAgICBpZiAoZXJyb3IpIHtcclxuICAgICAgcmV0dXJuIHsgZGF0YTogbnVsbCwgZXJyb3I6IGVycm9yLm1lc3NhZ2UgfTtcclxuICAgIH1cclxuXHJcbiAgICAvLyBSZXZhbGlkYXRlIHRoZSBjYWNoZSB0byBlbnN1cmUgZnJvbnRlbmQgcmVmbGVjdHMgY2hhbmdlc1xyXG4gICAgcmV2YWxpZGF0ZVBhdGgoJy9jb3Vyc2VzJyk7XHJcbiAgICByZXZhbGlkYXRlUGF0aCgnL2Rhc2hib2FyZCcpO1xyXG4gICAgXHJcbiAgICByZXR1cm4geyBkYXRhLCBlcnJvcjogbnVsbCB9O1xyXG4gIH0gY2F0Y2ggKGVycm9yOiBhbnkpIHtcclxuICAgIHJldHVybiB7IGRhdGE6IG51bGwsIGVycm9yOiBlcnJvci5tZXNzYWdlIH07XHJcbiAgfVxyXG59XHJcblxyXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gdXBkYXRlTGVzc29uKFxyXG4gIGlkOiBzdHJpbmcsIFxyXG4gIHVwZGF0ZXM6IFBhcnRpYWw8T21pdDxMZXNzb24sICdpZCcgfCAnbW9kdWxlX2lkJyB8ICdjcmVhdGVkX2F0JyB8ICd1cGRhdGVkX2F0Jz4+XHJcbik6IFByb21pc2U8eyBkYXRhOiBMZXNzb24gfCBudWxsOyBlcnJvcjogc3RyaW5nIHwgbnVsbCB9PiB7XHJcbiAgY29uc3Qgc3VwYWJhc2UgPSBhd2FpdCBjcmVhdGVTdXBhYmFzZUNsaWVudCgpO1xyXG4gIFxyXG4gIHRyeSB7XHJcbiAgICAvLyBDaGVjayBhZG1pbiBhY2Nlc3NcclxuICAgIGNvbnN0IGFkbWluQ2hlY2sgPSBhd2FpdCBpc0FkbWluKHN1cGFiYXNlKTtcclxuICAgIGlmICghYWRtaW5DaGVjaykge1xyXG4gICAgICByZXR1cm4geyBkYXRhOiBudWxsLCBlcnJvcjogJ0FjY2VzcyBkZW5pZWQuIEFkbWluIG9yIHRlYWNoZXIgcm9sZSByZXF1aXJlZC4nIH07XHJcbiAgICB9XHJcblxyXG4gICAgLy8gSWYgdXBkYXRpbmcgWW91VHViZSBVUkwsIHBhcnNlIGl0IGZpcnN0XHJcbiAgICBpZiAodXBkYXRlcy52aWRlb191cmwpIHtcclxuICAgICAgY29uc3QgcGFyc2VkID0gcGFyc2VZb3VUdWJlKHVwZGF0ZXMudmlkZW9fdXJsKTtcclxuICAgICAgaWYgKHBhcnNlZC5lcnJvcikge1xyXG4gICAgICAgIHJldHVybiB7IGRhdGE6IG51bGwsIGVycm9yOiBwYXJzZWQuZXJyb3IgfTtcclxuICAgICAgfVxyXG4gICAgICB1cGRhdGVzLnlvdXR1YmVfdmlkZW9faWQgPSBwYXJzZWQudmlkZW9JZDtcclxuICAgICAgdXBkYXRlcy52aWRlb191cmwgPSBwYXJzZWQuZW1iZWRVcmw7XHJcbiAgICB9XHJcblxyXG4gICAgY29uc3QgeyBkYXRhLCBlcnJvciB9ID0gYXdhaXQgc3VwYWJhc2VcclxuICAgICAgLmZyb20oJ2xlc3NvbnMnKVxyXG4gICAgICAudXBkYXRlKHVwZGF0ZXMpXHJcbiAgICAgIC5lcSgnaWQnLCBpZClcclxuICAgICAgLnNlbGVjdCgpXHJcbiAgICAgIC5zaW5nbGUoKTtcclxuXHJcbiAgICBpZiAoZXJyb3IpIHtcclxuICAgICAgcmV0dXJuIHsgZGF0YTogbnVsbCwgZXJyb3I6IGVycm9yLm1lc3NhZ2UgfTtcclxuICAgIH1cclxuXHJcbiAgICAvLyBSZXZhbGlkYXRlIHRoZSBjYWNoZSB0byBlbnN1cmUgZnJvbnRlbmQgcmVmbGVjdHMgY2hhbmdlc1xyXG4gICAgcmV2YWxpZGF0ZVBhdGgoJy9jb3Vyc2VzJyk7XHJcbiAgICByZXZhbGlkYXRlUGF0aCgnL2Rhc2hib2FyZCcpO1xyXG4gICAgXHJcbiAgICByZXR1cm4geyBkYXRhLCBlcnJvcjogbnVsbCB9O1xyXG4gIH0gY2F0Y2ggKGVycm9yOiBhbnkpIHtcclxuICAgIHJldHVybiB7IGRhdGE6IG51bGwsIGVycm9yOiBlcnJvci5tZXNzYWdlIH07XHJcbiAgfVxyXG59XHJcblxyXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZGVsZXRlTGVzc29uKGlkOiBzdHJpbmcpOiBQcm9taXNlPHsgZXJyb3I6IHN0cmluZyB8IG51bGwgfT4ge1xyXG4gIGNvbnN0IHN1cGFiYXNlID0gYXdhaXQgY3JlYXRlU3VwYWJhc2VDbGllbnQoKTtcclxuICBcclxuICB0cnkge1xyXG4gICAgLy8gQ2hlY2sgYWRtaW4gYWNjZXNzXHJcbiAgICBjb25zdCBhZG1pbkNoZWNrID0gYXdhaXQgaXNBZG1pbihzdXBhYmFzZSk7XHJcbiAgICBpZiAoIWFkbWluQ2hlY2spIHtcclxuICAgICAgcmV0dXJuIHsgZXJyb3I6ICdBY2Nlc3MgZGVuaWVkLiBBZG1pbiBvciB0ZWFjaGVyIHJvbGUgcmVxdWlyZWQuJyB9O1xyXG4gICAgfVxyXG5cclxuICAgIGNvbnN0IHsgZXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlXHJcbiAgICAgIC5mcm9tKCdsZXNzb25zJylcclxuICAgICAgLmRlbGV0ZSgpXHJcbiAgICAgIC5lcSgnaWQnLCBpZCk7XHJcblxyXG4gICAgaWYgKGVycm9yKSB7XHJcbiAgICAgIHJldHVybiB7IGVycm9yOiBlcnJvci5tZXNzYWdlIH07XHJcbiAgICB9XHJcblxyXG4gICAgLy8gUmV2YWxpZGF0ZSB0aGUgY2FjaGUgdG8gZW5zdXJlIGZyb250ZW5kIHJlZmxlY3RzIGNoYW5nZXNcclxuICAgIHJldmFsaWRhdGVQYXRoKCcvY291cnNlcycpO1xyXG4gICAgcmV2YWxpZGF0ZVBhdGgoJy9kYXNoYm9hcmQnKTtcclxuICAgIFxyXG4gICAgcmV0dXJuIHsgZXJyb3I6IG51bGwgfTtcclxuICB9IGNhdGNoIChlcnJvcjogYW55KSB7XHJcbiAgICByZXR1cm4geyBlcnJvcjogZXJyb3IubWVzc2FnZSB9O1xyXG4gIH1cclxufVxyXG5cclxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIHJlb3JkZXJMZXNzb25zKG1vZHVsZUlkOiBzdHJpbmcsIGxlc3Nvbklkczogc3RyaW5nW10pOiBQcm9taXNlPHsgZXJyb3I6IHN0cmluZyB8IG51bGwgfT4ge1xyXG4gIGNvbnN0IHN1cGFiYXNlID0gYXdhaXQgY3JlYXRlU3VwYWJhc2VDbGllbnQoKTtcclxuICBcclxuICB0cnkge1xyXG4gICAgLy8gQ2hlY2sgYWRtaW4gYWNjZXNzXHJcbiAgICBjb25zdCBhZG1pbkNoZWNrID0gYXdhaXQgaXNBZG1pbihzdXBhYmFzZSk7XHJcbiAgICBpZiAoIWFkbWluQ2hlY2spIHtcclxuICAgICAgcmV0dXJuIHsgZXJyb3I6ICdBY2Nlc3MgZGVuaWVkLiBBZG1pbiBvciB0ZWFjaGVyIHJvbGUgcmVxdWlyZWQuJyB9O1xyXG4gICAgfVxyXG5cclxuICAgIC8vIFVwZGF0ZSBhbGwgbGVzc29ucyB3aXRoIHRoZWlyIG5ldyBwb3NpdGlvbnMgaW4gYSBzaW5nbGUgdHJhbnNhY3Rpb25cclxuICAgIGNvbnN0IHVwZGF0ZXMgPSBsZXNzb25JZHMubWFwKChpZCwgaW5kZXgpID0+ICh7XHJcbiAgICAgIGlkLFxyXG4gICAgICBvcmRlcl9pbmRleDogaW5kZXggKiAxMCAvLyBVc2UgaW5jcmVtZW50cyBvZiAxMCB0byBhbGxvdyBmb3IgZnV0dXJlIGluc2VydGlvbnMgYmV0d2VlbiBpdGVtc1xyXG4gICAgfSkpO1xyXG5cclxuICAgIC8vIFBlcmZvcm0gdXBkYXRlcyBpbiBhIGJhdGNoXHJcbiAgICBmb3IgKGNvbnN0IHVwZGF0ZSBvZiB1cGRhdGVzKSB7XHJcbiAgICAgIGNvbnN0IHsgZXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlXHJcbiAgICAgICAgLmZyb20oJ2xlc3NvbnMnKVxyXG4gICAgICAgIC51cGRhdGUoeyBvcmRlcl9pbmRleDogdXBkYXRlLm9yZGVyX2luZGV4IH0pXHJcbiAgICAgICAgLmVxKCdpZCcsIHVwZGF0ZS5pZClcclxuICAgICAgICAuZXEoJ21vZHVsZV9pZCcsIG1vZHVsZUlkKTsgLy8gQWRkaXRpb25hbCBzYWZldHkgY2hlY2tcclxuXHJcbiAgICAgIGlmIChlcnJvcikge1xyXG4gICAgICAgIHJldHVybiB7IGVycm9yOiBlcnJvci5tZXNzYWdlIH07XHJcbiAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvLyBSZXZhbGlkYXRlIHRoZSBjYWNoZSB0byBlbnN1cmUgZnJvbnRlbmQgcmVmbGVjdHMgY2hhbmdlc1xyXG4gICAgcmV2YWxpZGF0ZVBhdGgoJy9jb3Vyc2VzJyk7XHJcbiAgICByZXZhbGlkYXRlUGF0aCgnL2Rhc2hib2FyZCcpO1xyXG4gICAgXHJcbiAgICByZXR1cm4geyBlcnJvcjogbnVsbCB9O1xyXG4gIH0gY2F0Y2ggKGVycm9yOiBhbnkpIHtcclxuICAgIHJldHVybiB7IGVycm9yOiBlcnJvci5tZXNzYWdlIH07XHJcbiAgfVxyXG59Il0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI0UkE2WnNCLDBMQUFBIn0=
}),
"[project]/src/actions/data:a634bc [app-ssr] (ecmascript) <text/javascript>", ((__turbopack_context__) => {
"use strict";

__turbopack_context__.s([
    "deleteLesson",
    ()=>$$RSC_SERVER_ACTION_13
]);
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$build$2f$webpack$2f$loaders$2f$next$2d$flight$2d$loader$2f$action$2d$client$2d$wrapper$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/next/dist/build/webpack/loaders/next-flight-loader/action-client-wrapper.js [app-ssr] (ecmascript)");
/* __next_internal_action_entry_do_not_use__ [{"400a05ef8d432a3c4ed68bbb7dc7ea3e67e5767d27":"deleteLesson"},"src/actions/courseActions.ts",""] */ "use turbopack no side effects";
;
const $$RSC_SERVER_ACTION_13 = /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$build$2f$webpack$2f$loaders$2f$next$2d$flight$2d$loader$2f$action$2d$client$2d$wrapper$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["createServerReference"])("400a05ef8d432a3c4ed68bbb7dc7ea3e67e5767d27", __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$build$2f$webpack$2f$loaders$2f$next$2d$flight$2d$loader$2f$action$2d$client$2d$wrapper$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["callServer"], void 0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$build$2f$webpack$2f$loaders$2f$next$2d$flight$2d$loader$2f$action$2d$client$2d$wrapper$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["findSourceMapURL"], "deleteLesson");
;
 //# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4vY291cnNlQWN0aW9ucy50cyJdLCJzb3VyY2VzQ29udGVudCI6WyIndXNlIHNlcnZlcidcclxuXHJcbmltcG9ydCB7IGNvb2tpZXMgfSBmcm9tICduZXh0L2hlYWRlcnMnO1xyXG5pbXBvcnQgeyBjcmVhdGVTZXJ2ZXJDbGllbnQgfSBmcm9tICdAc3VwYWJhc2Uvc3NyJztcclxuaW1wb3J0IHsgcmV2YWxpZGF0ZVBhdGggfSBmcm9tICduZXh0L2NhY2hlJztcclxuaW1wb3J0IHsgcGFyc2VZb3VUdWJlIH0gZnJvbSAnQC9saWIveW91dHViZVBhcnNlcic7XHJcblxyXG4vLyBUeXBlIGRlZmluaXRpb25zXHJcbnR5cGUgQ291cnNlID0ge1xyXG4gIGlkOiBzdHJpbmc7XHJcbiAgdGl0bGU6IHN0cmluZztcclxuICBkZXNjcmlwdGlvbjogc3RyaW5nO1xyXG4gIGlzX3B1Ymxpc2hlZDogYm9vbGVhbjtcclxuICBjcmVhdGVkX2F0OiBzdHJpbmc7XHJcbiAgdXBkYXRlZF9hdDogc3RyaW5nO1xyXG59O1xyXG5cclxudHlwZSBNb2R1bGUgPSB7XHJcbiAgaWQ6IHN0cmluZztcclxuICBjb3Vyc2VfaWQ6IHN0cmluZztcclxuICB0aXRsZTogc3RyaW5nO1xyXG4gIG9yZGVyX2luZGV4OiBudW1iZXI7XHJcbn07XHJcblxyXG50eXBlIExlc3NvbiA9IHtcclxuICBpZDogc3RyaW5nO1xyXG4gIG1vZHVsZV9pZDogc3RyaW5nO1xyXG4gIHRpdGxlOiBzdHJpbmc7XHJcbiAgZGVzY3JpcHRpb246IHN0cmluZztcclxuICBvcmRlcl9pbmRleDogbnVtYmVyO1xyXG4gIHZpZGVvX3Byb3ZpZGVyOiBzdHJpbmc7XHJcbiAgdmlkZW9fdXJsOiBzdHJpbmcgfCBudWxsO1xyXG4gIHlvdXR1YmVfdmlkZW9faWQ6IHN0cmluZyB8IG51bGw7XHJcbiAgaXNfcHJldmlldzogYm9vbGVhbjtcclxuICBpc19wdWJsaXNoZWQ6IGJvb2xlYW47XHJcbiAgY3JlYXRlZF9hdDogc3RyaW5nO1xyXG4gIHVwZGF0ZWRfYXQ6IHN0cmluZztcclxufTtcclxuXHJcbi8vIEhlbHBlciBmdW5jdGlvbiB0byBjcmVhdGUgU3VwYWJhc2UgY2xpZW50IGZvciBzZXJ2ZXIgYWN0aW9uc1xyXG5hc3luYyBmdW5jdGlvbiBjcmVhdGVTdXBhYmFzZUNsaWVudCgpIHtcclxuICBjb25zdCBjb29raWVTdG9yZSA9IGF3YWl0IGNvb2tpZXMoKTtcclxuICByZXR1cm4gY3JlYXRlU2VydmVyQ2xpZW50KFxyXG4gICAgcHJvY2Vzcy5lbnYuTkVYVF9QVUJMSUNfU1VQQUJBU0VfVVJMISxcclxuICAgIHByb2Nlc3MuZW52Lk5FWFRfUFVCTElDX1NVUEFCQVNFX0FOT05fS0VZISxcclxuICAgIHtcclxuICAgICAgY29va2llczoge1xyXG4gICAgICAgIGdldDogKG5hbWU6IHN0cmluZykgPT4ge1xyXG4gICAgICAgICAgY29uc3QgY29va2llID0gY29va2llU3RvcmUuZ2V0KG5hbWUpO1xyXG4gICAgICAgICAgcmV0dXJuIGNvb2tpZSA/IGNvb2tpZS52YWx1ZSA6IHVuZGVmaW5lZDtcclxuICAgICAgICB9LFxyXG4gICAgICB9LFxyXG4gICAgfVxyXG4gICk7XHJcbn1cclxuXHJcbi8vIENoZWNrIGlmIHVzZXIgaXMgYWRtaW5cclxuYXN5bmMgZnVuY3Rpb24gaXNBZG1pbihzdXBhYmFzZTogYW55KTogUHJvbWlzZTxib29sZWFuPiB7XHJcbiAgY29uc3Qge1xyXG4gICAgZGF0YTogeyB1c2VyIH0sXHJcbiAgICBlcnJvcjogdXNlckVycm9yLFxyXG4gIH0gPSBhd2FpdCBzdXBhYmFzZS5hdXRoLmdldFVzZXIoKTtcclxuXHJcbiAgaWYgKHVzZXJFcnJvciB8fCAhdXNlcikge1xyXG4gICAgcmV0dXJuIGZhbHNlO1xyXG4gIH1cclxuXHJcbiAgY29uc3QgeyBkYXRhOiBwcm9maWxlLCBlcnJvcjogcHJvZmlsZUVycm9yIH0gPSBhd2FpdCBzdXBhYmFzZVxyXG4gICAgLmZyb20oJ3Byb2ZpbGVzJylcclxuICAgIC5zZWxlY3QoJ3JvbGUnKVxyXG4gICAgLmVxKCdpZCcsIHVzZXIuaWQpXHJcbiAgICAuc2luZ2xlKCk7XHJcblxyXG4gIGlmIChwcm9maWxlRXJyb3IgfHwgIXByb2ZpbGUpIHtcclxuICAgIHJldHVybiBmYWxzZTtcclxuICB9XHJcblxyXG4gIHJldHVybiBwcm9maWxlLnJvbGUgPT09ICdhZG1pbicgfHwgcHJvZmlsZS5yb2xlID09PSAndGVhY2hlcic7XHJcbn1cclxuXHJcbi8vIENvdXJzZSBBY3Rpb25zXHJcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBsaXN0Q291cnNlcygpOiBQcm9taXNlPHsgZGF0YTogQ291cnNlW10gfCBudWxsOyBlcnJvcjogc3RyaW5nIHwgbnVsbCB9PiB7XHJcbiAgY29uc3Qgc3VwYWJhc2UgPSBhd2FpdCBjcmVhdGVTdXBhYmFzZUNsaWVudCgpO1xyXG4gIFxyXG4gIHRyeSB7XHJcbiAgICAvLyBDaGVjayBhZG1pbiBhY2Nlc3NcclxuICAgIGNvbnN0IGFkbWluQ2hlY2sgPSBhd2FpdCBpc0FkbWluKHN1cGFiYXNlKTtcclxuICAgIGlmICghYWRtaW5DaGVjaykge1xyXG4gICAgICBjb25zb2xlLmxvZygnREVCVUc6IGxpc3RDb3Vyc2VzIC0gQWNjZXNzIGRlbmllZCwgbm90IGFkbWluL3RlYWNoZXInKTtcclxuICAgICAgcmV0dXJuIHsgZGF0YTogbnVsbCwgZXJyb3I6ICdBY2Nlc3MgZGVuaWVkLiBBZG1pbiBvciB0ZWFjaGVyIHJvbGUgcmVxdWlyZWQuJyB9O1xyXG4gICAgfVxyXG4gICAgXHJcbiAgICBjb25zb2xlLmxvZygnREVCVUc6IGxpc3RDb3Vyc2VzIC0gRmV0Y2hpbmcgYWxsIGNvdXJzZXMgZm9yIGFkbWluJyk7XHJcbiAgICBcclxuICAgIGNvbnN0IHsgZGF0YSwgZXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlXHJcbiAgICAgIC5mcm9tKCdjb3Vyc2VzJylcclxuICAgICAgLnNlbGVjdCgnKicpXHJcbiAgICAgIC5vcmRlcignY3JlYXRlZF9hdCcsIHsgYXNjZW5kaW5nOiBmYWxzZSB9KTtcclxuICAgIFxyXG4gICAgY29uc29sZS5sb2coJ0RFQlVHOiBsaXN0Q291cnNlcyAtIFF1ZXJ5IHJlc3VsdDonLCB7IGRhdGE6IGRhdGE/Lmxlbmd0aCwgZXJyb3IgfSk7XHJcbiAgICBcclxuICAgIGlmIChlcnJvcikge1xyXG4gICAgICBjb25zb2xlLmVycm9yKCdERUJVRzogbGlzdENvdXJzZXMgLSBTdXBhYmFzZSBlcnJvcjonLCBlcnJvcik7XHJcbiAgICAgIHJldHVybiB7IGRhdGE6IG51bGwsIGVycm9yOiBlcnJvci5tZXNzYWdlIH07XHJcbiAgICB9XHJcblxyXG4gICAgY29uc29sZS5sb2coJ0RFQlVHOiBsaXN0Q291cnNlcyAtIFJldHVybmluZyBjb3Vyc2VzOicsIGRhdGE/Lmxlbmd0aCk7XHJcbiAgICByZXR1cm4geyBkYXRhLCBlcnJvcjogbnVsbCB9O1xyXG4gIH0gY2F0Y2ggKGVycm9yOiBhbnkpIHtcclxuICAgIGNvbnNvbGUuZXJyb3IoJ0RFQlVHOiBsaXN0Q291cnNlcyAtIEV4Y2VwdGlvbjonLCBlcnJvcik7XHJcbiAgICByZXR1cm4geyBkYXRhOiBudWxsLCBlcnJvcjogZXJyb3IubWVzc2FnZSB9O1xyXG4gIH1cclxufVxyXG5cclxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGNyZWF0ZUNvdXJzZSh0aXRsZTogc3RyaW5nLCBkZXNjcmlwdGlvbjogc3RyaW5nKTogUHJvbWlzZTx7IGRhdGE6IENvdXJzZSB8IG51bGw7IGVycm9yOiBzdHJpbmcgfCBudWxsIH0+IHtcclxuICBjb25zdCBzdXBhYmFzZSA9IGF3YWl0IGNyZWF0ZVN1cGFiYXNlQ2xpZW50KCk7XHJcbiAgXHJcbiAgdHJ5IHtcclxuICAgIC8vIENoZWNrIGFkbWluIGFjY2Vzc1xyXG4gICAgY29uc3QgYWRtaW5DaGVjayA9IGF3YWl0IGlzQWRtaW4oc3VwYWJhc2UpO1xyXG4gICAgaWYgKCFhZG1pbkNoZWNrKSB7XHJcbiAgICAgIGNvbnNvbGUubG9nKCdERUJVRzogY3JlYXRlQ291cnNlIC0gQWNjZXNzIGRlbmllZCwgbm90IGFkbWluL3RlYWNoZXInKTtcclxuICAgICAgcmV0dXJuIHsgZGF0YTogbnVsbCwgZXJyb3I6ICdBY2Nlc3MgZGVuaWVkLiBBZG1pbiBvciB0ZWFjaGVyIHJvbGUgcmVxdWlyZWQuJyB9O1xyXG4gICAgfVxyXG4gICAgXHJcbiAgICBjb25zb2xlLmxvZygnREVCVUc6IGNyZWF0ZUNvdXJzZSAtIENyZWF0aW5nIGNvdXJzZTonLCB7IHRpdGxlLCBkZXNjcmlwdGlvbiB9KTtcclxuXHJcbiAgICBjb25zdCB7IGRhdGEsIGVycm9yIH0gPSBhd2FpdCBzdXBhYmFzZVxyXG4gICAgICAuZnJvbSgnY291cnNlcycpXHJcbiAgICAgIC5pbnNlcnQoW3sgdGl0bGUsIGRlc2NyaXB0aW9uIH1dKVxyXG4gICAgICAuc2VsZWN0KClcclxuICAgICAgLnNpbmdsZSgpO1xyXG4gICAgXHJcbiAgICBjb25zb2xlLmxvZygnREVCVUc6IGNyZWF0ZUNvdXJzZSAtIEluc2VydCByZXN1bHQ6JywgeyBkYXRhOiAhIWRhdGEsIGVycm9yIH0pO1xyXG5cclxuICAgIGlmIChlcnJvcikge1xyXG4gICAgICBjb25zb2xlLmVycm9yKCdERUJVRzogY3JlYXRlQ291cnNlIC0gU3VwYWJhc2UgZXJyb3I6JywgZXJyb3IpO1xyXG4gICAgICByZXR1cm4geyBkYXRhOiBudWxsLCBlcnJvcjogZXJyb3IubWVzc2FnZSB9O1xyXG4gICAgfVxyXG5cclxuICAgIC8vIFJldmFsaWRhdGUgdGhlIGNhY2hlIHRvIGVuc3VyZSBmcm9udGVuZCByZWZsZWN0cyBjaGFuZ2VzXHJcbiAgICByZXZhbGlkYXRlUGF0aCgnL2NvdXJzZXMnKTtcclxuICAgIHJldmFsaWRhdGVQYXRoKCcvZGFzaGJvYXJkJyk7XHJcbiAgICBcclxuICAgIGNvbnNvbGUubG9nKCdERUJVRzogY3JlYXRlQ291cnNlIC0gQ291cnNlIGNyZWF0ZWQgc3VjY2Vzc2Z1bGx5LCBjYWNoZSBpbnZhbGlkYXRlZCcpO1xyXG4gICAgXHJcbiAgICByZXR1cm4geyBkYXRhLCBlcnJvcjogbnVsbCB9O1xyXG4gIH0gY2F0Y2ggKGVycm9yOiBhbnkpIHtcclxuICAgIGNvbnNvbGUuZXJyb3IoJ0RFQlVHOiBjcmVhdGVDb3Vyc2UgLSBFeGNlcHRpb246JywgZXJyb3IpO1xyXG4gICAgcmV0dXJuIHsgZGF0YTogbnVsbCwgZXJyb3I6IGVycm9yLm1lc3NhZ2UgfTtcclxuICB9XHJcbn1cclxuXHJcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiB1cGRhdGVDb3Vyc2UoaWQ6IHN0cmluZywgdXBkYXRlczogUGFydGlhbDxDb3Vyc2U+KTogUHJvbWlzZTx7IGRhdGE6IENvdXJzZSB8IG51bGw7IGVycm9yOiBzdHJpbmcgfCBudWxsIH0+IHtcclxuICBjb25zdCBzdXBhYmFzZSA9IGF3YWl0IGNyZWF0ZVN1cGFiYXNlQ2xpZW50KCk7XHJcbiAgXHJcbiAgdHJ5IHtcclxuICAgIC8vIENoZWNrIGFkbWluIGFjY2Vzc1xyXG4gICAgY29uc3QgYWRtaW5DaGVjayA9IGF3YWl0IGlzQWRtaW4oc3VwYWJhc2UpO1xyXG4gICAgaWYgKCFhZG1pbkNoZWNrKSB7XHJcbiAgICAgIHJldHVybiB7IGRhdGE6IG51bGwsIGVycm9yOiAnQWNjZXNzIGRlbmllZC4gQWRtaW4gb3IgdGVhY2hlciByb2xlIHJlcXVpcmVkLicgfTtcclxuICAgIH1cclxuXHJcbiAgICBjb25zdCB7IGRhdGEsIGVycm9yIH0gPSBhd2FpdCBzdXBhYmFzZVxyXG4gICAgICAuZnJvbSgnY291cnNlcycpXHJcbiAgICAgIC51cGRhdGUodXBkYXRlcylcclxuICAgICAgLmVxKCdpZCcsIGlkKVxyXG4gICAgICAuc2VsZWN0KClcclxuICAgICAgLnNpbmdsZSgpO1xyXG5cclxuICAgIGlmIChlcnJvcikge1xyXG4gICAgICByZXR1cm4geyBkYXRhOiBudWxsLCBlcnJvcjogZXJyb3IubWVzc2FnZSB9O1xyXG4gICAgfVxyXG5cclxuICAgIC8vIFJldmFsaWRhdGUgdGhlIGNhY2hlIHRvIGVuc3VyZSBmcm9udGVuZCByZWZsZWN0cyBjaGFuZ2VzXHJcbiAgICByZXZhbGlkYXRlUGF0aCgnL2NvdXJzZXMnKTtcclxuICAgIHJldmFsaWRhdGVQYXRoKCcvZGFzaGJvYXJkJyk7XHJcbiAgICBcclxuICAgIHJldHVybiB7IGRhdGEsIGVycm9yOiBudWxsIH07XHJcbiAgfSBjYXRjaCAoZXJyb3I6IGFueSkge1xyXG4gICAgcmV0dXJuIHsgZGF0YTogbnVsbCwgZXJyb3I6IGVycm9yLm1lc3NhZ2UgfTtcclxuICB9XHJcbn1cclxuXHJcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBkZWxldGVDb3Vyc2UoaWQ6IHN0cmluZyk6IFByb21pc2U8eyBlcnJvcjogc3RyaW5nIHwgbnVsbCB9PiB7XHJcbiAgY29uc3Qgc3VwYWJhc2UgPSBhd2FpdCBjcmVhdGVTdXBhYmFzZUNsaWVudCgpO1xyXG4gIFxyXG4gIHRyeSB7XHJcbiAgICAvLyBDaGVjayBhZG1pbiBhY2Nlc3NcclxuICAgIGNvbnN0IGFkbWluQ2hlY2sgPSBhd2FpdCBpc0FkbWluKHN1cGFiYXNlKTtcclxuICAgIGlmICghYWRtaW5DaGVjaykge1xyXG4gICAgICByZXR1cm4geyBlcnJvcjogJ0FjY2VzcyBkZW5pZWQuIEFkbWluIG9yIHRlYWNoZXIgcm9sZSByZXF1aXJlZC4nIH07XHJcbiAgICB9XHJcblxyXG4gICAgY29uc3QgeyBlcnJvciB9ID0gYXdhaXQgc3VwYWJhc2VcclxuICAgICAgLmZyb20oJ2NvdXJzZXMnKVxyXG4gICAgICAuZGVsZXRlKClcclxuICAgICAgLmVxKCdpZCcsIGlkKTtcclxuXHJcbiAgICBpZiAoZXJyb3IpIHtcclxuICAgICAgcmV0dXJuIHsgZXJyb3I6IGVycm9yLm1lc3NhZ2UgfTtcclxuICAgIH1cclxuXHJcbiAgICAvLyBSZXZhbGlkYXRlIHRoZSBjYWNoZSB0byBlbnN1cmUgZnJvbnRlbmQgcmVmbGVjdHMgY2hhbmdlc1xyXG4gICAgcmV2YWxpZGF0ZVBhdGgoJy9jb3Vyc2VzJyk7XHJcbiAgICByZXZhbGlkYXRlUGF0aCgnL2Rhc2hib2FyZCcpO1xyXG4gICAgXHJcbiAgICByZXR1cm4geyBlcnJvcjogbnVsbCB9O1xyXG4gIH0gY2F0Y2ggKGVycm9yOiBhbnkpIHtcclxuICAgIHJldHVybiB7IGVycm9yOiBlcnJvci5tZXNzYWdlIH07XHJcbiAgfVxyXG59XHJcblxyXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gcHVibGlzaENvdXJzZShpZDogc3RyaW5nLCBpc1B1Ymxpc2hlZDogYm9vbGVhbik6IFByb21pc2U8eyBkYXRhOiBDb3Vyc2UgfCBudWxsOyBlcnJvcjogc3RyaW5nIHwgbnVsbCB9PiB7XHJcbiAgY29uc3Qgc3VwYWJhc2UgPSBhd2FpdCBjcmVhdGVTdXBhYmFzZUNsaWVudCgpO1xyXG4gIFxyXG4gIHRyeSB7XHJcbiAgICAvLyBDaGVjayBhZG1pbiBhY2Nlc3NcclxuICAgIGNvbnN0IGFkbWluQ2hlY2sgPSBhd2FpdCBpc0FkbWluKHN1cGFiYXNlKTtcclxuICAgIGlmICghYWRtaW5DaGVjaykge1xyXG4gICAgICByZXR1cm4geyBkYXRhOiBudWxsLCBlcnJvcjogJ0FjY2VzcyBkZW5pZWQuIEFkbWluIG9yIHRlYWNoZXIgcm9sZSByZXF1aXJlZC4nIH07XHJcbiAgICB9XHJcblxyXG4gICAgY29uc3QgeyBkYXRhLCBlcnJvciB9ID0gYXdhaXQgc3VwYWJhc2VcclxuICAgICAgLmZyb20oJ2NvdXJzZXMnKVxyXG4gICAgICAudXBkYXRlKHsgaXNfcHVibGlzaGVkOiBpc1B1Ymxpc2hlZCB9KVxyXG4gICAgICAuZXEoJ2lkJywgaWQpXHJcbiAgICAgIC5zZWxlY3QoKVxyXG4gICAgICAuc2luZ2xlKCk7XHJcblxyXG4gICAgaWYgKGVycm9yKSB7XHJcbiAgICAgIHJldHVybiB7IGRhdGE6IG51bGwsIGVycm9yOiBlcnJvci5tZXNzYWdlIH07XHJcbiAgICB9XHJcblxyXG4gICAgLy8gUmV2YWxpZGF0ZSB0aGUgY2FjaGUgdG8gZW5zdXJlIGZyb250ZW5kIHJlZmxlY3RzIGNoYW5nZXNcclxuICAgIHJldmFsaWRhdGVQYXRoKCcvY291cnNlcycpO1xyXG4gICAgcmV2YWxpZGF0ZVBhdGgoJy9kYXNoYm9hcmQnKTtcclxuICAgIFxyXG4gICAgcmV0dXJuIHsgZGF0YSwgZXJyb3I6IG51bGwgfTtcclxuICB9IGNhdGNoIChlcnJvcjogYW55KSB7XHJcbiAgICByZXR1cm4geyBkYXRhOiBudWxsLCBlcnJvcjogZXJyb3IubWVzc2FnZSB9O1xyXG4gIH1cclxufVxyXG5cclxuLy8gTW9kdWxlIEFjdGlvbnNcclxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGxpc3RNb2R1bGVzKGNvdXJzZUlkOiBzdHJpbmcpOiBQcm9taXNlPHsgZGF0YTogTW9kdWxlW10gfCBudWxsOyBlcnJvcjogc3RyaW5nIHwgbnVsbCB9PiB7XHJcbiAgY29uc3Qgc3VwYWJhc2UgPSBhd2FpdCBjcmVhdGVTdXBhYmFzZUNsaWVudCgpO1xyXG4gIFxyXG4gIHRyeSB7XHJcbiAgICAvLyBDaGVjayBhZG1pbiBhY2Nlc3NcclxuICAgIGNvbnN0IGFkbWluQ2hlY2sgPSBhd2FpdCBpc0FkbWluKHN1cGFiYXNlKTtcclxuICAgIGlmICghYWRtaW5DaGVjaykge1xyXG4gICAgICByZXR1cm4geyBkYXRhOiBudWxsLCBlcnJvcjogJ0FjY2VzcyBkZW5pZWQuIEFkbWluIG9yIHRlYWNoZXIgcm9sZSByZXF1aXJlZC4nIH07XHJcbiAgICB9XHJcblxyXG4gICAgY29uc3QgeyBkYXRhLCBlcnJvciB9ID0gYXdhaXQgc3VwYWJhc2VcclxuICAgICAgLmZyb20oJ21vZHVsZXMnKVxyXG4gICAgICAuc2VsZWN0KCcqJylcclxuICAgICAgLmVxKCdjb3Vyc2VfaWQnLCBjb3Vyc2VJZClcclxuICAgICAgLm9yZGVyKCdvcmRlcl9pbmRleCcsIHsgYXNjZW5kaW5nOiB0cnVlIH0pO1xyXG5cclxuICAgIGlmIChlcnJvcikge1xyXG4gICAgICByZXR1cm4geyBkYXRhOiBudWxsLCBlcnJvcjogZXJyb3IubWVzc2FnZSB9O1xyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiB7IGRhdGEsIGVycm9yOiBudWxsIH07XHJcbiAgfSBjYXRjaCAoZXJyb3I6IGFueSkge1xyXG4gICAgcmV0dXJuIHsgZGF0YTogbnVsbCwgZXJyb3I6IGVycm9yLm1lc3NhZ2UgfTtcclxuICB9XHJcbn1cclxuXHJcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBjcmVhdGVNb2R1bGUoY291cnNlSWQ6IHN0cmluZywgdGl0bGU6IHN0cmluZyk6IFByb21pc2U8eyBkYXRhOiBNb2R1bGUgfCBudWxsOyBlcnJvcjogc3RyaW5nIHwgbnVsbCB9PiB7XHJcbiAgY29uc3Qgc3VwYWJhc2UgPSBhd2FpdCBjcmVhdGVTdXBhYmFzZUNsaWVudCgpO1xyXG4gIFxyXG4gIHRyeSB7XHJcbiAgICAvLyBDaGVjayBhZG1pbiBhY2Nlc3NcclxuICAgIGNvbnN0IGFkbWluQ2hlY2sgPSBhd2FpdCBpc0FkbWluKHN1cGFiYXNlKTtcclxuICAgIGlmICghYWRtaW5DaGVjaykge1xyXG4gICAgICByZXR1cm4geyBkYXRhOiBudWxsLCBlcnJvcjogJ0FjY2VzcyBkZW5pZWQuIEFkbWluIG9yIHRlYWNoZXIgcm9sZSByZXF1aXJlZC4nIH07XHJcbiAgICB9XHJcblxyXG4gICAgLy8gR2V0IHRoZSBoaWdoZXN0IG9yZGVyX2luZGV4IHRvIGRldGVybWluZSB0aGUgbmV3IHBvc2l0aW9uXHJcbiAgICBjb25zdCB7IGRhdGE6IGV4aXN0aW5nTW9kdWxlcyB9ID0gYXdhaXQgc3VwYWJhc2VcclxuICAgICAgLmZyb20oJ21vZHVsZXMnKVxyXG4gICAgICAuc2VsZWN0KCdvcmRlcl9pbmRleCcpXHJcbiAgICAgIC5lcSgnY291cnNlX2lkJywgY291cnNlSWQpXHJcbiAgICAgIC5vcmRlcignb3JkZXJfaW5kZXgnLCB7IGFzY2VuZGluZzogZmFsc2UgfSlcclxuICAgICAgLmxpbWl0KDEpO1xyXG5cclxuICAgIGNvbnN0IG5ld09yZGVySW5kZXggPSBleGlzdGluZ01vZHVsZXMgJiYgZXhpc3RpbmdNb2R1bGVzLmxlbmd0aCA+IDAgXHJcbiAgICAgID8gZXhpc3RpbmdNb2R1bGVzWzBdLm9yZGVyX2luZGV4ICsgMTAgXHJcbiAgICAgIDogMDtcclxuXHJcbiAgICBjb25zdCB7IGRhdGEsIGVycm9yIH0gPSBhd2FpdCBzdXBhYmFzZVxyXG4gICAgICAuZnJvbSgnbW9kdWxlcycpXHJcbiAgICAgIC5pbnNlcnQoW3sgY291cnNlX2lkOiBjb3Vyc2VJZCwgdGl0bGUsIG9yZGVyX2luZGV4OiBuZXdPcmRlckluZGV4IH1dKVxyXG4gICAgICAuc2VsZWN0KClcclxuICAgICAgLnNpbmdsZSgpO1xyXG5cclxuICAgIGlmIChlcnJvcikge1xyXG4gICAgICByZXR1cm4geyBkYXRhOiBudWxsLCBlcnJvcjogZXJyb3IubWVzc2FnZSB9O1xyXG4gICAgfVxyXG5cclxuICAgIC8vIFJldmFsaWRhdGUgdGhlIGNhY2hlIHRvIGVuc3VyZSBmcm9udGVuZCByZWZsZWN0cyBjaGFuZ2VzXHJcbiAgICByZXZhbGlkYXRlUGF0aCgnL2NvdXJzZXMnKTtcclxuICAgIHJldmFsaWRhdGVQYXRoKCcvZGFzaGJvYXJkJyk7XHJcbiAgICBcclxuICAgIHJldHVybiB7IGRhdGEsIGVycm9yOiBudWxsIH07XHJcbiAgfSBjYXRjaCAoZXJyb3I6IGFueSkge1xyXG4gICAgcmV0dXJuIHsgZGF0YTogbnVsbCwgZXJyb3I6IGVycm9yLm1lc3NhZ2UgfTtcclxuICB9XHJcbn1cclxuXHJcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiB1cGRhdGVNb2R1bGUoaWQ6IHN0cmluZywgdXBkYXRlczogUGFydGlhbDxNb2R1bGU+KTogUHJvbWlzZTx7IGRhdGE6IE1vZHVsZSB8IG51bGw7IGVycm9yOiBzdHJpbmcgfCBudWxsIH0+IHtcclxuICBjb25zdCBzdXBhYmFzZSA9IGF3YWl0IGNyZWF0ZVN1cGFiYXNlQ2xpZW50KCk7XHJcbiAgXHJcbiAgdHJ5IHtcclxuICAgIC8vIENoZWNrIGFkbWluIGFjY2Vzc1xyXG4gICAgY29uc3QgYWRtaW5DaGVjayA9IGF3YWl0IGlzQWRtaW4oc3VwYWJhc2UpO1xyXG4gICAgaWYgKCFhZG1pbkNoZWNrKSB7XHJcbiAgICAgIHJldHVybiB7IGRhdGE6IG51bGwsIGVycm9yOiAnQWNjZXNzIGRlbmllZC4gQWRtaW4gb3IgdGVhY2hlciByb2xlIHJlcXVpcmVkLicgfTtcclxuICAgIH1cclxuXHJcbiAgICBjb25zdCB7IGRhdGEsIGVycm9yIH0gPSBhd2FpdCBzdXBhYmFzZVxyXG4gICAgICAuZnJvbSgnbW9kdWxlcycpXHJcbiAgICAgIC51cGRhdGUodXBkYXRlcylcclxuICAgICAgLmVxKCdpZCcsIGlkKVxyXG4gICAgICAuc2VsZWN0KClcclxuICAgICAgLnNpbmdsZSgpO1xyXG5cclxuICAgIGlmIChlcnJvcikge1xyXG4gICAgICByZXR1cm4geyBkYXRhOiBudWxsLCBlcnJvcjogZXJyb3IubWVzc2FnZSB9O1xyXG4gICAgfVxyXG5cclxuICAgIC8vIFJldmFsaWRhdGUgdGhlIGNhY2hlIHRvIGVuc3VyZSBmcm9udGVuZCByZWZsZWN0cyBjaGFuZ2VzXHJcbiAgICByZXZhbGlkYXRlUGF0aCgnL2NvdXJzZXMnKTtcclxuICAgIHJldmFsaWRhdGVQYXRoKCcvZGFzaGJvYXJkJyk7XHJcbiAgICBcclxuICAgIHJldHVybiB7IGRhdGEsIGVycm9yOiBudWxsIH07XHJcbiAgfSBjYXRjaCAoZXJyb3I6IGFueSkge1xyXG4gICAgcmV0dXJuIHsgZGF0YTogbnVsbCwgZXJyb3I6IGVycm9yLm1lc3NhZ2UgfTtcclxuICB9XHJcbn1cclxuXHJcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBkZWxldGVNb2R1bGUoaWQ6IHN0cmluZyk6IFByb21pc2U8eyBlcnJvcjogc3RyaW5nIHwgbnVsbCB9PiB7XHJcbiAgY29uc3Qgc3VwYWJhc2UgPSBhd2FpdCBjcmVhdGVTdXBhYmFzZUNsaWVudCgpO1xyXG4gIFxyXG4gIHRyeSB7XHJcbiAgICAvLyBDaGVjayBhZG1pbiBhY2Nlc3NcclxuICAgIGNvbnN0IGFkbWluQ2hlY2sgPSBhd2FpdCBpc0FkbWluKHN1cGFiYXNlKTtcclxuICAgIGlmICghYWRtaW5DaGVjaykge1xyXG4gICAgICByZXR1cm4geyBlcnJvcjogJ0FjY2VzcyBkZW5pZWQuIEFkbWluIG9yIHRlYWNoZXIgcm9sZSByZXF1aXJlZC4nIH07XHJcbiAgICB9XHJcblxyXG4gICAgY29uc3QgeyBlcnJvciB9ID0gYXdhaXQgc3VwYWJhc2VcclxuICAgICAgLmZyb20oJ21vZHVsZXMnKVxyXG4gICAgICAuZGVsZXRlKClcclxuICAgICAgLmVxKCdpZCcsIGlkKTtcclxuXHJcbiAgICBpZiAoZXJyb3IpIHtcclxuICAgICAgcmV0dXJuIHsgZXJyb3I6IGVycm9yLm1lc3NhZ2UgfTtcclxuICAgIH1cclxuXHJcbiAgICAvLyBSZXZhbGlkYXRlIHRoZSBjYWNoZSB0byBlbnN1cmUgZnJvbnRlbmQgcmVmbGVjdHMgY2hhbmdlc1xyXG4gICAgcmV2YWxpZGF0ZVBhdGgoJy9jb3Vyc2VzJyk7XHJcbiAgICByZXZhbGlkYXRlUGF0aCgnL2Rhc2hib2FyZCcpO1xyXG4gICAgXHJcbiAgICByZXR1cm4geyBlcnJvcjogbnVsbCB9O1xyXG4gIH0gY2F0Y2ggKGVycm9yOiBhbnkpIHtcclxuICAgIHJldHVybiB7IGVycm9yOiBlcnJvci5tZXNzYWdlIH07XHJcbiAgfVxyXG59XHJcblxyXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gcmVvcmRlck1vZHVsZXMoY291cnNlSWQ6IHN0cmluZywgbW9kdWxlSWRzOiBzdHJpbmdbXSk6IFByb21pc2U8eyBlcnJvcjogc3RyaW5nIHwgbnVsbCB9PiB7XHJcbiAgY29uc3Qgc3VwYWJhc2UgPSBhd2FpdCBjcmVhdGVTdXBhYmFzZUNsaWVudCgpO1xyXG4gIFxyXG4gIHRyeSB7XHJcbiAgICAvLyBDaGVjayBhZG1pbiBhY2Nlc3NcclxuICAgIGNvbnN0IGFkbWluQ2hlY2sgPSBhd2FpdCBpc0FkbWluKHN1cGFiYXNlKTtcclxuICAgIGlmICghYWRtaW5DaGVjaykge1xyXG4gICAgICByZXR1cm4geyBlcnJvcjogJ0FjY2VzcyBkZW5pZWQuIEFkbWluIG9yIHRlYWNoZXIgcm9sZSByZXF1aXJlZC4nIH07XHJcbiAgICB9XHJcblxyXG4gICAgLy8gVXBkYXRlIGFsbCBtb2R1bGVzIHdpdGggdGhlaXIgbmV3IHBvc2l0aW9ucyBpbiBhIHNpbmdsZSB0cmFuc2FjdGlvblxyXG4gICAgY29uc3QgdXBkYXRlcyA9IG1vZHVsZUlkcy5tYXAoKGlkLCBpbmRleCkgPT4gKHtcclxuICAgICAgaWQsXHJcbiAgICAgIG9yZGVyX2luZGV4OiBpbmRleCAqIDEwIC8vIFVzZSBpbmNyZW1lbnRzIG9mIDEwIHRvIGFsbG93IGZvciBmdXR1cmUgaW5zZXJ0aW9ucyBiZXR3ZWVuIGl0ZW1zXHJcbiAgICB9KSk7XHJcblxyXG4gICAgLy8gUGVyZm9ybSB1cGRhdGVzIGluIGEgYmF0Y2hcclxuICAgIGZvciAoY29uc3QgdXBkYXRlIG9mIHVwZGF0ZXMpIHtcclxuICAgICAgY29uc3QgeyBlcnJvciB9ID0gYXdhaXQgc3VwYWJhc2VcclxuICAgICAgICAuZnJvbSgnbW9kdWxlcycpXHJcbiAgICAgICAgLnVwZGF0ZSh7IG9yZGVyX2luZGV4OiB1cGRhdGUub3JkZXJfaW5kZXggfSlcclxuICAgICAgICAuZXEoJ2lkJywgdXBkYXRlLmlkKVxyXG4gICAgICAgIC5lcSgnY291cnNlX2lkJywgY291cnNlSWQpOyAvLyBBZGRpdGlvbmFsIHNhZmV0eSBjaGVja1xyXG5cclxuICAgICAgaWYgKGVycm9yKSB7XHJcbiAgICAgICAgcmV0dXJuIHsgZXJyb3I6IGVycm9yLm1lc3NhZ2UgfTtcclxuICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8vIFJldmFsaWRhdGUgdGhlIGNhY2hlIHRvIGVuc3VyZSBmcm9udGVuZCByZWZsZWN0cyBjaGFuZ2VzXHJcbiAgICByZXZhbGlkYXRlUGF0aCgnL2NvdXJzZXMnKTtcclxuICAgIHJldmFsaWRhdGVQYXRoKCcvZGFzaGJvYXJkJyk7XHJcbiAgICBcclxuICAgIHJldHVybiB7IGVycm9yOiBudWxsIH07XHJcbiAgfSBjYXRjaCAoZXJyb3I6IGFueSkge1xyXG4gICAgcmV0dXJuIHsgZXJyb3I6IGVycm9yLm1lc3NhZ2UgfTtcclxuICB9XHJcbn1cclxuXHJcbi8vIExlc3NvbiBBY3Rpb25zXHJcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBsaXN0TGVzc29ucyhtb2R1bGVJZDogc3RyaW5nKTogUHJvbWlzZTx7IGRhdGE6IExlc3NvbltdIHwgbnVsbDsgZXJyb3I6IHN0cmluZyB8IG51bGwgfT4ge1xyXG4gIGNvbnN0IHN1cGFiYXNlID0gYXdhaXQgY3JlYXRlU3VwYWJhc2VDbGllbnQoKTtcclxuICBcclxuICB0cnkge1xyXG4gICAgLy8gQ2hlY2sgYWRtaW4gYWNjZXNzXHJcbiAgICBjb25zdCBhZG1pbkNoZWNrID0gYXdhaXQgaXNBZG1pbihzdXBhYmFzZSk7XHJcbiAgICBpZiAoIWFkbWluQ2hlY2spIHtcclxuICAgICAgcmV0dXJuIHsgZGF0YTogbnVsbCwgZXJyb3I6ICdBY2Nlc3MgZGVuaWVkLiBBZG1pbiBvciB0ZWFjaGVyIHJvbGUgcmVxdWlyZWQuJyB9O1xyXG4gICAgfVxyXG5cclxuICAgIGNvbnN0IHsgZGF0YSwgZXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlXHJcbiAgICAgIC5mcm9tKCdsZXNzb25zJylcclxuICAgICAgLnNlbGVjdCgnKicpXHJcbiAgICAgIC5lcSgnbW9kdWxlX2lkJywgbW9kdWxlSWQpXHJcbiAgICAgIC5vcmRlcignb3JkZXJfaW5kZXgnLCB7IGFzY2VuZGluZzogdHJ1ZSB9KTtcclxuXHJcbiAgICBpZiAoZXJyb3IpIHtcclxuICAgICAgcmV0dXJuIHsgZGF0YTogbnVsbCwgZXJyb3I6IGVycm9yLm1lc3NhZ2UgfTtcclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4geyBkYXRhLCBlcnJvcjogbnVsbCB9O1xyXG4gIH0gY2F0Y2ggKGVycm9yOiBhbnkpIHtcclxuICAgIHJldHVybiB7IGRhdGE6IG51bGwsIGVycm9yOiBlcnJvci5tZXNzYWdlIH07XHJcbiAgfVxyXG59XHJcblxyXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gY3JlYXRlTGVzc29uKFxyXG4gIG1vZHVsZUlkOiBzdHJpbmcsIFxyXG4gIHRpdGxlOiBzdHJpbmcsIFxyXG4gIGRlc2NyaXB0aW9uOiBzdHJpbmcsIFxyXG4gIHlvdXR1YmVVcmw6IHN0cmluZ1xyXG4pOiBQcm9taXNlPHsgZGF0YTogTGVzc29uIHwgbnVsbDsgZXJyb3I6IHN0cmluZyB8IG51bGwgfT4ge1xyXG4gIGNvbnN0IHN1cGFiYXNlID0gYXdhaXQgY3JlYXRlU3VwYWJhc2VDbGllbnQoKTtcclxuICBcclxuICB0cnkge1xyXG4gICAgLy8gQ2hlY2sgYWRtaW4gYWNjZXNzXHJcbiAgICBjb25zdCBhZG1pbkNoZWNrID0gYXdhaXQgaXNBZG1pbihzdXBhYmFzZSk7XHJcbiAgICBpZiAoIWFkbWluQ2hlY2spIHtcclxuICAgICAgcmV0dXJuIHsgZGF0YTogbnVsbCwgZXJyb3I6ICdBY2Nlc3MgZGVuaWVkLiBBZG1pbiBvciB0ZWFjaGVyIHJvbGUgcmVxdWlyZWQuJyB9O1xyXG4gICAgfVxyXG5cclxuICAgIC8vIFBhcnNlIHRoZSBZb3VUdWJlIFVSTFxyXG4gICAgY29uc3QgcGFyc2VkID0gcGFyc2VZb3VUdWJlKHlvdXR1YmVVcmwpO1xyXG4gICAgaWYgKHBhcnNlZC5lcnJvcikge1xyXG4gICAgICByZXR1cm4geyBkYXRhOiBudWxsLCBlcnJvcjogcGFyc2VkLmVycm9yIH07XHJcbiAgICB9XHJcblxyXG4gICAgLy8gR2V0IHRoZSBoaWdoZXN0IG9yZGVyX2luZGV4IHRvIGRldGVybWluZSB0aGUgbmV3IHBvc2l0aW9uXHJcbiAgICBjb25zdCB7IGRhdGE6IGV4aXN0aW5nTGVzc29ucyB9ID0gYXdhaXQgc3VwYWJhc2VcclxuICAgICAgLmZyb20oJ2xlc3NvbnMnKVxyXG4gICAgICAuc2VsZWN0KCdvcmRlcl9pbmRleCcpXHJcbiAgICAgIC5lcSgnbW9kdWxlX2lkJywgbW9kdWxlSWQpXHJcbiAgICAgIC5vcmRlcignb3JkZXJfaW5kZXgnLCB7IGFzY2VuZGluZzogZmFsc2UgfSlcclxuICAgICAgLmxpbWl0KDEpO1xyXG5cclxuICAgIGNvbnN0IG5ld09yZGVySW5kZXggPSBleGlzdGluZ0xlc3NvbnMgJiYgZXhpc3RpbmdMZXNzb25zLmxlbmd0aCA+IDAgXHJcbiAgICAgID8gZXhpc3RpbmdMZXNzb25zWzBdLm9yZGVyX2luZGV4ICsgMTAgXHJcbiAgICAgIDogMDtcclxuXHJcbiAgICBjb25zdCB7IGRhdGEsIGVycm9yIH0gPSBhd2FpdCBzdXBhYmFzZVxyXG4gICAgICAuZnJvbSgnbGVzc29ucycpXHJcbiAgICAgIC5pbnNlcnQoW3tcclxuICAgICAgICBtb2R1bGVfaWQ6IG1vZHVsZUlkLFxyXG4gICAgICAgIHRpdGxlLFxyXG4gICAgICAgIGRlc2NyaXB0aW9uLFxyXG4gICAgICAgIHlvdXR1YmVfdmlkZW9faWQ6IHBhcnNlZC52aWRlb0lkLFxyXG4gICAgICAgIHZpZGVvX3VybDogcGFyc2VkLmVtYmVkVXJsLFxyXG4gICAgICAgIG9yZGVyX2luZGV4OiBuZXdPcmRlckluZGV4LFxyXG4gICAgICAgIGlzX3ByZXZpZXc6IGZhbHNlLFxyXG4gICAgICAgIGlzX3B1Ymxpc2hlZDogdHJ1ZVxyXG4gICAgICB9XSlcclxuICAgICAgLnNlbGVjdCgpXHJcbiAgICAgIC5zaW5nbGUoKTtcclxuXHJcbiAgICBpZiAoZXJyb3IpIHtcclxuICAgICAgcmV0dXJuIHsgZGF0YTogbnVsbCwgZXJyb3I6IGVycm9yLm1lc3NhZ2UgfTtcclxuICAgIH1cclxuXHJcbiAgICAvLyBSZXZhbGlkYXRlIHRoZSBjYWNoZSB0byBlbnN1cmUgZnJvbnRlbmQgcmVmbGVjdHMgY2hhbmdlc1xyXG4gICAgcmV2YWxpZGF0ZVBhdGgoJy9jb3Vyc2VzJyk7XHJcbiAgICByZXZhbGlkYXRlUGF0aCgnL2Rhc2hib2FyZCcpO1xyXG4gICAgXHJcbiAgICByZXR1cm4geyBkYXRhLCBlcnJvcjogbnVsbCB9O1xyXG4gIH0gY2F0Y2ggKGVycm9yOiBhbnkpIHtcclxuICAgIHJldHVybiB7IGRhdGE6IG51bGwsIGVycm9yOiBlcnJvci5tZXNzYWdlIH07XHJcbiAgfVxyXG59XHJcblxyXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gdXBkYXRlTGVzc29uKFxyXG4gIGlkOiBzdHJpbmcsIFxyXG4gIHVwZGF0ZXM6IFBhcnRpYWw8T21pdDxMZXNzb24sICdpZCcgfCAnbW9kdWxlX2lkJyB8ICdjcmVhdGVkX2F0JyB8ICd1cGRhdGVkX2F0Jz4+XHJcbik6IFByb21pc2U8eyBkYXRhOiBMZXNzb24gfCBudWxsOyBlcnJvcjogc3RyaW5nIHwgbnVsbCB9PiB7XHJcbiAgY29uc3Qgc3VwYWJhc2UgPSBhd2FpdCBjcmVhdGVTdXBhYmFzZUNsaWVudCgpO1xyXG4gIFxyXG4gIHRyeSB7XHJcbiAgICAvLyBDaGVjayBhZG1pbiBhY2Nlc3NcclxuICAgIGNvbnN0IGFkbWluQ2hlY2sgPSBhd2FpdCBpc0FkbWluKHN1cGFiYXNlKTtcclxuICAgIGlmICghYWRtaW5DaGVjaykge1xyXG4gICAgICByZXR1cm4geyBkYXRhOiBudWxsLCBlcnJvcjogJ0FjY2VzcyBkZW5pZWQuIEFkbWluIG9yIHRlYWNoZXIgcm9sZSByZXF1aXJlZC4nIH07XHJcbiAgICB9XHJcblxyXG4gICAgLy8gSWYgdXBkYXRpbmcgWW91VHViZSBVUkwsIHBhcnNlIGl0IGZpcnN0XHJcbiAgICBpZiAodXBkYXRlcy52aWRlb191cmwpIHtcclxuICAgICAgY29uc3QgcGFyc2VkID0gcGFyc2VZb3VUdWJlKHVwZGF0ZXMudmlkZW9fdXJsKTtcclxuICAgICAgaWYgKHBhcnNlZC5lcnJvcikge1xyXG4gICAgICAgIHJldHVybiB7IGRhdGE6IG51bGwsIGVycm9yOiBwYXJzZWQuZXJyb3IgfTtcclxuICAgICAgfVxyXG4gICAgICB1cGRhdGVzLnlvdXR1YmVfdmlkZW9faWQgPSBwYXJzZWQudmlkZW9JZDtcclxuICAgICAgdXBkYXRlcy52aWRlb191cmwgPSBwYXJzZWQuZW1iZWRVcmw7XHJcbiAgICB9XHJcblxyXG4gICAgY29uc3QgeyBkYXRhLCBlcnJvciB9ID0gYXdhaXQgc3VwYWJhc2VcclxuICAgICAgLmZyb20oJ2xlc3NvbnMnKVxyXG4gICAgICAudXBkYXRlKHVwZGF0ZXMpXHJcbiAgICAgIC5lcSgnaWQnLCBpZClcclxuICAgICAgLnNlbGVjdCgpXHJcbiAgICAgIC5zaW5nbGUoKTtcclxuXHJcbiAgICBpZiAoZXJyb3IpIHtcclxuICAgICAgcmV0dXJuIHsgZGF0YTogbnVsbCwgZXJyb3I6IGVycm9yLm1lc3NhZ2UgfTtcclxuICAgIH1cclxuXHJcbiAgICAvLyBSZXZhbGlkYXRlIHRoZSBjYWNoZSB0byBlbnN1cmUgZnJvbnRlbmQgcmVmbGVjdHMgY2hhbmdlc1xyXG4gICAgcmV2YWxpZGF0ZVBhdGgoJy9jb3Vyc2VzJyk7XHJcbiAgICByZXZhbGlkYXRlUGF0aCgnL2Rhc2hib2FyZCcpO1xyXG4gICAgXHJcbiAgICByZXR1cm4geyBkYXRhLCBlcnJvcjogbnVsbCB9O1xyXG4gIH0gY2F0Y2ggKGVycm9yOiBhbnkpIHtcclxuICAgIHJldHVybiB7IGRhdGE6IG51bGwsIGVycm9yOiBlcnJvci5tZXNzYWdlIH07XHJcbiAgfVxyXG59XHJcblxyXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZGVsZXRlTGVzc29uKGlkOiBzdHJpbmcpOiBQcm9taXNlPHsgZXJyb3I6IHN0cmluZyB8IG51bGwgfT4ge1xyXG4gIGNvbnN0IHN1cGFiYXNlID0gYXdhaXQgY3JlYXRlU3VwYWJhc2VDbGllbnQoKTtcclxuICBcclxuICB0cnkge1xyXG4gICAgLy8gQ2hlY2sgYWRtaW4gYWNjZXNzXHJcbiAgICBjb25zdCBhZG1pbkNoZWNrID0gYXdhaXQgaXNBZG1pbihzdXBhYmFzZSk7XHJcbiAgICBpZiAoIWFkbWluQ2hlY2spIHtcclxuICAgICAgcmV0dXJuIHsgZXJyb3I6ICdBY2Nlc3MgZGVuaWVkLiBBZG1pbiBvciB0ZWFjaGVyIHJvbGUgcmVxdWlyZWQuJyB9O1xyXG4gICAgfVxyXG5cclxuICAgIGNvbnN0IHsgZXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlXHJcbiAgICAgIC5mcm9tKCdsZXNzb25zJylcclxuICAgICAgLmRlbGV0ZSgpXHJcbiAgICAgIC5lcSgnaWQnLCBpZCk7XHJcblxyXG4gICAgaWYgKGVycm9yKSB7XHJcbiAgICAgIHJldHVybiB7IGVycm9yOiBlcnJvci5tZXNzYWdlIH07XHJcbiAgICB9XHJcblxyXG4gICAgLy8gUmV2YWxpZGF0ZSB0aGUgY2FjaGUgdG8gZW5zdXJlIGZyb250ZW5kIHJlZmxlY3RzIGNoYW5nZXNcclxuICAgIHJldmFsaWRhdGVQYXRoKCcvY291cnNlcycpO1xyXG4gICAgcmV2YWxpZGF0ZVBhdGgoJy9kYXNoYm9hcmQnKTtcclxuICAgIFxyXG4gICAgcmV0dXJuIHsgZXJyb3I6IG51bGwgfTtcclxuICB9IGNhdGNoIChlcnJvcjogYW55KSB7XHJcbiAgICByZXR1cm4geyBlcnJvcjogZXJyb3IubWVzc2FnZSB9O1xyXG4gIH1cclxufVxyXG5cclxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIHJlb3JkZXJMZXNzb25zKG1vZHVsZUlkOiBzdHJpbmcsIGxlc3Nvbklkczogc3RyaW5nW10pOiBQcm9taXNlPHsgZXJyb3I6IHN0cmluZyB8IG51bGwgfT4ge1xyXG4gIGNvbnN0IHN1cGFiYXNlID0gYXdhaXQgY3JlYXRlU3VwYWJhc2VDbGllbnQoKTtcclxuICBcclxuICB0cnkge1xyXG4gICAgLy8gQ2hlY2sgYWRtaW4gYWNjZXNzXHJcbiAgICBjb25zdCBhZG1pbkNoZWNrID0gYXdhaXQgaXNBZG1pbihzdXBhYmFzZSk7XHJcbiAgICBpZiAoIWFkbWluQ2hlY2spIHtcclxuICAgICAgcmV0dXJuIHsgZXJyb3I6ICdBY2Nlc3MgZGVuaWVkLiBBZG1pbiBvciB0ZWFjaGVyIHJvbGUgcmVxdWlyZWQuJyB9O1xyXG4gICAgfVxyXG5cclxuICAgIC8vIFVwZGF0ZSBhbGwgbGVzc29ucyB3aXRoIHRoZWlyIG5ldyBwb3NpdGlvbnMgaW4gYSBzaW5nbGUgdHJhbnNhY3Rpb25cclxuICAgIGNvbnN0IHVwZGF0ZXMgPSBsZXNzb25JZHMubWFwKChpZCwgaW5kZXgpID0+ICh7XHJcbiAgICAgIGlkLFxyXG4gICAgICBvcmRlcl9pbmRleDogaW5kZXggKiAxMCAvLyBVc2UgaW5jcmVtZW50cyBvZiAxMCB0byBhbGxvdyBmb3IgZnV0dXJlIGluc2VydGlvbnMgYmV0d2VlbiBpdGVtc1xyXG4gICAgfSkpO1xyXG5cclxuICAgIC8vIFBlcmZvcm0gdXBkYXRlcyBpbiBhIGJhdGNoXHJcbiAgICBmb3IgKGNvbnN0IHVwZGF0ZSBvZiB1cGRhdGVzKSB7XHJcbiAgICAgIGNvbnN0IHsgZXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlXHJcbiAgICAgICAgLmZyb20oJ2xlc3NvbnMnKVxyXG4gICAgICAgIC51cGRhdGUoeyBvcmRlcl9pbmRleDogdXBkYXRlLm9yZGVyX2luZGV4IH0pXHJcbiAgICAgICAgLmVxKCdpZCcsIHVwZGF0ZS5pZClcclxuICAgICAgICAuZXEoJ21vZHVsZV9pZCcsIG1vZHVsZUlkKTsgLy8gQWRkaXRpb25hbCBzYWZldHkgY2hlY2tcclxuXHJcbiAgICAgIGlmIChlcnJvcikge1xyXG4gICAgICAgIHJldHVybiB7IGVycm9yOiBlcnJvci5tZXNzYWdlIH07XHJcbiAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvLyBSZXZhbGlkYXRlIHRoZSBjYWNoZSB0byBlbnN1cmUgZnJvbnRlbmQgcmVmbGVjdHMgY2hhbmdlc1xyXG4gICAgcmV2YWxpZGF0ZVBhdGgoJy9jb3Vyc2VzJyk7XHJcbiAgICByZXZhbGlkYXRlUGF0aCgnL2Rhc2hib2FyZCcpO1xyXG4gICAgXHJcbiAgICByZXR1cm4geyBlcnJvcjogbnVsbCB9O1xyXG4gIH0gY2F0Y2ggKGVycm9yOiBhbnkpIHtcclxuICAgIHJldHVybiB7IGVycm9yOiBlcnJvci5tZXNzYWdlIH07XHJcbiAgfVxyXG59Il0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI2UkFpaUJzQiwyTEFBQSJ9
}),
"[project]/src/actions/data:f716c1 [app-ssr] (ecmascript) <text/javascript>", ((__turbopack_context__) => {
"use strict";

__turbopack_context__.s([
    "reorderLessons",
    ()=>$$RSC_SERVER_ACTION_14
]);
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$build$2f$webpack$2f$loaders$2f$next$2d$flight$2d$loader$2f$action$2d$client$2d$wrapper$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/next/dist/build/webpack/loaders/next-flight-loader/action-client-wrapper.js [app-ssr] (ecmascript)");
/* __next_internal_action_entry_do_not_use__ [{"60a56318eb6059efc1f0fdfdb4070a7fdc94305b9b":"reorderLessons"},"src/actions/courseActions.ts",""] */ "use turbopack no side effects";
;
const $$RSC_SERVER_ACTION_14 = /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$build$2f$webpack$2f$loaders$2f$next$2d$flight$2d$loader$2f$action$2d$client$2d$wrapper$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["createServerReference"])("60a56318eb6059efc1f0fdfdb4070a7fdc94305b9b", __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$build$2f$webpack$2f$loaders$2f$next$2d$flight$2d$loader$2f$action$2d$client$2d$wrapper$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["callServer"], void 0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$build$2f$webpack$2f$loaders$2f$next$2d$flight$2d$loader$2f$action$2d$client$2d$wrapper$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["findSourceMapURL"], "reorderLessons");
;
 //# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4vY291cnNlQWN0aW9ucy50cyJdLCJzb3VyY2VzQ29udGVudCI6WyIndXNlIHNlcnZlcidcclxuXHJcbmltcG9ydCB7IGNvb2tpZXMgfSBmcm9tICduZXh0L2hlYWRlcnMnO1xyXG5pbXBvcnQgeyBjcmVhdGVTZXJ2ZXJDbGllbnQgfSBmcm9tICdAc3VwYWJhc2Uvc3NyJztcclxuaW1wb3J0IHsgcmV2YWxpZGF0ZVBhdGggfSBmcm9tICduZXh0L2NhY2hlJztcclxuaW1wb3J0IHsgcGFyc2VZb3VUdWJlIH0gZnJvbSAnQC9saWIveW91dHViZVBhcnNlcic7XHJcblxyXG4vLyBUeXBlIGRlZmluaXRpb25zXHJcbnR5cGUgQ291cnNlID0ge1xyXG4gIGlkOiBzdHJpbmc7XHJcbiAgdGl0bGU6IHN0cmluZztcclxuICBkZXNjcmlwdGlvbjogc3RyaW5nO1xyXG4gIGlzX3B1Ymxpc2hlZDogYm9vbGVhbjtcclxuICBjcmVhdGVkX2F0OiBzdHJpbmc7XHJcbiAgdXBkYXRlZF9hdDogc3RyaW5nO1xyXG59O1xyXG5cclxudHlwZSBNb2R1bGUgPSB7XHJcbiAgaWQ6IHN0cmluZztcclxuICBjb3Vyc2VfaWQ6IHN0cmluZztcclxuICB0aXRsZTogc3RyaW5nO1xyXG4gIG9yZGVyX2luZGV4OiBudW1iZXI7XHJcbn07XHJcblxyXG50eXBlIExlc3NvbiA9IHtcclxuICBpZDogc3RyaW5nO1xyXG4gIG1vZHVsZV9pZDogc3RyaW5nO1xyXG4gIHRpdGxlOiBzdHJpbmc7XHJcbiAgZGVzY3JpcHRpb246IHN0cmluZztcclxuICBvcmRlcl9pbmRleDogbnVtYmVyO1xyXG4gIHZpZGVvX3Byb3ZpZGVyOiBzdHJpbmc7XHJcbiAgdmlkZW9fdXJsOiBzdHJpbmcgfCBudWxsO1xyXG4gIHlvdXR1YmVfdmlkZW9faWQ6IHN0cmluZyB8IG51bGw7XHJcbiAgaXNfcHJldmlldzogYm9vbGVhbjtcclxuICBpc19wdWJsaXNoZWQ6IGJvb2xlYW47XHJcbiAgY3JlYXRlZF9hdDogc3RyaW5nO1xyXG4gIHVwZGF0ZWRfYXQ6IHN0cmluZztcclxufTtcclxuXHJcbi8vIEhlbHBlciBmdW5jdGlvbiB0byBjcmVhdGUgU3VwYWJhc2UgY2xpZW50IGZvciBzZXJ2ZXIgYWN0aW9uc1xyXG5hc3luYyBmdW5jdGlvbiBjcmVhdGVTdXBhYmFzZUNsaWVudCgpIHtcclxuICBjb25zdCBjb29raWVTdG9yZSA9IGF3YWl0IGNvb2tpZXMoKTtcclxuICByZXR1cm4gY3JlYXRlU2VydmVyQ2xpZW50KFxyXG4gICAgcHJvY2Vzcy5lbnYuTkVYVF9QVUJMSUNfU1VQQUJBU0VfVVJMISxcclxuICAgIHByb2Nlc3MuZW52Lk5FWFRfUFVCTElDX1NVUEFCQVNFX0FOT05fS0VZISxcclxuICAgIHtcclxuICAgICAgY29va2llczoge1xyXG4gICAgICAgIGdldDogKG5hbWU6IHN0cmluZykgPT4ge1xyXG4gICAgICAgICAgY29uc3QgY29va2llID0gY29va2llU3RvcmUuZ2V0KG5hbWUpO1xyXG4gICAgICAgICAgcmV0dXJuIGNvb2tpZSA/IGNvb2tpZS52YWx1ZSA6IHVuZGVmaW5lZDtcclxuICAgICAgICB9LFxyXG4gICAgICB9LFxyXG4gICAgfVxyXG4gICk7XHJcbn1cclxuXHJcbi8vIENoZWNrIGlmIHVzZXIgaXMgYWRtaW5cclxuYXN5bmMgZnVuY3Rpb24gaXNBZG1pbihzdXBhYmFzZTogYW55KTogUHJvbWlzZTxib29sZWFuPiB7XHJcbiAgY29uc3Qge1xyXG4gICAgZGF0YTogeyB1c2VyIH0sXHJcbiAgICBlcnJvcjogdXNlckVycm9yLFxyXG4gIH0gPSBhd2FpdCBzdXBhYmFzZS5hdXRoLmdldFVzZXIoKTtcclxuXHJcbiAgaWYgKHVzZXJFcnJvciB8fCAhdXNlcikge1xyXG4gICAgcmV0dXJuIGZhbHNlO1xyXG4gIH1cclxuXHJcbiAgY29uc3QgeyBkYXRhOiBwcm9maWxlLCBlcnJvcjogcHJvZmlsZUVycm9yIH0gPSBhd2FpdCBzdXBhYmFzZVxyXG4gICAgLmZyb20oJ3Byb2ZpbGVzJylcclxuICAgIC5zZWxlY3QoJ3JvbGUnKVxyXG4gICAgLmVxKCdpZCcsIHVzZXIuaWQpXHJcbiAgICAuc2luZ2xlKCk7XHJcblxyXG4gIGlmIChwcm9maWxlRXJyb3IgfHwgIXByb2ZpbGUpIHtcclxuICAgIHJldHVybiBmYWxzZTtcclxuICB9XHJcblxyXG4gIHJldHVybiBwcm9maWxlLnJvbGUgPT09ICdhZG1pbicgfHwgcHJvZmlsZS5yb2xlID09PSAndGVhY2hlcic7XHJcbn1cclxuXHJcbi8vIENvdXJzZSBBY3Rpb25zXHJcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBsaXN0Q291cnNlcygpOiBQcm9taXNlPHsgZGF0YTogQ291cnNlW10gfCBudWxsOyBlcnJvcjogc3RyaW5nIHwgbnVsbCB9PiB7XHJcbiAgY29uc3Qgc3VwYWJhc2UgPSBhd2FpdCBjcmVhdGVTdXBhYmFzZUNsaWVudCgpO1xyXG4gIFxyXG4gIHRyeSB7XHJcbiAgICAvLyBDaGVjayBhZG1pbiBhY2Nlc3NcclxuICAgIGNvbnN0IGFkbWluQ2hlY2sgPSBhd2FpdCBpc0FkbWluKHN1cGFiYXNlKTtcclxuICAgIGlmICghYWRtaW5DaGVjaykge1xyXG4gICAgICBjb25zb2xlLmxvZygnREVCVUc6IGxpc3RDb3Vyc2VzIC0gQWNjZXNzIGRlbmllZCwgbm90IGFkbWluL3RlYWNoZXInKTtcclxuICAgICAgcmV0dXJuIHsgZGF0YTogbnVsbCwgZXJyb3I6ICdBY2Nlc3MgZGVuaWVkLiBBZG1pbiBvciB0ZWFjaGVyIHJvbGUgcmVxdWlyZWQuJyB9O1xyXG4gICAgfVxyXG4gICAgXHJcbiAgICBjb25zb2xlLmxvZygnREVCVUc6IGxpc3RDb3Vyc2VzIC0gRmV0Y2hpbmcgYWxsIGNvdXJzZXMgZm9yIGFkbWluJyk7XHJcbiAgICBcclxuICAgIGNvbnN0IHsgZGF0YSwgZXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlXHJcbiAgICAgIC5mcm9tKCdjb3Vyc2VzJylcclxuICAgICAgLnNlbGVjdCgnKicpXHJcbiAgICAgIC5vcmRlcignY3JlYXRlZF9hdCcsIHsgYXNjZW5kaW5nOiBmYWxzZSB9KTtcclxuICAgIFxyXG4gICAgY29uc29sZS5sb2coJ0RFQlVHOiBsaXN0Q291cnNlcyAtIFF1ZXJ5IHJlc3VsdDonLCB7IGRhdGE6IGRhdGE/Lmxlbmd0aCwgZXJyb3IgfSk7XHJcbiAgICBcclxuICAgIGlmIChlcnJvcikge1xyXG4gICAgICBjb25zb2xlLmVycm9yKCdERUJVRzogbGlzdENvdXJzZXMgLSBTdXBhYmFzZSBlcnJvcjonLCBlcnJvcik7XHJcbiAgICAgIHJldHVybiB7IGRhdGE6IG51bGwsIGVycm9yOiBlcnJvci5tZXNzYWdlIH07XHJcbiAgICB9XHJcblxyXG4gICAgY29uc29sZS5sb2coJ0RFQlVHOiBsaXN0Q291cnNlcyAtIFJldHVybmluZyBjb3Vyc2VzOicsIGRhdGE/Lmxlbmd0aCk7XHJcbiAgICByZXR1cm4geyBkYXRhLCBlcnJvcjogbnVsbCB9O1xyXG4gIH0gY2F0Y2ggKGVycm9yOiBhbnkpIHtcclxuICAgIGNvbnNvbGUuZXJyb3IoJ0RFQlVHOiBsaXN0Q291cnNlcyAtIEV4Y2VwdGlvbjonLCBlcnJvcik7XHJcbiAgICByZXR1cm4geyBkYXRhOiBudWxsLCBlcnJvcjogZXJyb3IubWVzc2FnZSB9O1xyXG4gIH1cclxufVxyXG5cclxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGNyZWF0ZUNvdXJzZSh0aXRsZTogc3RyaW5nLCBkZXNjcmlwdGlvbjogc3RyaW5nKTogUHJvbWlzZTx7IGRhdGE6IENvdXJzZSB8IG51bGw7IGVycm9yOiBzdHJpbmcgfCBudWxsIH0+IHtcclxuICBjb25zdCBzdXBhYmFzZSA9IGF3YWl0IGNyZWF0ZVN1cGFiYXNlQ2xpZW50KCk7XHJcbiAgXHJcbiAgdHJ5IHtcclxuICAgIC8vIENoZWNrIGFkbWluIGFjY2Vzc1xyXG4gICAgY29uc3QgYWRtaW5DaGVjayA9IGF3YWl0IGlzQWRtaW4oc3VwYWJhc2UpO1xyXG4gICAgaWYgKCFhZG1pbkNoZWNrKSB7XHJcbiAgICAgIGNvbnNvbGUubG9nKCdERUJVRzogY3JlYXRlQ291cnNlIC0gQWNjZXNzIGRlbmllZCwgbm90IGFkbWluL3RlYWNoZXInKTtcclxuICAgICAgcmV0dXJuIHsgZGF0YTogbnVsbCwgZXJyb3I6ICdBY2Nlc3MgZGVuaWVkLiBBZG1pbiBvciB0ZWFjaGVyIHJvbGUgcmVxdWlyZWQuJyB9O1xyXG4gICAgfVxyXG4gICAgXHJcbiAgICBjb25zb2xlLmxvZygnREVCVUc6IGNyZWF0ZUNvdXJzZSAtIENyZWF0aW5nIGNvdXJzZTonLCB7IHRpdGxlLCBkZXNjcmlwdGlvbiB9KTtcclxuXHJcbiAgICBjb25zdCB7IGRhdGEsIGVycm9yIH0gPSBhd2FpdCBzdXBhYmFzZVxyXG4gICAgICAuZnJvbSgnY291cnNlcycpXHJcbiAgICAgIC5pbnNlcnQoW3sgdGl0bGUsIGRlc2NyaXB0aW9uIH1dKVxyXG4gICAgICAuc2VsZWN0KClcclxuICAgICAgLnNpbmdsZSgpO1xyXG4gICAgXHJcbiAgICBjb25zb2xlLmxvZygnREVCVUc6IGNyZWF0ZUNvdXJzZSAtIEluc2VydCByZXN1bHQ6JywgeyBkYXRhOiAhIWRhdGEsIGVycm9yIH0pO1xyXG5cclxuICAgIGlmIChlcnJvcikge1xyXG4gICAgICBjb25zb2xlLmVycm9yKCdERUJVRzogY3JlYXRlQ291cnNlIC0gU3VwYWJhc2UgZXJyb3I6JywgZXJyb3IpO1xyXG4gICAgICByZXR1cm4geyBkYXRhOiBudWxsLCBlcnJvcjogZXJyb3IubWVzc2FnZSB9O1xyXG4gICAgfVxyXG5cclxuICAgIC8vIFJldmFsaWRhdGUgdGhlIGNhY2hlIHRvIGVuc3VyZSBmcm9udGVuZCByZWZsZWN0cyBjaGFuZ2VzXHJcbiAgICByZXZhbGlkYXRlUGF0aCgnL2NvdXJzZXMnKTtcclxuICAgIHJldmFsaWRhdGVQYXRoKCcvZGFzaGJvYXJkJyk7XHJcbiAgICBcclxuICAgIGNvbnNvbGUubG9nKCdERUJVRzogY3JlYXRlQ291cnNlIC0gQ291cnNlIGNyZWF0ZWQgc3VjY2Vzc2Z1bGx5LCBjYWNoZSBpbnZhbGlkYXRlZCcpO1xyXG4gICAgXHJcbiAgICByZXR1cm4geyBkYXRhLCBlcnJvcjogbnVsbCB9O1xyXG4gIH0gY2F0Y2ggKGVycm9yOiBhbnkpIHtcclxuICAgIGNvbnNvbGUuZXJyb3IoJ0RFQlVHOiBjcmVhdGVDb3Vyc2UgLSBFeGNlcHRpb246JywgZXJyb3IpO1xyXG4gICAgcmV0dXJuIHsgZGF0YTogbnVsbCwgZXJyb3I6IGVycm9yLm1lc3NhZ2UgfTtcclxuICB9XHJcbn1cclxuXHJcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiB1cGRhdGVDb3Vyc2UoaWQ6IHN0cmluZywgdXBkYXRlczogUGFydGlhbDxDb3Vyc2U+KTogUHJvbWlzZTx7IGRhdGE6IENvdXJzZSB8IG51bGw7IGVycm9yOiBzdHJpbmcgfCBudWxsIH0+IHtcclxuICBjb25zdCBzdXBhYmFzZSA9IGF3YWl0IGNyZWF0ZVN1cGFiYXNlQ2xpZW50KCk7XHJcbiAgXHJcbiAgdHJ5IHtcclxuICAgIC8vIENoZWNrIGFkbWluIGFjY2Vzc1xyXG4gICAgY29uc3QgYWRtaW5DaGVjayA9IGF3YWl0IGlzQWRtaW4oc3VwYWJhc2UpO1xyXG4gICAgaWYgKCFhZG1pbkNoZWNrKSB7XHJcbiAgICAgIHJldHVybiB7IGRhdGE6IG51bGwsIGVycm9yOiAnQWNjZXNzIGRlbmllZC4gQWRtaW4gb3IgdGVhY2hlciByb2xlIHJlcXVpcmVkLicgfTtcclxuICAgIH1cclxuXHJcbiAgICBjb25zdCB7IGRhdGEsIGVycm9yIH0gPSBhd2FpdCBzdXBhYmFzZVxyXG4gICAgICAuZnJvbSgnY291cnNlcycpXHJcbiAgICAgIC51cGRhdGUodXBkYXRlcylcclxuICAgICAgLmVxKCdpZCcsIGlkKVxyXG4gICAgICAuc2VsZWN0KClcclxuICAgICAgLnNpbmdsZSgpO1xyXG5cclxuICAgIGlmIChlcnJvcikge1xyXG4gICAgICByZXR1cm4geyBkYXRhOiBudWxsLCBlcnJvcjogZXJyb3IubWVzc2FnZSB9O1xyXG4gICAgfVxyXG5cclxuICAgIC8vIFJldmFsaWRhdGUgdGhlIGNhY2hlIHRvIGVuc3VyZSBmcm9udGVuZCByZWZsZWN0cyBjaGFuZ2VzXHJcbiAgICByZXZhbGlkYXRlUGF0aCgnL2NvdXJzZXMnKTtcclxuICAgIHJldmFsaWRhdGVQYXRoKCcvZGFzaGJvYXJkJyk7XHJcbiAgICBcclxuICAgIHJldHVybiB7IGRhdGEsIGVycm9yOiBudWxsIH07XHJcbiAgfSBjYXRjaCAoZXJyb3I6IGFueSkge1xyXG4gICAgcmV0dXJuIHsgZGF0YTogbnVsbCwgZXJyb3I6IGVycm9yLm1lc3NhZ2UgfTtcclxuICB9XHJcbn1cclxuXHJcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBkZWxldGVDb3Vyc2UoaWQ6IHN0cmluZyk6IFByb21pc2U8eyBlcnJvcjogc3RyaW5nIHwgbnVsbCB9PiB7XHJcbiAgY29uc3Qgc3VwYWJhc2UgPSBhd2FpdCBjcmVhdGVTdXBhYmFzZUNsaWVudCgpO1xyXG4gIFxyXG4gIHRyeSB7XHJcbiAgICAvLyBDaGVjayBhZG1pbiBhY2Nlc3NcclxuICAgIGNvbnN0IGFkbWluQ2hlY2sgPSBhd2FpdCBpc0FkbWluKHN1cGFiYXNlKTtcclxuICAgIGlmICghYWRtaW5DaGVjaykge1xyXG4gICAgICByZXR1cm4geyBlcnJvcjogJ0FjY2VzcyBkZW5pZWQuIEFkbWluIG9yIHRlYWNoZXIgcm9sZSByZXF1aXJlZC4nIH07XHJcbiAgICB9XHJcblxyXG4gICAgY29uc3QgeyBlcnJvciB9ID0gYXdhaXQgc3VwYWJhc2VcclxuICAgICAgLmZyb20oJ2NvdXJzZXMnKVxyXG4gICAgICAuZGVsZXRlKClcclxuICAgICAgLmVxKCdpZCcsIGlkKTtcclxuXHJcbiAgICBpZiAoZXJyb3IpIHtcclxuICAgICAgcmV0dXJuIHsgZXJyb3I6IGVycm9yLm1lc3NhZ2UgfTtcclxuICAgIH1cclxuXHJcbiAgICAvLyBSZXZhbGlkYXRlIHRoZSBjYWNoZSB0byBlbnN1cmUgZnJvbnRlbmQgcmVmbGVjdHMgY2hhbmdlc1xyXG4gICAgcmV2YWxpZGF0ZVBhdGgoJy9jb3Vyc2VzJyk7XHJcbiAgICByZXZhbGlkYXRlUGF0aCgnL2Rhc2hib2FyZCcpO1xyXG4gICAgXHJcbiAgICByZXR1cm4geyBlcnJvcjogbnVsbCB9O1xyXG4gIH0gY2F0Y2ggKGVycm9yOiBhbnkpIHtcclxuICAgIHJldHVybiB7IGVycm9yOiBlcnJvci5tZXNzYWdlIH07XHJcbiAgfVxyXG59XHJcblxyXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gcHVibGlzaENvdXJzZShpZDogc3RyaW5nLCBpc1B1Ymxpc2hlZDogYm9vbGVhbik6IFByb21pc2U8eyBkYXRhOiBDb3Vyc2UgfCBudWxsOyBlcnJvcjogc3RyaW5nIHwgbnVsbCB9PiB7XHJcbiAgY29uc3Qgc3VwYWJhc2UgPSBhd2FpdCBjcmVhdGVTdXBhYmFzZUNsaWVudCgpO1xyXG4gIFxyXG4gIHRyeSB7XHJcbiAgICAvLyBDaGVjayBhZG1pbiBhY2Nlc3NcclxuICAgIGNvbnN0IGFkbWluQ2hlY2sgPSBhd2FpdCBpc0FkbWluKHN1cGFiYXNlKTtcclxuICAgIGlmICghYWRtaW5DaGVjaykge1xyXG4gICAgICByZXR1cm4geyBkYXRhOiBudWxsLCBlcnJvcjogJ0FjY2VzcyBkZW5pZWQuIEFkbWluIG9yIHRlYWNoZXIgcm9sZSByZXF1aXJlZC4nIH07XHJcbiAgICB9XHJcblxyXG4gICAgY29uc3QgeyBkYXRhLCBlcnJvciB9ID0gYXdhaXQgc3VwYWJhc2VcclxuICAgICAgLmZyb20oJ2NvdXJzZXMnKVxyXG4gICAgICAudXBkYXRlKHsgaXNfcHVibGlzaGVkOiBpc1B1Ymxpc2hlZCB9KVxyXG4gICAgICAuZXEoJ2lkJywgaWQpXHJcbiAgICAgIC5zZWxlY3QoKVxyXG4gICAgICAuc2luZ2xlKCk7XHJcblxyXG4gICAgaWYgKGVycm9yKSB7XHJcbiAgICAgIHJldHVybiB7IGRhdGE6IG51bGwsIGVycm9yOiBlcnJvci5tZXNzYWdlIH07XHJcbiAgICB9XHJcblxyXG4gICAgLy8gUmV2YWxpZGF0ZSB0aGUgY2FjaGUgdG8gZW5zdXJlIGZyb250ZW5kIHJlZmxlY3RzIGNoYW5nZXNcclxuICAgIHJldmFsaWRhdGVQYXRoKCcvY291cnNlcycpO1xyXG4gICAgcmV2YWxpZGF0ZVBhdGgoJy9kYXNoYm9hcmQnKTtcclxuICAgIFxyXG4gICAgcmV0dXJuIHsgZGF0YSwgZXJyb3I6IG51bGwgfTtcclxuICB9IGNhdGNoIChlcnJvcjogYW55KSB7XHJcbiAgICByZXR1cm4geyBkYXRhOiBudWxsLCBlcnJvcjogZXJyb3IubWVzc2FnZSB9O1xyXG4gIH1cclxufVxyXG5cclxuLy8gTW9kdWxlIEFjdGlvbnNcclxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGxpc3RNb2R1bGVzKGNvdXJzZUlkOiBzdHJpbmcpOiBQcm9taXNlPHsgZGF0YTogTW9kdWxlW10gfCBudWxsOyBlcnJvcjogc3RyaW5nIHwgbnVsbCB9PiB7XHJcbiAgY29uc3Qgc3VwYWJhc2UgPSBhd2FpdCBjcmVhdGVTdXBhYmFzZUNsaWVudCgpO1xyXG4gIFxyXG4gIHRyeSB7XHJcbiAgICAvLyBDaGVjayBhZG1pbiBhY2Nlc3NcclxuICAgIGNvbnN0IGFkbWluQ2hlY2sgPSBhd2FpdCBpc0FkbWluKHN1cGFiYXNlKTtcclxuICAgIGlmICghYWRtaW5DaGVjaykge1xyXG4gICAgICByZXR1cm4geyBkYXRhOiBudWxsLCBlcnJvcjogJ0FjY2VzcyBkZW5pZWQuIEFkbWluIG9yIHRlYWNoZXIgcm9sZSByZXF1aXJlZC4nIH07XHJcbiAgICB9XHJcblxyXG4gICAgY29uc3QgeyBkYXRhLCBlcnJvciB9ID0gYXdhaXQgc3VwYWJhc2VcclxuICAgICAgLmZyb20oJ21vZHVsZXMnKVxyXG4gICAgICAuc2VsZWN0KCcqJylcclxuICAgICAgLmVxKCdjb3Vyc2VfaWQnLCBjb3Vyc2VJZClcclxuICAgICAgLm9yZGVyKCdvcmRlcl9pbmRleCcsIHsgYXNjZW5kaW5nOiB0cnVlIH0pO1xyXG5cclxuICAgIGlmIChlcnJvcikge1xyXG4gICAgICByZXR1cm4geyBkYXRhOiBudWxsLCBlcnJvcjogZXJyb3IubWVzc2FnZSB9O1xyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiB7IGRhdGEsIGVycm9yOiBudWxsIH07XHJcbiAgfSBjYXRjaCAoZXJyb3I6IGFueSkge1xyXG4gICAgcmV0dXJuIHsgZGF0YTogbnVsbCwgZXJyb3I6IGVycm9yLm1lc3NhZ2UgfTtcclxuICB9XHJcbn1cclxuXHJcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBjcmVhdGVNb2R1bGUoY291cnNlSWQ6IHN0cmluZywgdGl0bGU6IHN0cmluZyk6IFByb21pc2U8eyBkYXRhOiBNb2R1bGUgfCBudWxsOyBlcnJvcjogc3RyaW5nIHwgbnVsbCB9PiB7XHJcbiAgY29uc3Qgc3VwYWJhc2UgPSBhd2FpdCBjcmVhdGVTdXBhYmFzZUNsaWVudCgpO1xyXG4gIFxyXG4gIHRyeSB7XHJcbiAgICAvLyBDaGVjayBhZG1pbiBhY2Nlc3NcclxuICAgIGNvbnN0IGFkbWluQ2hlY2sgPSBhd2FpdCBpc0FkbWluKHN1cGFiYXNlKTtcclxuICAgIGlmICghYWRtaW5DaGVjaykge1xyXG4gICAgICByZXR1cm4geyBkYXRhOiBudWxsLCBlcnJvcjogJ0FjY2VzcyBkZW5pZWQuIEFkbWluIG9yIHRlYWNoZXIgcm9sZSByZXF1aXJlZC4nIH07XHJcbiAgICB9XHJcblxyXG4gICAgLy8gR2V0IHRoZSBoaWdoZXN0IG9yZGVyX2luZGV4IHRvIGRldGVybWluZSB0aGUgbmV3IHBvc2l0aW9uXHJcbiAgICBjb25zdCB7IGRhdGE6IGV4aXN0aW5nTW9kdWxlcyB9ID0gYXdhaXQgc3VwYWJhc2VcclxuICAgICAgLmZyb20oJ21vZHVsZXMnKVxyXG4gICAgICAuc2VsZWN0KCdvcmRlcl9pbmRleCcpXHJcbiAgICAgIC5lcSgnY291cnNlX2lkJywgY291cnNlSWQpXHJcbiAgICAgIC5vcmRlcignb3JkZXJfaW5kZXgnLCB7IGFzY2VuZGluZzogZmFsc2UgfSlcclxuICAgICAgLmxpbWl0KDEpO1xyXG5cclxuICAgIGNvbnN0IG5ld09yZGVySW5kZXggPSBleGlzdGluZ01vZHVsZXMgJiYgZXhpc3RpbmdNb2R1bGVzLmxlbmd0aCA+IDAgXHJcbiAgICAgID8gZXhpc3RpbmdNb2R1bGVzWzBdLm9yZGVyX2luZGV4ICsgMTAgXHJcbiAgICAgIDogMDtcclxuXHJcbiAgICBjb25zdCB7IGRhdGEsIGVycm9yIH0gPSBhd2FpdCBzdXBhYmFzZVxyXG4gICAgICAuZnJvbSgnbW9kdWxlcycpXHJcbiAgICAgIC5pbnNlcnQoW3sgY291cnNlX2lkOiBjb3Vyc2VJZCwgdGl0bGUsIG9yZGVyX2luZGV4OiBuZXdPcmRlckluZGV4IH1dKVxyXG4gICAgICAuc2VsZWN0KClcclxuICAgICAgLnNpbmdsZSgpO1xyXG5cclxuICAgIGlmIChlcnJvcikge1xyXG4gICAgICByZXR1cm4geyBkYXRhOiBudWxsLCBlcnJvcjogZXJyb3IubWVzc2FnZSB9O1xyXG4gICAgfVxyXG5cclxuICAgIC8vIFJldmFsaWRhdGUgdGhlIGNhY2hlIHRvIGVuc3VyZSBmcm9udGVuZCByZWZsZWN0cyBjaGFuZ2VzXHJcbiAgICByZXZhbGlkYXRlUGF0aCgnL2NvdXJzZXMnKTtcclxuICAgIHJldmFsaWRhdGVQYXRoKCcvZGFzaGJvYXJkJyk7XHJcbiAgICBcclxuICAgIHJldHVybiB7IGRhdGEsIGVycm9yOiBudWxsIH07XHJcbiAgfSBjYXRjaCAoZXJyb3I6IGFueSkge1xyXG4gICAgcmV0dXJuIHsgZGF0YTogbnVsbCwgZXJyb3I6IGVycm9yLm1lc3NhZ2UgfTtcclxuICB9XHJcbn1cclxuXHJcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiB1cGRhdGVNb2R1bGUoaWQ6IHN0cmluZywgdXBkYXRlczogUGFydGlhbDxNb2R1bGU+KTogUHJvbWlzZTx7IGRhdGE6IE1vZHVsZSB8IG51bGw7IGVycm9yOiBzdHJpbmcgfCBudWxsIH0+IHtcclxuICBjb25zdCBzdXBhYmFzZSA9IGF3YWl0IGNyZWF0ZVN1cGFiYXNlQ2xpZW50KCk7XHJcbiAgXHJcbiAgdHJ5IHtcclxuICAgIC8vIENoZWNrIGFkbWluIGFjY2Vzc1xyXG4gICAgY29uc3QgYWRtaW5DaGVjayA9IGF3YWl0IGlzQWRtaW4oc3VwYWJhc2UpO1xyXG4gICAgaWYgKCFhZG1pbkNoZWNrKSB7XHJcbiAgICAgIHJldHVybiB7IGRhdGE6IG51bGwsIGVycm9yOiAnQWNjZXNzIGRlbmllZC4gQWRtaW4gb3IgdGVhY2hlciByb2xlIHJlcXVpcmVkLicgfTtcclxuICAgIH1cclxuXHJcbiAgICBjb25zdCB7IGRhdGEsIGVycm9yIH0gPSBhd2FpdCBzdXBhYmFzZVxyXG4gICAgICAuZnJvbSgnbW9kdWxlcycpXHJcbiAgICAgIC51cGRhdGUodXBkYXRlcylcclxuICAgICAgLmVxKCdpZCcsIGlkKVxyXG4gICAgICAuc2VsZWN0KClcclxuICAgICAgLnNpbmdsZSgpO1xyXG5cclxuICAgIGlmIChlcnJvcikge1xyXG4gICAgICByZXR1cm4geyBkYXRhOiBudWxsLCBlcnJvcjogZXJyb3IubWVzc2FnZSB9O1xyXG4gICAgfVxyXG5cclxuICAgIC8vIFJldmFsaWRhdGUgdGhlIGNhY2hlIHRvIGVuc3VyZSBmcm9udGVuZCByZWZsZWN0cyBjaGFuZ2VzXHJcbiAgICByZXZhbGlkYXRlUGF0aCgnL2NvdXJzZXMnKTtcclxuICAgIHJldmFsaWRhdGVQYXRoKCcvZGFzaGJvYXJkJyk7XHJcbiAgICBcclxuICAgIHJldHVybiB7IGRhdGEsIGVycm9yOiBudWxsIH07XHJcbiAgfSBjYXRjaCAoZXJyb3I6IGFueSkge1xyXG4gICAgcmV0dXJuIHsgZGF0YTogbnVsbCwgZXJyb3I6IGVycm9yLm1lc3NhZ2UgfTtcclxuICB9XHJcbn1cclxuXHJcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBkZWxldGVNb2R1bGUoaWQ6IHN0cmluZyk6IFByb21pc2U8eyBlcnJvcjogc3RyaW5nIHwgbnVsbCB9PiB7XHJcbiAgY29uc3Qgc3VwYWJhc2UgPSBhd2FpdCBjcmVhdGVTdXBhYmFzZUNsaWVudCgpO1xyXG4gIFxyXG4gIHRyeSB7XHJcbiAgICAvLyBDaGVjayBhZG1pbiBhY2Nlc3NcclxuICAgIGNvbnN0IGFkbWluQ2hlY2sgPSBhd2FpdCBpc0FkbWluKHN1cGFiYXNlKTtcclxuICAgIGlmICghYWRtaW5DaGVjaykge1xyXG4gICAgICByZXR1cm4geyBlcnJvcjogJ0FjY2VzcyBkZW5pZWQuIEFkbWluIG9yIHRlYWNoZXIgcm9sZSByZXF1aXJlZC4nIH07XHJcbiAgICB9XHJcblxyXG4gICAgY29uc3QgeyBlcnJvciB9ID0gYXdhaXQgc3VwYWJhc2VcclxuICAgICAgLmZyb20oJ21vZHVsZXMnKVxyXG4gICAgICAuZGVsZXRlKClcclxuICAgICAgLmVxKCdpZCcsIGlkKTtcclxuXHJcbiAgICBpZiAoZXJyb3IpIHtcclxuICAgICAgcmV0dXJuIHsgZXJyb3I6IGVycm9yLm1lc3NhZ2UgfTtcclxuICAgIH1cclxuXHJcbiAgICAvLyBSZXZhbGlkYXRlIHRoZSBjYWNoZSB0byBlbnN1cmUgZnJvbnRlbmQgcmVmbGVjdHMgY2hhbmdlc1xyXG4gICAgcmV2YWxpZGF0ZVBhdGgoJy9jb3Vyc2VzJyk7XHJcbiAgICByZXZhbGlkYXRlUGF0aCgnL2Rhc2hib2FyZCcpO1xyXG4gICAgXHJcbiAgICByZXR1cm4geyBlcnJvcjogbnVsbCB9O1xyXG4gIH0gY2F0Y2ggKGVycm9yOiBhbnkpIHtcclxuICAgIHJldHVybiB7IGVycm9yOiBlcnJvci5tZXNzYWdlIH07XHJcbiAgfVxyXG59XHJcblxyXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gcmVvcmRlck1vZHVsZXMoY291cnNlSWQ6IHN0cmluZywgbW9kdWxlSWRzOiBzdHJpbmdbXSk6IFByb21pc2U8eyBlcnJvcjogc3RyaW5nIHwgbnVsbCB9PiB7XHJcbiAgY29uc3Qgc3VwYWJhc2UgPSBhd2FpdCBjcmVhdGVTdXBhYmFzZUNsaWVudCgpO1xyXG4gIFxyXG4gIHRyeSB7XHJcbiAgICAvLyBDaGVjayBhZG1pbiBhY2Nlc3NcclxuICAgIGNvbnN0IGFkbWluQ2hlY2sgPSBhd2FpdCBpc0FkbWluKHN1cGFiYXNlKTtcclxuICAgIGlmICghYWRtaW5DaGVjaykge1xyXG4gICAgICByZXR1cm4geyBlcnJvcjogJ0FjY2VzcyBkZW5pZWQuIEFkbWluIG9yIHRlYWNoZXIgcm9sZSByZXF1aXJlZC4nIH07XHJcbiAgICB9XHJcblxyXG4gICAgLy8gVXBkYXRlIGFsbCBtb2R1bGVzIHdpdGggdGhlaXIgbmV3IHBvc2l0aW9ucyBpbiBhIHNpbmdsZSB0cmFuc2FjdGlvblxyXG4gICAgY29uc3QgdXBkYXRlcyA9IG1vZHVsZUlkcy5tYXAoKGlkLCBpbmRleCkgPT4gKHtcclxuICAgICAgaWQsXHJcbiAgICAgIG9yZGVyX2luZGV4OiBpbmRleCAqIDEwIC8vIFVzZSBpbmNyZW1lbnRzIG9mIDEwIHRvIGFsbG93IGZvciBmdXR1cmUgaW5zZXJ0aW9ucyBiZXR3ZWVuIGl0ZW1zXHJcbiAgICB9KSk7XHJcblxyXG4gICAgLy8gUGVyZm9ybSB1cGRhdGVzIGluIGEgYmF0Y2hcclxuICAgIGZvciAoY29uc3QgdXBkYXRlIG9mIHVwZGF0ZXMpIHtcclxuICAgICAgY29uc3QgeyBlcnJvciB9ID0gYXdhaXQgc3VwYWJhc2VcclxuICAgICAgICAuZnJvbSgnbW9kdWxlcycpXHJcbiAgICAgICAgLnVwZGF0ZSh7IG9yZGVyX2luZGV4OiB1cGRhdGUub3JkZXJfaW5kZXggfSlcclxuICAgICAgICAuZXEoJ2lkJywgdXBkYXRlLmlkKVxyXG4gICAgICAgIC5lcSgnY291cnNlX2lkJywgY291cnNlSWQpOyAvLyBBZGRpdGlvbmFsIHNhZmV0eSBjaGVja1xyXG5cclxuICAgICAgaWYgKGVycm9yKSB7XHJcbiAgICAgICAgcmV0dXJuIHsgZXJyb3I6IGVycm9yLm1lc3NhZ2UgfTtcclxuICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8vIFJldmFsaWRhdGUgdGhlIGNhY2hlIHRvIGVuc3VyZSBmcm9udGVuZCByZWZsZWN0cyBjaGFuZ2VzXHJcbiAgICByZXZhbGlkYXRlUGF0aCgnL2NvdXJzZXMnKTtcclxuICAgIHJldmFsaWRhdGVQYXRoKCcvZGFzaGJvYXJkJyk7XHJcbiAgICBcclxuICAgIHJldHVybiB7IGVycm9yOiBudWxsIH07XHJcbiAgfSBjYXRjaCAoZXJyb3I6IGFueSkge1xyXG4gICAgcmV0dXJuIHsgZXJyb3I6IGVycm9yLm1lc3NhZ2UgfTtcclxuICB9XHJcbn1cclxuXHJcbi8vIExlc3NvbiBBY3Rpb25zXHJcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBsaXN0TGVzc29ucyhtb2R1bGVJZDogc3RyaW5nKTogUHJvbWlzZTx7IGRhdGE6IExlc3NvbltdIHwgbnVsbDsgZXJyb3I6IHN0cmluZyB8IG51bGwgfT4ge1xyXG4gIGNvbnN0IHN1cGFiYXNlID0gYXdhaXQgY3JlYXRlU3VwYWJhc2VDbGllbnQoKTtcclxuICBcclxuICB0cnkge1xyXG4gICAgLy8gQ2hlY2sgYWRtaW4gYWNjZXNzXHJcbiAgICBjb25zdCBhZG1pbkNoZWNrID0gYXdhaXQgaXNBZG1pbihzdXBhYmFzZSk7XHJcbiAgICBpZiAoIWFkbWluQ2hlY2spIHtcclxuICAgICAgcmV0dXJuIHsgZGF0YTogbnVsbCwgZXJyb3I6ICdBY2Nlc3MgZGVuaWVkLiBBZG1pbiBvciB0ZWFjaGVyIHJvbGUgcmVxdWlyZWQuJyB9O1xyXG4gICAgfVxyXG5cclxuICAgIGNvbnN0IHsgZGF0YSwgZXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlXHJcbiAgICAgIC5mcm9tKCdsZXNzb25zJylcclxuICAgICAgLnNlbGVjdCgnKicpXHJcbiAgICAgIC5lcSgnbW9kdWxlX2lkJywgbW9kdWxlSWQpXHJcbiAgICAgIC5vcmRlcignb3JkZXJfaW5kZXgnLCB7IGFzY2VuZGluZzogdHJ1ZSB9KTtcclxuXHJcbiAgICBpZiAoZXJyb3IpIHtcclxuICAgICAgcmV0dXJuIHsgZGF0YTogbnVsbCwgZXJyb3I6IGVycm9yLm1lc3NhZ2UgfTtcclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4geyBkYXRhLCBlcnJvcjogbnVsbCB9O1xyXG4gIH0gY2F0Y2ggKGVycm9yOiBhbnkpIHtcclxuICAgIHJldHVybiB7IGRhdGE6IG51bGwsIGVycm9yOiBlcnJvci5tZXNzYWdlIH07XHJcbiAgfVxyXG59XHJcblxyXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gY3JlYXRlTGVzc29uKFxyXG4gIG1vZHVsZUlkOiBzdHJpbmcsIFxyXG4gIHRpdGxlOiBzdHJpbmcsIFxyXG4gIGRlc2NyaXB0aW9uOiBzdHJpbmcsIFxyXG4gIHlvdXR1YmVVcmw6IHN0cmluZ1xyXG4pOiBQcm9taXNlPHsgZGF0YTogTGVzc29uIHwgbnVsbDsgZXJyb3I6IHN0cmluZyB8IG51bGwgfT4ge1xyXG4gIGNvbnN0IHN1cGFiYXNlID0gYXdhaXQgY3JlYXRlU3VwYWJhc2VDbGllbnQoKTtcclxuICBcclxuICB0cnkge1xyXG4gICAgLy8gQ2hlY2sgYWRtaW4gYWNjZXNzXHJcbiAgICBjb25zdCBhZG1pbkNoZWNrID0gYXdhaXQgaXNBZG1pbihzdXBhYmFzZSk7XHJcbiAgICBpZiAoIWFkbWluQ2hlY2spIHtcclxuICAgICAgcmV0dXJuIHsgZGF0YTogbnVsbCwgZXJyb3I6ICdBY2Nlc3MgZGVuaWVkLiBBZG1pbiBvciB0ZWFjaGVyIHJvbGUgcmVxdWlyZWQuJyB9O1xyXG4gICAgfVxyXG5cclxuICAgIC8vIFBhcnNlIHRoZSBZb3VUdWJlIFVSTFxyXG4gICAgY29uc3QgcGFyc2VkID0gcGFyc2VZb3VUdWJlKHlvdXR1YmVVcmwpO1xyXG4gICAgaWYgKHBhcnNlZC5lcnJvcikge1xyXG4gICAgICByZXR1cm4geyBkYXRhOiBudWxsLCBlcnJvcjogcGFyc2VkLmVycm9yIH07XHJcbiAgICB9XHJcblxyXG4gICAgLy8gR2V0IHRoZSBoaWdoZXN0IG9yZGVyX2luZGV4IHRvIGRldGVybWluZSB0aGUgbmV3IHBvc2l0aW9uXHJcbiAgICBjb25zdCB7IGRhdGE6IGV4aXN0aW5nTGVzc29ucyB9ID0gYXdhaXQgc3VwYWJhc2VcclxuICAgICAgLmZyb20oJ2xlc3NvbnMnKVxyXG4gICAgICAuc2VsZWN0KCdvcmRlcl9pbmRleCcpXHJcbiAgICAgIC5lcSgnbW9kdWxlX2lkJywgbW9kdWxlSWQpXHJcbiAgICAgIC5vcmRlcignb3JkZXJfaW5kZXgnLCB7IGFzY2VuZGluZzogZmFsc2UgfSlcclxuICAgICAgLmxpbWl0KDEpO1xyXG5cclxuICAgIGNvbnN0IG5ld09yZGVySW5kZXggPSBleGlzdGluZ0xlc3NvbnMgJiYgZXhpc3RpbmdMZXNzb25zLmxlbmd0aCA+IDAgXHJcbiAgICAgID8gZXhpc3RpbmdMZXNzb25zWzBdLm9yZGVyX2luZGV4ICsgMTAgXHJcbiAgICAgIDogMDtcclxuXHJcbiAgICBjb25zdCB7IGRhdGEsIGVycm9yIH0gPSBhd2FpdCBzdXBhYmFzZVxyXG4gICAgICAuZnJvbSgnbGVzc29ucycpXHJcbiAgICAgIC5pbnNlcnQoW3tcclxuICAgICAgICBtb2R1bGVfaWQ6IG1vZHVsZUlkLFxyXG4gICAgICAgIHRpdGxlLFxyXG4gICAgICAgIGRlc2NyaXB0aW9uLFxyXG4gICAgICAgIHlvdXR1YmVfdmlkZW9faWQ6IHBhcnNlZC52aWRlb0lkLFxyXG4gICAgICAgIHZpZGVvX3VybDogcGFyc2VkLmVtYmVkVXJsLFxyXG4gICAgICAgIG9yZGVyX2luZGV4OiBuZXdPcmRlckluZGV4LFxyXG4gICAgICAgIGlzX3ByZXZpZXc6IGZhbHNlLFxyXG4gICAgICAgIGlzX3B1Ymxpc2hlZDogdHJ1ZVxyXG4gICAgICB9XSlcclxuICAgICAgLnNlbGVjdCgpXHJcbiAgICAgIC5zaW5nbGUoKTtcclxuXHJcbiAgICBpZiAoZXJyb3IpIHtcclxuICAgICAgcmV0dXJuIHsgZGF0YTogbnVsbCwgZXJyb3I6IGVycm9yLm1lc3NhZ2UgfTtcclxuICAgIH1cclxuXHJcbiAgICAvLyBSZXZhbGlkYXRlIHRoZSBjYWNoZSB0byBlbnN1cmUgZnJvbnRlbmQgcmVmbGVjdHMgY2hhbmdlc1xyXG4gICAgcmV2YWxpZGF0ZVBhdGgoJy9jb3Vyc2VzJyk7XHJcbiAgICByZXZhbGlkYXRlUGF0aCgnL2Rhc2hib2FyZCcpO1xyXG4gICAgXHJcbiAgICByZXR1cm4geyBkYXRhLCBlcnJvcjogbnVsbCB9O1xyXG4gIH0gY2F0Y2ggKGVycm9yOiBhbnkpIHtcclxuICAgIHJldHVybiB7IGRhdGE6IG51bGwsIGVycm9yOiBlcnJvci5tZXNzYWdlIH07XHJcbiAgfVxyXG59XHJcblxyXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gdXBkYXRlTGVzc29uKFxyXG4gIGlkOiBzdHJpbmcsIFxyXG4gIHVwZGF0ZXM6IFBhcnRpYWw8T21pdDxMZXNzb24sICdpZCcgfCAnbW9kdWxlX2lkJyB8ICdjcmVhdGVkX2F0JyB8ICd1cGRhdGVkX2F0Jz4+XHJcbik6IFByb21pc2U8eyBkYXRhOiBMZXNzb24gfCBudWxsOyBlcnJvcjogc3RyaW5nIHwgbnVsbCB9PiB7XHJcbiAgY29uc3Qgc3VwYWJhc2UgPSBhd2FpdCBjcmVhdGVTdXBhYmFzZUNsaWVudCgpO1xyXG4gIFxyXG4gIHRyeSB7XHJcbiAgICAvLyBDaGVjayBhZG1pbiBhY2Nlc3NcclxuICAgIGNvbnN0IGFkbWluQ2hlY2sgPSBhd2FpdCBpc0FkbWluKHN1cGFiYXNlKTtcclxuICAgIGlmICghYWRtaW5DaGVjaykge1xyXG4gICAgICByZXR1cm4geyBkYXRhOiBudWxsLCBlcnJvcjogJ0FjY2VzcyBkZW5pZWQuIEFkbWluIG9yIHRlYWNoZXIgcm9sZSByZXF1aXJlZC4nIH07XHJcbiAgICB9XHJcblxyXG4gICAgLy8gSWYgdXBkYXRpbmcgWW91VHViZSBVUkwsIHBhcnNlIGl0IGZpcnN0XHJcbiAgICBpZiAodXBkYXRlcy52aWRlb191cmwpIHtcclxuICAgICAgY29uc3QgcGFyc2VkID0gcGFyc2VZb3VUdWJlKHVwZGF0ZXMudmlkZW9fdXJsKTtcclxuICAgICAgaWYgKHBhcnNlZC5lcnJvcikge1xyXG4gICAgICAgIHJldHVybiB7IGRhdGE6IG51bGwsIGVycm9yOiBwYXJzZWQuZXJyb3IgfTtcclxuICAgICAgfVxyXG4gICAgICB1cGRhdGVzLnlvdXR1YmVfdmlkZW9faWQgPSBwYXJzZWQudmlkZW9JZDtcclxuICAgICAgdXBkYXRlcy52aWRlb191cmwgPSBwYXJzZWQuZW1iZWRVcmw7XHJcbiAgICB9XHJcblxyXG4gICAgY29uc3QgeyBkYXRhLCBlcnJvciB9ID0gYXdhaXQgc3VwYWJhc2VcclxuICAgICAgLmZyb20oJ2xlc3NvbnMnKVxyXG4gICAgICAudXBkYXRlKHVwZGF0ZXMpXHJcbiAgICAgIC5lcSgnaWQnLCBpZClcclxuICAgICAgLnNlbGVjdCgpXHJcbiAgICAgIC5zaW5nbGUoKTtcclxuXHJcbiAgICBpZiAoZXJyb3IpIHtcclxuICAgICAgcmV0dXJuIHsgZGF0YTogbnVsbCwgZXJyb3I6IGVycm9yLm1lc3NhZ2UgfTtcclxuICAgIH1cclxuXHJcbiAgICAvLyBSZXZhbGlkYXRlIHRoZSBjYWNoZSB0byBlbnN1cmUgZnJvbnRlbmQgcmVmbGVjdHMgY2hhbmdlc1xyXG4gICAgcmV2YWxpZGF0ZVBhdGgoJy9jb3Vyc2VzJyk7XHJcbiAgICByZXZhbGlkYXRlUGF0aCgnL2Rhc2hib2FyZCcpO1xyXG4gICAgXHJcbiAgICByZXR1cm4geyBkYXRhLCBlcnJvcjogbnVsbCB9O1xyXG4gIH0gY2F0Y2ggKGVycm9yOiBhbnkpIHtcclxuICAgIHJldHVybiB7IGRhdGE6IG51bGwsIGVycm9yOiBlcnJvci5tZXNzYWdlIH07XHJcbiAgfVxyXG59XHJcblxyXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZGVsZXRlTGVzc29uKGlkOiBzdHJpbmcpOiBQcm9taXNlPHsgZXJyb3I6IHN0cmluZyB8IG51bGwgfT4ge1xyXG4gIGNvbnN0IHN1cGFiYXNlID0gYXdhaXQgY3JlYXRlU3VwYWJhc2VDbGllbnQoKTtcclxuICBcclxuICB0cnkge1xyXG4gICAgLy8gQ2hlY2sgYWRtaW4gYWNjZXNzXHJcbiAgICBjb25zdCBhZG1pbkNoZWNrID0gYXdhaXQgaXNBZG1pbihzdXBhYmFzZSk7XHJcbiAgICBpZiAoIWFkbWluQ2hlY2spIHtcclxuICAgICAgcmV0dXJuIHsgZXJyb3I6ICdBY2Nlc3MgZGVuaWVkLiBBZG1pbiBvciB0ZWFjaGVyIHJvbGUgcmVxdWlyZWQuJyB9O1xyXG4gICAgfVxyXG5cclxuICAgIGNvbnN0IHsgZXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlXHJcbiAgICAgIC5mcm9tKCdsZXNzb25zJylcclxuICAgICAgLmRlbGV0ZSgpXHJcbiAgICAgIC5lcSgnaWQnLCBpZCk7XHJcblxyXG4gICAgaWYgKGVycm9yKSB7XHJcbiAgICAgIHJldHVybiB7IGVycm9yOiBlcnJvci5tZXNzYWdlIH07XHJcbiAgICB9XHJcblxyXG4gICAgLy8gUmV2YWxpZGF0ZSB0aGUgY2FjaGUgdG8gZW5zdXJlIGZyb250ZW5kIHJlZmxlY3RzIGNoYW5nZXNcclxuICAgIHJldmFsaWRhdGVQYXRoKCcvY291cnNlcycpO1xyXG4gICAgcmV2YWxpZGF0ZVBhdGgoJy9kYXNoYm9hcmQnKTtcclxuICAgIFxyXG4gICAgcmV0dXJuIHsgZXJyb3I6IG51bGwgfTtcclxuICB9IGNhdGNoIChlcnJvcjogYW55KSB7XHJcbiAgICByZXR1cm4geyBlcnJvcjogZXJyb3IubWVzc2FnZSB9O1xyXG4gIH1cclxufVxyXG5cclxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIHJlb3JkZXJMZXNzb25zKG1vZHVsZUlkOiBzdHJpbmcsIGxlc3Nvbklkczogc3RyaW5nW10pOiBQcm9taXNlPHsgZXJyb3I6IHN0cmluZyB8IG51bGwgfT4ge1xyXG4gIGNvbnN0IHN1cGFiYXNlID0gYXdhaXQgY3JlYXRlU3VwYWJhc2VDbGllbnQoKTtcclxuICBcclxuICB0cnkge1xyXG4gICAgLy8gQ2hlY2sgYWRtaW4gYWNjZXNzXHJcbiAgICBjb25zdCBhZG1pbkNoZWNrID0gYXdhaXQgaXNBZG1pbihzdXBhYmFzZSk7XHJcbiAgICBpZiAoIWFkbWluQ2hlY2spIHtcclxuICAgICAgcmV0dXJuIHsgZXJyb3I6ICdBY2Nlc3MgZGVuaWVkLiBBZG1pbiBvciB0ZWFjaGVyIHJvbGUgcmVxdWlyZWQuJyB9O1xyXG4gICAgfVxyXG5cclxuICAgIC8vIFVwZGF0ZSBhbGwgbGVzc29ucyB3aXRoIHRoZWlyIG5ldyBwb3NpdGlvbnMgaW4gYSBzaW5nbGUgdHJhbnNhY3Rpb25cclxuICAgIGNvbnN0IHVwZGF0ZXMgPSBsZXNzb25JZHMubWFwKChpZCwgaW5kZXgpID0+ICh7XHJcbiAgICAgIGlkLFxyXG4gICAgICBvcmRlcl9pbmRleDogaW5kZXggKiAxMCAvLyBVc2UgaW5jcmVtZW50cyBvZiAxMCB0byBhbGxvdyBmb3IgZnV0dXJlIGluc2VydGlvbnMgYmV0d2VlbiBpdGVtc1xyXG4gICAgfSkpO1xyXG5cclxuICAgIC8vIFBlcmZvcm0gdXBkYXRlcyBpbiBhIGJhdGNoXHJcbiAgICBmb3IgKGNvbnN0IHVwZGF0ZSBvZiB1cGRhdGVzKSB7XHJcbiAgICAgIGNvbnN0IHsgZXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlXHJcbiAgICAgICAgLmZyb20oJ2xlc3NvbnMnKVxyXG4gICAgICAgIC51cGRhdGUoeyBvcmRlcl9pbmRleDogdXBkYXRlLm9yZGVyX2luZGV4IH0pXHJcbiAgICAgICAgLmVxKCdpZCcsIHVwZGF0ZS5pZClcclxuICAgICAgICAuZXEoJ21vZHVsZV9pZCcsIG1vZHVsZUlkKTsgLy8gQWRkaXRpb25hbCBzYWZldHkgY2hlY2tcclxuXHJcbiAgICAgIGlmIChlcnJvcikge1xyXG4gICAgICAgIHJldHVybiB7IGVycm9yOiBlcnJvci5tZXNzYWdlIH07XHJcbiAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvLyBSZXZhbGlkYXRlIHRoZSBjYWNoZSB0byBlbnN1cmUgZnJvbnRlbmQgcmVmbGVjdHMgY2hhbmdlc1xyXG4gICAgcmV2YWxpZGF0ZVBhdGgoJy9jb3Vyc2VzJyk7XHJcbiAgICByZXZhbGlkYXRlUGF0aCgnL2Rhc2hib2FyZCcpO1xyXG4gICAgXHJcbiAgICByZXR1cm4geyBlcnJvcjogbnVsbCB9O1xyXG4gIH0gY2F0Y2ggKGVycm9yOiBhbnkpIHtcclxuICAgIHJldHVybiB7IGVycm9yOiBlcnJvci5tZXNzYWdlIH07XHJcbiAgfVxyXG59Il0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiIrUkE4akJzQiw2TEFBQSJ9
}),
"[project]/src/components/admin/LessonList.tsx [app-ssr] (ecmascript)", ((__turbopack_context__) => {
"use strict";

__turbopack_context__.s([
    "default",
    ()=>__TURBOPACK__default__export__
]);
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/next/dist/server/route-modules/app-page/vendored/ssr/react-jsx-dev-runtime.js [app-ssr] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/next/dist/server/route-modules/app-page/vendored/ssr/react.js [app-ssr] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$actions$2f$data$3a$9135d6__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$text$2f$javascript$3e$__ = __turbopack_context__.i("[project]/src/actions/data:9135d6 [app-ssr] (ecmascript) <text/javascript>");
var __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$actions$2f$data$3a$a634bc__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$text$2f$javascript$3e$__ = __turbopack_context__.i("[project]/src/actions/data:a634bc [app-ssr] (ecmascript) <text/javascript>");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$lucide$2d$react$2f$dist$2f$esm$2f$icons$2f$trash$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$export__default__as__TrashIcon$3e$__ = __turbopack_context__.i("[project]/node_modules/lucide-react/dist/esm/icons/trash.js [app-ssr] (ecmascript) <export default as TrashIcon>");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$lucide$2d$react$2f$dist$2f$esm$2f$icons$2f$play$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$export__default__as__PlayIcon$3e$__ = __turbopack_context__.i("[project]/node_modules/lucide-react/dist/esm/icons/play.js [app-ssr] (ecmascript) <export default as PlayIcon>");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$dnd$2d$kit$2f$core$2f$dist$2f$core$2e$esm$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@dnd-kit/core/dist/core.esm.js [app-ssr] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$dnd$2d$kit$2f$sortable$2f$dist$2f$sortable$2e$esm$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@dnd-kit/sortable/dist/sortable.esm.js [app-ssr] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$dnd$2d$kit$2f$utilities$2f$dist$2f$utilities$2e$esm$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@dnd-kit/utilities/dist/utilities.esm.js [app-ssr] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$actions$2f$data$3a$f716c1__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$text$2f$javascript$3e$__ = __turbopack_context__.i("[project]/src/actions/data:f716c1 [app-ssr] (ecmascript) <text/javascript>");
'use client';
;
;
;
;
;
;
;
;
// Sortable Lesson Item Component
const SortableLessonItem = ({ lesson, isSelected, onSelect, onDelete, onEdit })=>{
    const { attributes, listeners, setNodeRef, transform, transition, isDragging } = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$dnd$2d$kit$2f$sortable$2f$dist$2f$sortable$2e$esm$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["useSortable"])({
        id: lesson.id
    });
    const style = {
        transform: __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$dnd$2d$kit$2f$utilities$2f$dist$2f$utilities$2e$esm$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["CSS"].Transform.toString(transform),
        transition,
        opacity: isDragging ? 0.5 : 1
    };
    return /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("li", {
        ref: setNodeRef,
        style: style,
        className: `p-3 cursor-pointer transition-colors ${isSelected ? 'bg-accent-primary/10 border-l-4 border-accent-primary' : 'hover:bg-gray-800/50'} ${isDragging ? 'shadow-lg' : ''}`,
        onClick: ()=>onSelect(lesson.id),
        children: /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
            className: "flex justify-between items-start",
            children: [
                /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                    className: "flex items-start gap-2 flex-1 min-w-0",
                    children: [
                        /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("button", {
                            ...attributes,
                            ...listeners,
                            className: "cursor-grab active:cursor-grabbing text-gray-500 hover:text-gray-300 mt-0.5 hover-lift",
                            onClick: (e)=>e.stopPropagation(),
                            children: /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("svg", {
                                xmlns: "http://www.w3.org/2000/svg",
                                width: "16",
                                height: "16",
                                viewBox: "0 0 24 24",
                                fill: "none",
                                stroke: "currentColor",
                                strokeWidth: "2",
                                strokeLinecap: "round",
                                strokeLinejoin: "round",
                                children: [
                                    /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("circle", {
                                        cx: "9",
                                        cy: "5",
                                        r: "1"
                                    }, void 0, false, {
                                        fileName: "[project]/src/components/admin/LessonList.tsx",
                                        lineNumber: 70,
                                        columnNumber: 15
                                    }, ("TURBOPACK compile-time value", void 0)),
                                    /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("circle", {
                                        cx: "9",
                                        cy: "12",
                                        r: "1"
                                    }, void 0, false, {
                                        fileName: "[project]/src/components/admin/LessonList.tsx",
                                        lineNumber: 71,
                                        columnNumber: 15
                                    }, ("TURBOPACK compile-time value", void 0)),
                                    /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("circle", {
                                        cx: "9",
                                        cy: "19",
                                        r: "1"
                                    }, void 0, false, {
                                        fileName: "[project]/src/components/admin/LessonList.tsx",
                                        lineNumber: 72,
                                        columnNumber: 15
                                    }, ("TURBOPACK compile-time value", void 0)),
                                    /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("circle", {
                                        cx: "15",
                                        cy: "5",
                                        r: "1"
                                    }, void 0, false, {
                                        fileName: "[project]/src/components/admin/LessonList.tsx",
                                        lineNumber: 73,
                                        columnNumber: 15
                                    }, ("TURBOPACK compile-time value", void 0)),
                                    /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("circle", {
                                        cx: "15",
                                        cy: "12",
                                        r: "1"
                                    }, void 0, false, {
                                        fileName: "[project]/src/components/admin/LessonList.tsx",
                                        lineNumber: 74,
                                        columnNumber: 15
                                    }, ("TURBOPACK compile-time value", void 0)),
                                    /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("circle", {
                                        cx: "15",
                                        cy: "19",
                                        r: "1"
                                    }, void 0, false, {
                                        fileName: "[project]/src/components/admin/LessonList.tsx",
                                        lineNumber: 75,
                                        columnNumber: 15
                                    }, ("TURBOPACK compile-time value", void 0))
                                ]
                            }, void 0, true, {
                                fileName: "[project]/src/components/admin/LessonList.tsx",
                                lineNumber: 69,
                                columnNumber: 13
                            }, ("TURBOPACK compile-time value", void 0))
                        }, void 0, false, {
                            fileName: "[project]/src/components/admin/LessonList.tsx",
                            lineNumber: 63,
                            columnNumber: 11
                        }, ("TURBOPACK compile-time value", void 0)),
                        /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                            className: "min-w-0 flex-1",
                            children: [
                                /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                                    className: "flex items-center gap-2",
                                    children: [
                                        lesson.youtube_video_id && /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$lucide$2d$react$2f$dist$2f$esm$2f$icons$2f$play$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$export__default__as__PlayIcon$3e$__["PlayIcon"], {
                                            size: 14,
                                            className: "text-blue-400 flex-shrink-0"
                                        }, void 0, false, {
                                            fileName: "[project]/src/components/admin/LessonList.tsx",
                                            lineNumber: 81,
                                            columnNumber: 17
                                        }, ("TURBOPACK compile-time value", void 0)),
                                        /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("span", {
                                            className: "font-medium text-white truncate",
                                            children: lesson.title
                                        }, void 0, false, {
                                            fileName: "[project]/src/components/admin/LessonList.tsx",
                                            lineNumber: 83,
                                            columnNumber: 15
                                        }, ("TURBOPACK compile-time value", void 0))
                                    ]
                                }, void 0, true, {
                                    fileName: "[project]/src/components/admin/LessonList.tsx",
                                    lineNumber: 79,
                                    columnNumber: 13
                                }, ("TURBOPACK compile-time value", void 0)),
                                /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                                    className: "mt-1 flex flex-wrap gap-1",
                                    children: [
                                        lesson.is_preview && /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("span", {
                                            className: "inline-flex items-center px-1.5 py-0.5 rounded text-xs font-medium bg-purple-900/30 text-purple-400 border border-purple-800",
                                            children: "Preview"
                                        }, void 0, false, {
                                            fileName: "[project]/src/components/admin/LessonList.tsx",
                                            lineNumber: 87,
                                            columnNumber: 17
                                        }, ("TURBOPACK compile-time value", void 0)),
                                        !lesson.is_published && /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("span", {
                                            className: "inline-flex items-center px-1.5 py-0.5 rounded text-xs font-medium bg-red-900/30 text-red-400 border border-red-800",
                                            children: "Draft"
                                        }, void 0, false, {
                                            fileName: "[project]/src/components/admin/LessonList.tsx",
                                            lineNumber: 92,
                                            columnNumber: 17
                                        }, ("TURBOPACK compile-time value", void 0))
                                    ]
                                }, void 0, true, {
                                    fileName: "[project]/src/components/admin/LessonList.tsx",
                                    lineNumber: 85,
                                    columnNumber: 13
                                }, ("TURBOPACK compile-time value", void 0))
                            ]
                        }, void 0, true, {
                            fileName: "[project]/src/components/admin/LessonList.tsx",
                            lineNumber: 78,
                            columnNumber: 11
                        }, ("TURBOPACK compile-time value", void 0))
                    ]
                }, void 0, true, {
                    fileName: "[project]/src/components/admin/LessonList.tsx",
                    lineNumber: 62,
                    columnNumber: 9
                }, ("TURBOPACK compile-time value", void 0)),
                /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                    className: "flex gap-1",
                    children: [
                        /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("button", {
                            onClick: (e)=>{
                                e.stopPropagation();
                                onEdit(lesson);
                            },
                            className: "p-1 rounded text-blue-400 hover:bg-blue-900/20 flex-shrink-0 hover-lift",
                            title: "Edit",
                            children: /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("svg", {
                                xmlns: "http://www.w3.org/2000/svg",
                                width: "14",
                                height: "14",
                                viewBox: "0 0 24 24",
                                fill: "none",
                                stroke: "currentColor",
                                strokeWidth: "2",
                                strokeLinecap: "round",
                                strokeLinejoin: "round",
                                children: /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("path", {
                                    d: "M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z"
                                }, void 0, false, {
                                    fileName: "[project]/src/components/admin/LessonList.tsx",
                                    lineNumber: 109,
                                    columnNumber: 15
                                }, ("TURBOPACK compile-time value", void 0))
                            }, void 0, false, {
                                fileName: "[project]/src/components/admin/LessonList.tsx",
                                lineNumber: 108,
                                columnNumber: 13
                            }, ("TURBOPACK compile-time value", void 0))
                        }, void 0, false, {
                            fileName: "[project]/src/components/admin/LessonList.tsx",
                            lineNumber: 100,
                            columnNumber: 11
                        }, ("TURBOPACK compile-time value", void 0)),
                        /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("button", {
                            onClick: (e)=>{
                                e.stopPropagation();
                                onDelete(lesson.id);
                            },
                            className: "p-1 rounded text-red-400 hover:bg-red-900/20 flex-shrink-0 hover-lift",
                            title: "Delete",
                            children: /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$lucide$2d$react$2f$dist$2f$esm$2f$icons$2f$trash$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$export__default__as__TrashIcon$3e$__["TrashIcon"], {
                                size: 14
                            }, void 0, false, {
                                fileName: "[project]/src/components/admin/LessonList.tsx",
                                lineNumber: 120,
                                columnNumber: 13
                            }, ("TURBOPACK compile-time value", void 0))
                        }, void 0, false, {
                            fileName: "[project]/src/components/admin/LessonList.tsx",
                            lineNumber: 112,
                            columnNumber: 11
                        }, ("TURBOPACK compile-time value", void 0))
                    ]
                }, void 0, true, {
                    fileName: "[project]/src/components/admin/LessonList.tsx",
                    lineNumber: 99,
                    columnNumber: 9
                }, ("TURBOPACK compile-time value", void 0))
            ]
        }, void 0, true, {
            fileName: "[project]/src/components/admin/LessonList.tsx",
            lineNumber: 61,
            columnNumber: 7
        }, ("TURBOPACK compile-time value", void 0))
    }, void 0, false, {
        fileName: "[project]/src/components/admin/LessonList.tsx",
        lineNumber: 51,
        columnNumber: 5
    }, ("TURBOPACK compile-time value", void 0));
};
const LessonList = ({ moduleId, selectedLessonId, onSelectLesson, onLessonCreated, onLessonUpdated, onEditLesson })=>{
    const [lessons, setLessons] = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["useState"])([]);
    const [loading, setLoading] = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["useState"])(true);
    const [error, setError] = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["useState"])(null);
    const sensors = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$dnd$2d$kit$2f$core$2f$dist$2f$core$2e$esm$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["useSensors"])((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$dnd$2d$kit$2f$core$2f$dist$2f$core$2e$esm$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["useSensor"])(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$dnd$2d$kit$2f$core$2f$dist$2f$core$2e$esm$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["PointerSensor"]), (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$dnd$2d$kit$2f$core$2f$dist$2f$core$2e$esm$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["useSensor"])(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$dnd$2d$kit$2f$core$2f$dist$2f$core$2e$esm$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["KeyboardSensor"], {
        coordinateGetter: __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$dnd$2d$kit$2f$sortable$2f$dist$2f$sortable$2e$esm$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["sortableKeyboardCoordinates"]
    }));
    (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["useEffect"])(()=>{
        if (moduleId) {
            loadLessons();
        } else {
            setLessons([]);
            setLoading(false);
        }
    }, [
        moduleId
    ]);
    const loadLessons = async ()=>{
        console.log('DEBUG: LessonList - Loading lessons for module:', moduleId);
        if (!moduleId) return;
        setLoading(true);
        setError(null);
        try {
            const result = await (0, __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$actions$2f$data$3a$9135d6__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$text$2f$javascript$3e$__["listLessons"])(moduleId);
            console.log('DEBUG: LessonList - listLessons result:', result);
            if (result.error) {
                console.error('DEBUG: LessonList - Error loading lessons:', result.error);
                setError(result.error);
            } else if (result.data) {
                console.log('DEBUG: LessonList - Loaded lessons:', result.data);
                // Sort by order_index
                const sortedLessons = [
                    ...result.data
                ].sort((a, b)=>a.order_index - b.order_index);
                setLessons(sortedLessons);
            }
        } catch (err) {
            console.error('DEBUG: LessonList - Exception loading lessons:', err);
            setError('Failed to load lessons');
        } finally{
            console.log('DEBUG: LessonList - Finished loading lessons, loading state:', false);
            setLoading(false);
        }
    };
    const handleDeleteLesson = async (id)=>{
        if (!confirm('Are you sure you want to delete this lesson?')) {
            return;
        }
        try {
            console.log('DEBUG: LessonList - Deleting lesson:', id);
            const result = await (0, __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$actions$2f$data$3a$a634bc__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$text$2f$javascript$3e$__["deleteLesson"])(id);
            console.log('DEBUG: LessonList - deleteLesson result:', result);
            if (result.error) {
                console.error('DEBUG: LessonList - Error deleting lesson:', result.error);
                setError(result.error);
            } else {
                console.log('DEBUG: LessonList - Lesson deleted successfully');
                setLessons(lessons.filter((lesson)=>lesson.id !== id));
                if (selectedLessonId === id) {
                    onSelectLesson(null);
                }
                onLessonUpdated();
            }
        } catch (err) {
            console.error('DEBUG: LessonList - Exception deleting lesson:', err);
            setError('Failed to delete lesson');
        }
    };
    const handleDragEnd = async (event)=>{
        const { active, over } = event;
        if (over && active.id !== over.id) {
            // Find the indices of the dragged and target items
            const oldIndex = lessons.findIndex((lesson)=>lesson.id === active.id);
            const newIndex = lessons.findIndex((lesson)=>lesson.id === over.id);
            if (oldIndex !== -1 && newIndex !== -1) {
                // Update the local state optimistically
                const newLessons = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$dnd$2d$kit$2f$sortable$2f$dist$2f$sortable$2e$esm$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["arrayMove"])(lessons, oldIndex, newIndex);
                setLessons(newLessons);
                // Update the order on the server
                const lessonIds = newLessons.map((lesson)=>lesson.id);
                const result = await (0, __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$actions$2f$data$3a$f716c1__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$text$2f$javascript$3e$__["reorderLessons"])(moduleId, lessonIds);
                if (result.error) {
                    setError(result.error);
                    // If reorder failed, revert the change
                    loadLessons();
                } else {
                    onLessonUpdated();
                }
            }
        }
    };
    return /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
        className: "h-full flex flex-col",
        children: [
            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                className: "p-4 border-b border-gray-700",
                children: [
                    /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("h3", {
                        className: "text-lg font-semibold text-white",
                        children: "Lessons"
                    }, void 0, false, {
                        fileName: "[project]/src/components/admin/LessonList.tsx",
                        lineNumber: 239,
                        columnNumber: 9
                    }, ("TURBOPACK compile-time value", void 0)),
                    error && /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                        className: "mt-2 p-2 bg-red-900/30 border border-red-700 rounded text-red-300 text-sm",
                        children: error
                    }, void 0, false, {
                        fileName: "[project]/src/components/admin/LessonList.tsx",
                        lineNumber: 241,
                        columnNumber: 11
                    }, ("TURBOPACK compile-time value", void 0))
                ]
            }, void 0, true, {
                fileName: "[project]/src/components/admin/LessonList.tsx",
                lineNumber: 238,
                columnNumber: 7
            }, ("TURBOPACK compile-time value", void 0)),
            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                className: "flex-1 overflow-y-auto",
                children: loading ? /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                    className: "p-4 text-center text-gray-400",
                    children: "Loading lessons..."
                }, void 0, false, {
                    fileName: "[project]/src/components/admin/LessonList.tsx",
                    lineNumber: 249,
                    columnNumber: 11
                }, ("TURBOPACK compile-time value", void 0)) : lessons.length === 0 ? /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                    className: "p-4 text-center text-gray-400",
                    children: moduleId ? 'No lessons found' : 'Select a module to view lessons'
                }, void 0, false, {
                    fileName: "[project]/src/components/admin/LessonList.tsx",
                    lineNumber: 251,
                    columnNumber: 11
                }, ("TURBOPACK compile-time value", void 0)) : /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$dnd$2d$kit$2f$core$2f$dist$2f$core$2e$esm$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["DndContext"], {
                    sensors: sensors,
                    collisionDetection: __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$dnd$2d$kit$2f$core$2f$dist$2f$core$2e$esm$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["closestCenter"],
                    onDragEnd: handleDragEnd,
                    children: /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$dnd$2d$kit$2f$sortable$2f$dist$2f$sortable$2e$esm$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["SortableContext"], {
                        items: lessons.map((l)=>l.id),
                        strategy: __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$dnd$2d$kit$2f$sortable$2f$dist$2f$sortable$2e$esm$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["verticalListSortingStrategy"],
                        children: /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("ul", {
                            className: "divide-y divide-gray-700",
                            children: lessons.map((lesson)=>/*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])(SortableLessonItem, {
                                    lesson: lesson,
                                    isSelected: selectedLessonId === lesson.id,
                                    onSelect: onSelectLesson,
                                    onDelete: handleDeleteLesson,
                                    onEdit: onEditLesson
                                }, lesson.id, false, {
                                    fileName: "[project]/src/components/admin/LessonList.tsx",
                                    lineNumber: 263,
                                    columnNumber: 19
                                }, ("TURBOPACK compile-time value", void 0)))
                        }, void 0, false, {
                            fileName: "[project]/src/components/admin/LessonList.tsx",
                            lineNumber: 261,
                            columnNumber: 15
                        }, ("TURBOPACK compile-time value", void 0))
                    }, void 0, false, {
                        fileName: "[project]/src/components/admin/LessonList.tsx",
                        lineNumber: 260,
                        columnNumber: 13
                    }, ("TURBOPACK compile-time value", void 0))
                }, void 0, false, {
                    fileName: "[project]/src/components/admin/LessonList.tsx",
                    lineNumber: 255,
                    columnNumber: 11
                }, ("TURBOPACK compile-time value", void 0))
            }, void 0, false, {
                fileName: "[project]/src/components/admin/LessonList.tsx",
                lineNumber: 247,
                columnNumber: 7
            }, ("TURBOPACK compile-time value", void 0))
        ]
    }, void 0, true, {
        fileName: "[project]/src/components/admin/LessonList.tsx",
        lineNumber: 237,
        columnNumber: 5
    }, ("TURBOPACK compile-time value", void 0));
};
const __TURBOPACK__default__export__ = LessonList;
}),
"[project]/src/actions/data:8c0d7e [app-ssr] (ecmascript) <text/javascript>", ((__turbopack_context__) => {
"use strict";

__turbopack_context__.s([
    "updateLesson",
    ()=>$$RSC_SERVER_ACTION_12
]);
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$build$2f$webpack$2f$loaders$2f$next$2d$flight$2d$loader$2f$action$2d$client$2d$wrapper$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/next/dist/build/webpack/loaders/next-flight-loader/action-client-wrapper.js [app-ssr] (ecmascript)");
/* __next_internal_action_entry_do_not_use__ [{"609d5750ce9eb702195e2c54ba908d22b9c64a6264":"updateLesson"},"src/actions/courseActions.ts",""] */ "use turbopack no side effects";
;
const $$RSC_SERVER_ACTION_12 = /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$build$2f$webpack$2f$loaders$2f$next$2d$flight$2d$loader$2f$action$2d$client$2d$wrapper$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["createServerReference"])("609d5750ce9eb702195e2c54ba908d22b9c64a6264", __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$build$2f$webpack$2f$loaders$2f$next$2d$flight$2d$loader$2f$action$2d$client$2d$wrapper$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["callServer"], void 0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$build$2f$webpack$2f$loaders$2f$next$2d$flight$2d$loader$2f$action$2d$client$2d$wrapper$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["findSourceMapURL"], "updateLesson");
;
 //# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4vY291cnNlQWN0aW9ucy50cyJdLCJzb3VyY2VzQ29udGVudCI6WyIndXNlIHNlcnZlcidcclxuXHJcbmltcG9ydCB7IGNvb2tpZXMgfSBmcm9tICduZXh0L2hlYWRlcnMnO1xyXG5pbXBvcnQgeyBjcmVhdGVTZXJ2ZXJDbGllbnQgfSBmcm9tICdAc3VwYWJhc2Uvc3NyJztcclxuaW1wb3J0IHsgcmV2YWxpZGF0ZVBhdGggfSBmcm9tICduZXh0L2NhY2hlJztcclxuaW1wb3J0IHsgcGFyc2VZb3VUdWJlIH0gZnJvbSAnQC9saWIveW91dHViZVBhcnNlcic7XHJcblxyXG4vLyBUeXBlIGRlZmluaXRpb25zXHJcbnR5cGUgQ291cnNlID0ge1xyXG4gIGlkOiBzdHJpbmc7XHJcbiAgdGl0bGU6IHN0cmluZztcclxuICBkZXNjcmlwdGlvbjogc3RyaW5nO1xyXG4gIGlzX3B1Ymxpc2hlZDogYm9vbGVhbjtcclxuICBjcmVhdGVkX2F0OiBzdHJpbmc7XHJcbiAgdXBkYXRlZF9hdDogc3RyaW5nO1xyXG59O1xyXG5cclxudHlwZSBNb2R1bGUgPSB7XHJcbiAgaWQ6IHN0cmluZztcclxuICBjb3Vyc2VfaWQ6IHN0cmluZztcclxuICB0aXRsZTogc3RyaW5nO1xyXG4gIG9yZGVyX2luZGV4OiBudW1iZXI7XHJcbn07XHJcblxyXG50eXBlIExlc3NvbiA9IHtcclxuICBpZDogc3RyaW5nO1xyXG4gIG1vZHVsZV9pZDogc3RyaW5nO1xyXG4gIHRpdGxlOiBzdHJpbmc7XHJcbiAgZGVzY3JpcHRpb246IHN0cmluZztcclxuICBvcmRlcl9pbmRleDogbnVtYmVyO1xyXG4gIHZpZGVvX3Byb3ZpZGVyOiBzdHJpbmc7XHJcbiAgdmlkZW9fdXJsOiBzdHJpbmcgfCBudWxsO1xyXG4gIHlvdXR1YmVfdmlkZW9faWQ6IHN0cmluZyB8IG51bGw7XHJcbiAgaXNfcHJldmlldzogYm9vbGVhbjtcclxuICBpc19wdWJsaXNoZWQ6IGJvb2xlYW47XHJcbiAgY3JlYXRlZF9hdDogc3RyaW5nO1xyXG4gIHVwZGF0ZWRfYXQ6IHN0cmluZztcclxufTtcclxuXHJcbi8vIEhlbHBlciBmdW5jdGlvbiB0byBjcmVhdGUgU3VwYWJhc2UgY2xpZW50IGZvciBzZXJ2ZXIgYWN0aW9uc1xyXG5hc3luYyBmdW5jdGlvbiBjcmVhdGVTdXBhYmFzZUNsaWVudCgpIHtcclxuICBjb25zdCBjb29raWVTdG9yZSA9IGF3YWl0IGNvb2tpZXMoKTtcclxuICByZXR1cm4gY3JlYXRlU2VydmVyQ2xpZW50KFxyXG4gICAgcHJvY2Vzcy5lbnYuTkVYVF9QVUJMSUNfU1VQQUJBU0VfVVJMISxcclxuICAgIHByb2Nlc3MuZW52Lk5FWFRfUFVCTElDX1NVUEFCQVNFX0FOT05fS0VZISxcclxuICAgIHtcclxuICAgICAgY29va2llczoge1xyXG4gICAgICAgIGdldDogKG5hbWU6IHN0cmluZykgPT4ge1xyXG4gICAgICAgICAgY29uc3QgY29va2llID0gY29va2llU3RvcmUuZ2V0KG5hbWUpO1xyXG4gICAgICAgICAgcmV0dXJuIGNvb2tpZSA/IGNvb2tpZS52YWx1ZSA6IHVuZGVmaW5lZDtcclxuICAgICAgICB9LFxyXG4gICAgICB9LFxyXG4gICAgfVxyXG4gICk7XHJcbn1cclxuXHJcbi8vIENoZWNrIGlmIHVzZXIgaXMgYWRtaW5cclxuYXN5bmMgZnVuY3Rpb24gaXNBZG1pbihzdXBhYmFzZTogYW55KTogUHJvbWlzZTxib29sZWFuPiB7XHJcbiAgY29uc3Qge1xyXG4gICAgZGF0YTogeyB1c2VyIH0sXHJcbiAgICBlcnJvcjogdXNlckVycm9yLFxyXG4gIH0gPSBhd2FpdCBzdXBhYmFzZS5hdXRoLmdldFVzZXIoKTtcclxuXHJcbiAgaWYgKHVzZXJFcnJvciB8fCAhdXNlcikge1xyXG4gICAgcmV0dXJuIGZhbHNlO1xyXG4gIH1cclxuXHJcbiAgY29uc3QgeyBkYXRhOiBwcm9maWxlLCBlcnJvcjogcHJvZmlsZUVycm9yIH0gPSBhd2FpdCBzdXBhYmFzZVxyXG4gICAgLmZyb20oJ3Byb2ZpbGVzJylcclxuICAgIC5zZWxlY3QoJ3JvbGUnKVxyXG4gICAgLmVxKCdpZCcsIHVzZXIuaWQpXHJcbiAgICAuc2luZ2xlKCk7XHJcblxyXG4gIGlmIChwcm9maWxlRXJyb3IgfHwgIXByb2ZpbGUpIHtcclxuICAgIHJldHVybiBmYWxzZTtcclxuICB9XHJcblxyXG4gIHJldHVybiBwcm9maWxlLnJvbGUgPT09ICdhZG1pbicgfHwgcHJvZmlsZS5yb2xlID09PSAndGVhY2hlcic7XHJcbn1cclxuXHJcbi8vIENvdXJzZSBBY3Rpb25zXHJcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBsaXN0Q291cnNlcygpOiBQcm9taXNlPHsgZGF0YTogQ291cnNlW10gfCBudWxsOyBlcnJvcjogc3RyaW5nIHwgbnVsbCB9PiB7XHJcbiAgY29uc3Qgc3VwYWJhc2UgPSBhd2FpdCBjcmVhdGVTdXBhYmFzZUNsaWVudCgpO1xyXG4gIFxyXG4gIHRyeSB7XHJcbiAgICAvLyBDaGVjayBhZG1pbiBhY2Nlc3NcclxuICAgIGNvbnN0IGFkbWluQ2hlY2sgPSBhd2FpdCBpc0FkbWluKHN1cGFiYXNlKTtcclxuICAgIGlmICghYWRtaW5DaGVjaykge1xyXG4gICAgICBjb25zb2xlLmxvZygnREVCVUc6IGxpc3RDb3Vyc2VzIC0gQWNjZXNzIGRlbmllZCwgbm90IGFkbWluL3RlYWNoZXInKTtcclxuICAgICAgcmV0dXJuIHsgZGF0YTogbnVsbCwgZXJyb3I6ICdBY2Nlc3MgZGVuaWVkLiBBZG1pbiBvciB0ZWFjaGVyIHJvbGUgcmVxdWlyZWQuJyB9O1xyXG4gICAgfVxyXG4gICAgXHJcbiAgICBjb25zb2xlLmxvZygnREVCVUc6IGxpc3RDb3Vyc2VzIC0gRmV0Y2hpbmcgYWxsIGNvdXJzZXMgZm9yIGFkbWluJyk7XHJcbiAgICBcclxuICAgIGNvbnN0IHsgZGF0YSwgZXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlXHJcbiAgICAgIC5mcm9tKCdjb3Vyc2VzJylcclxuICAgICAgLnNlbGVjdCgnKicpXHJcbiAgICAgIC5vcmRlcignY3JlYXRlZF9hdCcsIHsgYXNjZW5kaW5nOiBmYWxzZSB9KTtcclxuICAgIFxyXG4gICAgY29uc29sZS5sb2coJ0RFQlVHOiBsaXN0Q291cnNlcyAtIFF1ZXJ5IHJlc3VsdDonLCB7IGRhdGE6IGRhdGE/Lmxlbmd0aCwgZXJyb3IgfSk7XHJcbiAgICBcclxuICAgIGlmIChlcnJvcikge1xyXG4gICAgICBjb25zb2xlLmVycm9yKCdERUJVRzogbGlzdENvdXJzZXMgLSBTdXBhYmFzZSBlcnJvcjonLCBlcnJvcik7XHJcbiAgICAgIHJldHVybiB7IGRhdGE6IG51bGwsIGVycm9yOiBlcnJvci5tZXNzYWdlIH07XHJcbiAgICB9XHJcblxyXG4gICAgY29uc29sZS5sb2coJ0RFQlVHOiBsaXN0Q291cnNlcyAtIFJldHVybmluZyBjb3Vyc2VzOicsIGRhdGE/Lmxlbmd0aCk7XHJcbiAgICByZXR1cm4geyBkYXRhLCBlcnJvcjogbnVsbCB9O1xyXG4gIH0gY2F0Y2ggKGVycm9yOiBhbnkpIHtcclxuICAgIGNvbnNvbGUuZXJyb3IoJ0RFQlVHOiBsaXN0Q291cnNlcyAtIEV4Y2VwdGlvbjonLCBlcnJvcik7XHJcbiAgICByZXR1cm4geyBkYXRhOiBudWxsLCBlcnJvcjogZXJyb3IubWVzc2FnZSB9O1xyXG4gIH1cclxufVxyXG5cclxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGNyZWF0ZUNvdXJzZSh0aXRsZTogc3RyaW5nLCBkZXNjcmlwdGlvbjogc3RyaW5nKTogUHJvbWlzZTx7IGRhdGE6IENvdXJzZSB8IG51bGw7IGVycm9yOiBzdHJpbmcgfCBudWxsIH0+IHtcclxuICBjb25zdCBzdXBhYmFzZSA9IGF3YWl0IGNyZWF0ZVN1cGFiYXNlQ2xpZW50KCk7XHJcbiAgXHJcbiAgdHJ5IHtcclxuICAgIC8vIENoZWNrIGFkbWluIGFjY2Vzc1xyXG4gICAgY29uc3QgYWRtaW5DaGVjayA9IGF3YWl0IGlzQWRtaW4oc3VwYWJhc2UpO1xyXG4gICAgaWYgKCFhZG1pbkNoZWNrKSB7XHJcbiAgICAgIGNvbnNvbGUubG9nKCdERUJVRzogY3JlYXRlQ291cnNlIC0gQWNjZXNzIGRlbmllZCwgbm90IGFkbWluL3RlYWNoZXInKTtcclxuICAgICAgcmV0dXJuIHsgZGF0YTogbnVsbCwgZXJyb3I6ICdBY2Nlc3MgZGVuaWVkLiBBZG1pbiBvciB0ZWFjaGVyIHJvbGUgcmVxdWlyZWQuJyB9O1xyXG4gICAgfVxyXG4gICAgXHJcbiAgICBjb25zb2xlLmxvZygnREVCVUc6IGNyZWF0ZUNvdXJzZSAtIENyZWF0aW5nIGNvdXJzZTonLCB7IHRpdGxlLCBkZXNjcmlwdGlvbiB9KTtcclxuXHJcbiAgICBjb25zdCB7IGRhdGEsIGVycm9yIH0gPSBhd2FpdCBzdXBhYmFzZVxyXG4gICAgICAuZnJvbSgnY291cnNlcycpXHJcbiAgICAgIC5pbnNlcnQoW3sgdGl0bGUsIGRlc2NyaXB0aW9uIH1dKVxyXG4gICAgICAuc2VsZWN0KClcclxuICAgICAgLnNpbmdsZSgpO1xyXG4gICAgXHJcbiAgICBjb25zb2xlLmxvZygnREVCVUc6IGNyZWF0ZUNvdXJzZSAtIEluc2VydCByZXN1bHQ6JywgeyBkYXRhOiAhIWRhdGEsIGVycm9yIH0pO1xyXG5cclxuICAgIGlmIChlcnJvcikge1xyXG4gICAgICBjb25zb2xlLmVycm9yKCdERUJVRzogY3JlYXRlQ291cnNlIC0gU3VwYWJhc2UgZXJyb3I6JywgZXJyb3IpO1xyXG4gICAgICByZXR1cm4geyBkYXRhOiBudWxsLCBlcnJvcjogZXJyb3IubWVzc2FnZSB9O1xyXG4gICAgfVxyXG5cclxuICAgIC8vIFJldmFsaWRhdGUgdGhlIGNhY2hlIHRvIGVuc3VyZSBmcm9udGVuZCByZWZsZWN0cyBjaGFuZ2VzXHJcbiAgICByZXZhbGlkYXRlUGF0aCgnL2NvdXJzZXMnKTtcclxuICAgIHJldmFsaWRhdGVQYXRoKCcvZGFzaGJvYXJkJyk7XHJcbiAgICBcclxuICAgIGNvbnNvbGUubG9nKCdERUJVRzogY3JlYXRlQ291cnNlIC0gQ291cnNlIGNyZWF0ZWQgc3VjY2Vzc2Z1bGx5LCBjYWNoZSBpbnZhbGlkYXRlZCcpO1xyXG4gICAgXHJcbiAgICByZXR1cm4geyBkYXRhLCBlcnJvcjogbnVsbCB9O1xyXG4gIH0gY2F0Y2ggKGVycm9yOiBhbnkpIHtcclxuICAgIGNvbnNvbGUuZXJyb3IoJ0RFQlVHOiBjcmVhdGVDb3Vyc2UgLSBFeGNlcHRpb246JywgZXJyb3IpO1xyXG4gICAgcmV0dXJuIHsgZGF0YTogbnVsbCwgZXJyb3I6IGVycm9yLm1lc3NhZ2UgfTtcclxuICB9XHJcbn1cclxuXHJcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiB1cGRhdGVDb3Vyc2UoaWQ6IHN0cmluZywgdXBkYXRlczogUGFydGlhbDxDb3Vyc2U+KTogUHJvbWlzZTx7IGRhdGE6IENvdXJzZSB8IG51bGw7IGVycm9yOiBzdHJpbmcgfCBudWxsIH0+IHtcclxuICBjb25zdCBzdXBhYmFzZSA9IGF3YWl0IGNyZWF0ZVN1cGFiYXNlQ2xpZW50KCk7XHJcbiAgXHJcbiAgdHJ5IHtcclxuICAgIC8vIENoZWNrIGFkbWluIGFjY2Vzc1xyXG4gICAgY29uc3QgYWRtaW5DaGVjayA9IGF3YWl0IGlzQWRtaW4oc3VwYWJhc2UpO1xyXG4gICAgaWYgKCFhZG1pbkNoZWNrKSB7XHJcbiAgICAgIHJldHVybiB7IGRhdGE6IG51bGwsIGVycm9yOiAnQWNjZXNzIGRlbmllZC4gQWRtaW4gb3IgdGVhY2hlciByb2xlIHJlcXVpcmVkLicgfTtcclxuICAgIH1cclxuXHJcbiAgICBjb25zdCB7IGRhdGEsIGVycm9yIH0gPSBhd2FpdCBzdXBhYmFzZVxyXG4gICAgICAuZnJvbSgnY291cnNlcycpXHJcbiAgICAgIC51cGRhdGUodXBkYXRlcylcclxuICAgICAgLmVxKCdpZCcsIGlkKVxyXG4gICAgICAuc2VsZWN0KClcclxuICAgICAgLnNpbmdsZSgpO1xyXG5cclxuICAgIGlmIChlcnJvcikge1xyXG4gICAgICByZXR1cm4geyBkYXRhOiBudWxsLCBlcnJvcjogZXJyb3IubWVzc2FnZSB9O1xyXG4gICAgfVxyXG5cclxuICAgIC8vIFJldmFsaWRhdGUgdGhlIGNhY2hlIHRvIGVuc3VyZSBmcm9udGVuZCByZWZsZWN0cyBjaGFuZ2VzXHJcbiAgICByZXZhbGlkYXRlUGF0aCgnL2NvdXJzZXMnKTtcclxuICAgIHJldmFsaWRhdGVQYXRoKCcvZGFzaGJvYXJkJyk7XHJcbiAgICBcclxuICAgIHJldHVybiB7IGRhdGEsIGVycm9yOiBudWxsIH07XHJcbiAgfSBjYXRjaCAoZXJyb3I6IGFueSkge1xyXG4gICAgcmV0dXJuIHsgZGF0YTogbnVsbCwgZXJyb3I6IGVycm9yLm1lc3NhZ2UgfTtcclxuICB9XHJcbn1cclxuXHJcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBkZWxldGVDb3Vyc2UoaWQ6IHN0cmluZyk6IFByb21pc2U8eyBlcnJvcjogc3RyaW5nIHwgbnVsbCB9PiB7XHJcbiAgY29uc3Qgc3VwYWJhc2UgPSBhd2FpdCBjcmVhdGVTdXBhYmFzZUNsaWVudCgpO1xyXG4gIFxyXG4gIHRyeSB7XHJcbiAgICAvLyBDaGVjayBhZG1pbiBhY2Nlc3NcclxuICAgIGNvbnN0IGFkbWluQ2hlY2sgPSBhd2FpdCBpc0FkbWluKHN1cGFiYXNlKTtcclxuICAgIGlmICghYWRtaW5DaGVjaykge1xyXG4gICAgICByZXR1cm4geyBlcnJvcjogJ0FjY2VzcyBkZW5pZWQuIEFkbWluIG9yIHRlYWNoZXIgcm9sZSByZXF1aXJlZC4nIH07XHJcbiAgICB9XHJcblxyXG4gICAgY29uc3QgeyBlcnJvciB9ID0gYXdhaXQgc3VwYWJhc2VcclxuICAgICAgLmZyb20oJ2NvdXJzZXMnKVxyXG4gICAgICAuZGVsZXRlKClcclxuICAgICAgLmVxKCdpZCcsIGlkKTtcclxuXHJcbiAgICBpZiAoZXJyb3IpIHtcclxuICAgICAgcmV0dXJuIHsgZXJyb3I6IGVycm9yLm1lc3NhZ2UgfTtcclxuICAgIH1cclxuXHJcbiAgICAvLyBSZXZhbGlkYXRlIHRoZSBjYWNoZSB0byBlbnN1cmUgZnJvbnRlbmQgcmVmbGVjdHMgY2hhbmdlc1xyXG4gICAgcmV2YWxpZGF0ZVBhdGgoJy9jb3Vyc2VzJyk7XHJcbiAgICByZXZhbGlkYXRlUGF0aCgnL2Rhc2hib2FyZCcpO1xyXG4gICAgXHJcbiAgICByZXR1cm4geyBlcnJvcjogbnVsbCB9O1xyXG4gIH0gY2F0Y2ggKGVycm9yOiBhbnkpIHtcclxuICAgIHJldHVybiB7IGVycm9yOiBlcnJvci5tZXNzYWdlIH07XHJcbiAgfVxyXG59XHJcblxyXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gcHVibGlzaENvdXJzZShpZDogc3RyaW5nLCBpc1B1Ymxpc2hlZDogYm9vbGVhbik6IFByb21pc2U8eyBkYXRhOiBDb3Vyc2UgfCBudWxsOyBlcnJvcjogc3RyaW5nIHwgbnVsbCB9PiB7XHJcbiAgY29uc3Qgc3VwYWJhc2UgPSBhd2FpdCBjcmVhdGVTdXBhYmFzZUNsaWVudCgpO1xyXG4gIFxyXG4gIHRyeSB7XHJcbiAgICAvLyBDaGVjayBhZG1pbiBhY2Nlc3NcclxuICAgIGNvbnN0IGFkbWluQ2hlY2sgPSBhd2FpdCBpc0FkbWluKHN1cGFiYXNlKTtcclxuICAgIGlmICghYWRtaW5DaGVjaykge1xyXG4gICAgICByZXR1cm4geyBkYXRhOiBudWxsLCBlcnJvcjogJ0FjY2VzcyBkZW5pZWQuIEFkbWluIG9yIHRlYWNoZXIgcm9sZSByZXF1aXJlZC4nIH07XHJcbiAgICB9XHJcblxyXG4gICAgY29uc3QgeyBkYXRhLCBlcnJvciB9ID0gYXdhaXQgc3VwYWJhc2VcclxuICAgICAgLmZyb20oJ2NvdXJzZXMnKVxyXG4gICAgICAudXBkYXRlKHsgaXNfcHVibGlzaGVkOiBpc1B1Ymxpc2hlZCB9KVxyXG4gICAgICAuZXEoJ2lkJywgaWQpXHJcbiAgICAgIC5zZWxlY3QoKVxyXG4gICAgICAuc2luZ2xlKCk7XHJcblxyXG4gICAgaWYgKGVycm9yKSB7XHJcbiAgICAgIHJldHVybiB7IGRhdGE6IG51bGwsIGVycm9yOiBlcnJvci5tZXNzYWdlIH07XHJcbiAgICB9XHJcblxyXG4gICAgLy8gUmV2YWxpZGF0ZSB0aGUgY2FjaGUgdG8gZW5zdXJlIGZyb250ZW5kIHJlZmxlY3RzIGNoYW5nZXNcclxuICAgIHJldmFsaWRhdGVQYXRoKCcvY291cnNlcycpO1xyXG4gICAgcmV2YWxpZGF0ZVBhdGgoJy9kYXNoYm9hcmQnKTtcclxuICAgIFxyXG4gICAgcmV0dXJuIHsgZGF0YSwgZXJyb3I6IG51bGwgfTtcclxuICB9IGNhdGNoIChlcnJvcjogYW55KSB7XHJcbiAgICByZXR1cm4geyBkYXRhOiBudWxsLCBlcnJvcjogZXJyb3IubWVzc2FnZSB9O1xyXG4gIH1cclxufVxyXG5cclxuLy8gTW9kdWxlIEFjdGlvbnNcclxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGxpc3RNb2R1bGVzKGNvdXJzZUlkOiBzdHJpbmcpOiBQcm9taXNlPHsgZGF0YTogTW9kdWxlW10gfCBudWxsOyBlcnJvcjogc3RyaW5nIHwgbnVsbCB9PiB7XHJcbiAgY29uc3Qgc3VwYWJhc2UgPSBhd2FpdCBjcmVhdGVTdXBhYmFzZUNsaWVudCgpO1xyXG4gIFxyXG4gIHRyeSB7XHJcbiAgICAvLyBDaGVjayBhZG1pbiBhY2Nlc3NcclxuICAgIGNvbnN0IGFkbWluQ2hlY2sgPSBhd2FpdCBpc0FkbWluKHN1cGFiYXNlKTtcclxuICAgIGlmICghYWRtaW5DaGVjaykge1xyXG4gICAgICByZXR1cm4geyBkYXRhOiBudWxsLCBlcnJvcjogJ0FjY2VzcyBkZW5pZWQuIEFkbWluIG9yIHRlYWNoZXIgcm9sZSByZXF1aXJlZC4nIH07XHJcbiAgICB9XHJcblxyXG4gICAgY29uc3QgeyBkYXRhLCBlcnJvciB9ID0gYXdhaXQgc3VwYWJhc2VcclxuICAgICAgLmZyb20oJ21vZHVsZXMnKVxyXG4gICAgICAuc2VsZWN0KCcqJylcclxuICAgICAgLmVxKCdjb3Vyc2VfaWQnLCBjb3Vyc2VJZClcclxuICAgICAgLm9yZGVyKCdvcmRlcl9pbmRleCcsIHsgYXNjZW5kaW5nOiB0cnVlIH0pO1xyXG5cclxuICAgIGlmIChlcnJvcikge1xyXG4gICAgICByZXR1cm4geyBkYXRhOiBudWxsLCBlcnJvcjogZXJyb3IubWVzc2FnZSB9O1xyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiB7IGRhdGEsIGVycm9yOiBudWxsIH07XHJcbiAgfSBjYXRjaCAoZXJyb3I6IGFueSkge1xyXG4gICAgcmV0dXJuIHsgZGF0YTogbnVsbCwgZXJyb3I6IGVycm9yLm1lc3NhZ2UgfTtcclxuICB9XHJcbn1cclxuXHJcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBjcmVhdGVNb2R1bGUoY291cnNlSWQ6IHN0cmluZywgdGl0bGU6IHN0cmluZyk6IFByb21pc2U8eyBkYXRhOiBNb2R1bGUgfCBudWxsOyBlcnJvcjogc3RyaW5nIHwgbnVsbCB9PiB7XHJcbiAgY29uc3Qgc3VwYWJhc2UgPSBhd2FpdCBjcmVhdGVTdXBhYmFzZUNsaWVudCgpO1xyXG4gIFxyXG4gIHRyeSB7XHJcbiAgICAvLyBDaGVjayBhZG1pbiBhY2Nlc3NcclxuICAgIGNvbnN0IGFkbWluQ2hlY2sgPSBhd2FpdCBpc0FkbWluKHN1cGFiYXNlKTtcclxuICAgIGlmICghYWRtaW5DaGVjaykge1xyXG4gICAgICByZXR1cm4geyBkYXRhOiBudWxsLCBlcnJvcjogJ0FjY2VzcyBkZW5pZWQuIEFkbWluIG9yIHRlYWNoZXIgcm9sZSByZXF1aXJlZC4nIH07XHJcbiAgICB9XHJcblxyXG4gICAgLy8gR2V0IHRoZSBoaWdoZXN0IG9yZGVyX2luZGV4IHRvIGRldGVybWluZSB0aGUgbmV3IHBvc2l0aW9uXHJcbiAgICBjb25zdCB7IGRhdGE6IGV4aXN0aW5nTW9kdWxlcyB9ID0gYXdhaXQgc3VwYWJhc2VcclxuICAgICAgLmZyb20oJ21vZHVsZXMnKVxyXG4gICAgICAuc2VsZWN0KCdvcmRlcl9pbmRleCcpXHJcbiAgICAgIC5lcSgnY291cnNlX2lkJywgY291cnNlSWQpXHJcbiAgICAgIC5vcmRlcignb3JkZXJfaW5kZXgnLCB7IGFzY2VuZGluZzogZmFsc2UgfSlcclxuICAgICAgLmxpbWl0KDEpO1xyXG5cclxuICAgIGNvbnN0IG5ld09yZGVySW5kZXggPSBleGlzdGluZ01vZHVsZXMgJiYgZXhpc3RpbmdNb2R1bGVzLmxlbmd0aCA+IDAgXHJcbiAgICAgID8gZXhpc3RpbmdNb2R1bGVzWzBdLm9yZGVyX2luZGV4ICsgMTAgXHJcbiAgICAgIDogMDtcclxuXHJcbiAgICBjb25zdCB7IGRhdGEsIGVycm9yIH0gPSBhd2FpdCBzdXBhYmFzZVxyXG4gICAgICAuZnJvbSgnbW9kdWxlcycpXHJcbiAgICAgIC5pbnNlcnQoW3sgY291cnNlX2lkOiBjb3Vyc2VJZCwgdGl0bGUsIG9yZGVyX2luZGV4OiBuZXdPcmRlckluZGV4IH1dKVxyXG4gICAgICAuc2VsZWN0KClcclxuICAgICAgLnNpbmdsZSgpO1xyXG5cclxuICAgIGlmIChlcnJvcikge1xyXG4gICAgICByZXR1cm4geyBkYXRhOiBudWxsLCBlcnJvcjogZXJyb3IubWVzc2FnZSB9O1xyXG4gICAgfVxyXG5cclxuICAgIC8vIFJldmFsaWRhdGUgdGhlIGNhY2hlIHRvIGVuc3VyZSBmcm9udGVuZCByZWZsZWN0cyBjaGFuZ2VzXHJcbiAgICByZXZhbGlkYXRlUGF0aCgnL2NvdXJzZXMnKTtcclxuICAgIHJldmFsaWRhdGVQYXRoKCcvZGFzaGJvYXJkJyk7XHJcbiAgICBcclxuICAgIHJldHVybiB7IGRhdGEsIGVycm9yOiBudWxsIH07XHJcbiAgfSBjYXRjaCAoZXJyb3I6IGFueSkge1xyXG4gICAgcmV0dXJuIHsgZGF0YTogbnVsbCwgZXJyb3I6IGVycm9yLm1lc3NhZ2UgfTtcclxuICB9XHJcbn1cclxuXHJcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiB1cGRhdGVNb2R1bGUoaWQ6IHN0cmluZywgdXBkYXRlczogUGFydGlhbDxNb2R1bGU+KTogUHJvbWlzZTx7IGRhdGE6IE1vZHVsZSB8IG51bGw7IGVycm9yOiBzdHJpbmcgfCBudWxsIH0+IHtcclxuICBjb25zdCBzdXBhYmFzZSA9IGF3YWl0IGNyZWF0ZVN1cGFiYXNlQ2xpZW50KCk7XHJcbiAgXHJcbiAgdHJ5IHtcclxuICAgIC8vIENoZWNrIGFkbWluIGFjY2Vzc1xyXG4gICAgY29uc3QgYWRtaW5DaGVjayA9IGF3YWl0IGlzQWRtaW4oc3VwYWJhc2UpO1xyXG4gICAgaWYgKCFhZG1pbkNoZWNrKSB7XHJcbiAgICAgIHJldHVybiB7IGRhdGE6IG51bGwsIGVycm9yOiAnQWNjZXNzIGRlbmllZC4gQWRtaW4gb3IgdGVhY2hlciByb2xlIHJlcXVpcmVkLicgfTtcclxuICAgIH1cclxuXHJcbiAgICBjb25zdCB7IGRhdGEsIGVycm9yIH0gPSBhd2FpdCBzdXBhYmFzZVxyXG4gICAgICAuZnJvbSgnbW9kdWxlcycpXHJcbiAgICAgIC51cGRhdGUodXBkYXRlcylcclxuICAgICAgLmVxKCdpZCcsIGlkKVxyXG4gICAgICAuc2VsZWN0KClcclxuICAgICAgLnNpbmdsZSgpO1xyXG5cclxuICAgIGlmIChlcnJvcikge1xyXG4gICAgICByZXR1cm4geyBkYXRhOiBudWxsLCBlcnJvcjogZXJyb3IubWVzc2FnZSB9O1xyXG4gICAgfVxyXG5cclxuICAgIC8vIFJldmFsaWRhdGUgdGhlIGNhY2hlIHRvIGVuc3VyZSBmcm9udGVuZCByZWZsZWN0cyBjaGFuZ2VzXHJcbiAgICByZXZhbGlkYXRlUGF0aCgnL2NvdXJzZXMnKTtcclxuICAgIHJldmFsaWRhdGVQYXRoKCcvZGFzaGJvYXJkJyk7XHJcbiAgICBcclxuICAgIHJldHVybiB7IGRhdGEsIGVycm9yOiBudWxsIH07XHJcbiAgfSBjYXRjaCAoZXJyb3I6IGFueSkge1xyXG4gICAgcmV0dXJuIHsgZGF0YTogbnVsbCwgZXJyb3I6IGVycm9yLm1lc3NhZ2UgfTtcclxuICB9XHJcbn1cclxuXHJcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBkZWxldGVNb2R1bGUoaWQ6IHN0cmluZyk6IFByb21pc2U8eyBlcnJvcjogc3RyaW5nIHwgbnVsbCB9PiB7XHJcbiAgY29uc3Qgc3VwYWJhc2UgPSBhd2FpdCBjcmVhdGVTdXBhYmFzZUNsaWVudCgpO1xyXG4gIFxyXG4gIHRyeSB7XHJcbiAgICAvLyBDaGVjayBhZG1pbiBhY2Nlc3NcclxuICAgIGNvbnN0IGFkbWluQ2hlY2sgPSBhd2FpdCBpc0FkbWluKHN1cGFiYXNlKTtcclxuICAgIGlmICghYWRtaW5DaGVjaykge1xyXG4gICAgICByZXR1cm4geyBlcnJvcjogJ0FjY2VzcyBkZW5pZWQuIEFkbWluIG9yIHRlYWNoZXIgcm9sZSByZXF1aXJlZC4nIH07XHJcbiAgICB9XHJcblxyXG4gICAgY29uc3QgeyBlcnJvciB9ID0gYXdhaXQgc3VwYWJhc2VcclxuICAgICAgLmZyb20oJ21vZHVsZXMnKVxyXG4gICAgICAuZGVsZXRlKClcclxuICAgICAgLmVxKCdpZCcsIGlkKTtcclxuXHJcbiAgICBpZiAoZXJyb3IpIHtcclxuICAgICAgcmV0dXJuIHsgZXJyb3I6IGVycm9yLm1lc3NhZ2UgfTtcclxuICAgIH1cclxuXHJcbiAgICAvLyBSZXZhbGlkYXRlIHRoZSBjYWNoZSB0byBlbnN1cmUgZnJvbnRlbmQgcmVmbGVjdHMgY2hhbmdlc1xyXG4gICAgcmV2YWxpZGF0ZVBhdGgoJy9jb3Vyc2VzJyk7XHJcbiAgICByZXZhbGlkYXRlUGF0aCgnL2Rhc2hib2FyZCcpO1xyXG4gICAgXHJcbiAgICByZXR1cm4geyBlcnJvcjogbnVsbCB9O1xyXG4gIH0gY2F0Y2ggKGVycm9yOiBhbnkpIHtcclxuICAgIHJldHVybiB7IGVycm9yOiBlcnJvci5tZXNzYWdlIH07XHJcbiAgfVxyXG59XHJcblxyXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gcmVvcmRlck1vZHVsZXMoY291cnNlSWQ6IHN0cmluZywgbW9kdWxlSWRzOiBzdHJpbmdbXSk6IFByb21pc2U8eyBlcnJvcjogc3RyaW5nIHwgbnVsbCB9PiB7XHJcbiAgY29uc3Qgc3VwYWJhc2UgPSBhd2FpdCBjcmVhdGVTdXBhYmFzZUNsaWVudCgpO1xyXG4gIFxyXG4gIHRyeSB7XHJcbiAgICAvLyBDaGVjayBhZG1pbiBhY2Nlc3NcclxuICAgIGNvbnN0IGFkbWluQ2hlY2sgPSBhd2FpdCBpc0FkbWluKHN1cGFiYXNlKTtcclxuICAgIGlmICghYWRtaW5DaGVjaykge1xyXG4gICAgICByZXR1cm4geyBlcnJvcjogJ0FjY2VzcyBkZW5pZWQuIEFkbWluIG9yIHRlYWNoZXIgcm9sZSByZXF1aXJlZC4nIH07XHJcbiAgICB9XHJcblxyXG4gICAgLy8gVXBkYXRlIGFsbCBtb2R1bGVzIHdpdGggdGhlaXIgbmV3IHBvc2l0aW9ucyBpbiBhIHNpbmdsZSB0cmFuc2FjdGlvblxyXG4gICAgY29uc3QgdXBkYXRlcyA9IG1vZHVsZUlkcy5tYXAoKGlkLCBpbmRleCkgPT4gKHtcclxuICAgICAgaWQsXHJcbiAgICAgIG9yZGVyX2luZGV4OiBpbmRleCAqIDEwIC8vIFVzZSBpbmNyZW1lbnRzIG9mIDEwIHRvIGFsbG93IGZvciBmdXR1cmUgaW5zZXJ0aW9ucyBiZXR3ZWVuIGl0ZW1zXHJcbiAgICB9KSk7XHJcblxyXG4gICAgLy8gUGVyZm9ybSB1cGRhdGVzIGluIGEgYmF0Y2hcclxuICAgIGZvciAoY29uc3QgdXBkYXRlIG9mIHVwZGF0ZXMpIHtcclxuICAgICAgY29uc3QgeyBlcnJvciB9ID0gYXdhaXQgc3VwYWJhc2VcclxuICAgICAgICAuZnJvbSgnbW9kdWxlcycpXHJcbiAgICAgICAgLnVwZGF0ZSh7IG9yZGVyX2luZGV4OiB1cGRhdGUub3JkZXJfaW5kZXggfSlcclxuICAgICAgICAuZXEoJ2lkJywgdXBkYXRlLmlkKVxyXG4gICAgICAgIC5lcSgnY291cnNlX2lkJywgY291cnNlSWQpOyAvLyBBZGRpdGlvbmFsIHNhZmV0eSBjaGVja1xyXG5cclxuICAgICAgaWYgKGVycm9yKSB7XHJcbiAgICAgICAgcmV0dXJuIHsgZXJyb3I6IGVycm9yLm1lc3NhZ2UgfTtcclxuICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8vIFJldmFsaWRhdGUgdGhlIGNhY2hlIHRvIGVuc3VyZSBmcm9udGVuZCByZWZsZWN0cyBjaGFuZ2VzXHJcbiAgICByZXZhbGlkYXRlUGF0aCgnL2NvdXJzZXMnKTtcclxuICAgIHJldmFsaWRhdGVQYXRoKCcvZGFzaGJvYXJkJyk7XHJcbiAgICBcclxuICAgIHJldHVybiB7IGVycm9yOiBudWxsIH07XHJcbiAgfSBjYXRjaCAoZXJyb3I6IGFueSkge1xyXG4gICAgcmV0dXJuIHsgZXJyb3I6IGVycm9yLm1lc3NhZ2UgfTtcclxuICB9XHJcbn1cclxuXHJcbi8vIExlc3NvbiBBY3Rpb25zXHJcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBsaXN0TGVzc29ucyhtb2R1bGVJZDogc3RyaW5nKTogUHJvbWlzZTx7IGRhdGE6IExlc3NvbltdIHwgbnVsbDsgZXJyb3I6IHN0cmluZyB8IG51bGwgfT4ge1xyXG4gIGNvbnN0IHN1cGFiYXNlID0gYXdhaXQgY3JlYXRlU3VwYWJhc2VDbGllbnQoKTtcclxuICBcclxuICB0cnkge1xyXG4gICAgLy8gQ2hlY2sgYWRtaW4gYWNjZXNzXHJcbiAgICBjb25zdCBhZG1pbkNoZWNrID0gYXdhaXQgaXNBZG1pbihzdXBhYmFzZSk7XHJcbiAgICBpZiAoIWFkbWluQ2hlY2spIHtcclxuICAgICAgcmV0dXJuIHsgZGF0YTogbnVsbCwgZXJyb3I6ICdBY2Nlc3MgZGVuaWVkLiBBZG1pbiBvciB0ZWFjaGVyIHJvbGUgcmVxdWlyZWQuJyB9O1xyXG4gICAgfVxyXG5cclxuICAgIGNvbnN0IHsgZGF0YSwgZXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlXHJcbiAgICAgIC5mcm9tKCdsZXNzb25zJylcclxuICAgICAgLnNlbGVjdCgnKicpXHJcbiAgICAgIC5lcSgnbW9kdWxlX2lkJywgbW9kdWxlSWQpXHJcbiAgICAgIC5vcmRlcignb3JkZXJfaW5kZXgnLCB7IGFzY2VuZGluZzogdHJ1ZSB9KTtcclxuXHJcbiAgICBpZiAoZXJyb3IpIHtcclxuICAgICAgcmV0dXJuIHsgZGF0YTogbnVsbCwgZXJyb3I6IGVycm9yLm1lc3NhZ2UgfTtcclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4geyBkYXRhLCBlcnJvcjogbnVsbCB9O1xyXG4gIH0gY2F0Y2ggKGVycm9yOiBhbnkpIHtcclxuICAgIHJldHVybiB7IGRhdGE6IG51bGwsIGVycm9yOiBlcnJvci5tZXNzYWdlIH07XHJcbiAgfVxyXG59XHJcblxyXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gY3JlYXRlTGVzc29uKFxyXG4gIG1vZHVsZUlkOiBzdHJpbmcsIFxyXG4gIHRpdGxlOiBzdHJpbmcsIFxyXG4gIGRlc2NyaXB0aW9uOiBzdHJpbmcsIFxyXG4gIHlvdXR1YmVVcmw6IHN0cmluZ1xyXG4pOiBQcm9taXNlPHsgZGF0YTogTGVzc29uIHwgbnVsbDsgZXJyb3I6IHN0cmluZyB8IG51bGwgfT4ge1xyXG4gIGNvbnN0IHN1cGFiYXNlID0gYXdhaXQgY3JlYXRlU3VwYWJhc2VDbGllbnQoKTtcclxuICBcclxuICB0cnkge1xyXG4gICAgLy8gQ2hlY2sgYWRtaW4gYWNjZXNzXHJcbiAgICBjb25zdCBhZG1pbkNoZWNrID0gYXdhaXQgaXNBZG1pbihzdXBhYmFzZSk7XHJcbiAgICBpZiAoIWFkbWluQ2hlY2spIHtcclxuICAgICAgcmV0dXJuIHsgZGF0YTogbnVsbCwgZXJyb3I6ICdBY2Nlc3MgZGVuaWVkLiBBZG1pbiBvciB0ZWFjaGVyIHJvbGUgcmVxdWlyZWQuJyB9O1xyXG4gICAgfVxyXG5cclxuICAgIC8vIFBhcnNlIHRoZSBZb3VUdWJlIFVSTFxyXG4gICAgY29uc3QgcGFyc2VkID0gcGFyc2VZb3VUdWJlKHlvdXR1YmVVcmwpO1xyXG4gICAgaWYgKHBhcnNlZC5lcnJvcikge1xyXG4gICAgICByZXR1cm4geyBkYXRhOiBudWxsLCBlcnJvcjogcGFyc2VkLmVycm9yIH07XHJcbiAgICB9XHJcblxyXG4gICAgLy8gR2V0IHRoZSBoaWdoZXN0IG9yZGVyX2luZGV4IHRvIGRldGVybWluZSB0aGUgbmV3IHBvc2l0aW9uXHJcbiAgICBjb25zdCB7IGRhdGE6IGV4aXN0aW5nTGVzc29ucyB9ID0gYXdhaXQgc3VwYWJhc2VcclxuICAgICAgLmZyb20oJ2xlc3NvbnMnKVxyXG4gICAgICAuc2VsZWN0KCdvcmRlcl9pbmRleCcpXHJcbiAgICAgIC5lcSgnbW9kdWxlX2lkJywgbW9kdWxlSWQpXHJcbiAgICAgIC5vcmRlcignb3JkZXJfaW5kZXgnLCB7IGFzY2VuZGluZzogZmFsc2UgfSlcclxuICAgICAgLmxpbWl0KDEpO1xyXG5cclxuICAgIGNvbnN0IG5ld09yZGVySW5kZXggPSBleGlzdGluZ0xlc3NvbnMgJiYgZXhpc3RpbmdMZXNzb25zLmxlbmd0aCA+IDAgXHJcbiAgICAgID8gZXhpc3RpbmdMZXNzb25zWzBdLm9yZGVyX2luZGV4ICsgMTAgXHJcbiAgICAgIDogMDtcclxuXHJcbiAgICBjb25zdCB7IGRhdGEsIGVycm9yIH0gPSBhd2FpdCBzdXBhYmFzZVxyXG4gICAgICAuZnJvbSgnbGVzc29ucycpXHJcbiAgICAgIC5pbnNlcnQoW3tcclxuICAgICAgICBtb2R1bGVfaWQ6IG1vZHVsZUlkLFxyXG4gICAgICAgIHRpdGxlLFxyXG4gICAgICAgIGRlc2NyaXB0aW9uLFxyXG4gICAgICAgIHlvdXR1YmVfdmlkZW9faWQ6IHBhcnNlZC52aWRlb0lkLFxyXG4gICAgICAgIHZpZGVvX3VybDogcGFyc2VkLmVtYmVkVXJsLFxyXG4gICAgICAgIG9yZGVyX2luZGV4OiBuZXdPcmRlckluZGV4LFxyXG4gICAgICAgIGlzX3ByZXZpZXc6IGZhbHNlLFxyXG4gICAgICAgIGlzX3B1Ymxpc2hlZDogdHJ1ZVxyXG4gICAgICB9XSlcclxuICAgICAgLnNlbGVjdCgpXHJcbiAgICAgIC5zaW5nbGUoKTtcclxuXHJcbiAgICBpZiAoZXJyb3IpIHtcclxuICAgICAgcmV0dXJuIHsgZGF0YTogbnVsbCwgZXJyb3I6IGVycm9yLm1lc3NhZ2UgfTtcclxuICAgIH1cclxuXHJcbiAgICAvLyBSZXZhbGlkYXRlIHRoZSBjYWNoZSB0byBlbnN1cmUgZnJvbnRlbmQgcmVmbGVjdHMgY2hhbmdlc1xyXG4gICAgcmV2YWxpZGF0ZVBhdGgoJy9jb3Vyc2VzJyk7XHJcbiAgICByZXZhbGlkYXRlUGF0aCgnL2Rhc2hib2FyZCcpO1xyXG4gICAgXHJcbiAgICByZXR1cm4geyBkYXRhLCBlcnJvcjogbnVsbCB9O1xyXG4gIH0gY2F0Y2ggKGVycm9yOiBhbnkpIHtcclxuICAgIHJldHVybiB7IGRhdGE6IG51bGwsIGVycm9yOiBlcnJvci5tZXNzYWdlIH07XHJcbiAgfVxyXG59XHJcblxyXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gdXBkYXRlTGVzc29uKFxyXG4gIGlkOiBzdHJpbmcsIFxyXG4gIHVwZGF0ZXM6IFBhcnRpYWw8T21pdDxMZXNzb24sICdpZCcgfCAnbW9kdWxlX2lkJyB8ICdjcmVhdGVkX2F0JyB8ICd1cGRhdGVkX2F0Jz4+XHJcbik6IFByb21pc2U8eyBkYXRhOiBMZXNzb24gfCBudWxsOyBlcnJvcjogc3RyaW5nIHwgbnVsbCB9PiB7XHJcbiAgY29uc3Qgc3VwYWJhc2UgPSBhd2FpdCBjcmVhdGVTdXBhYmFzZUNsaWVudCgpO1xyXG4gIFxyXG4gIHRyeSB7XHJcbiAgICAvLyBDaGVjayBhZG1pbiBhY2Nlc3NcclxuICAgIGNvbnN0IGFkbWluQ2hlY2sgPSBhd2FpdCBpc0FkbWluKHN1cGFiYXNlKTtcclxuICAgIGlmICghYWRtaW5DaGVjaykge1xyXG4gICAgICByZXR1cm4geyBkYXRhOiBudWxsLCBlcnJvcjogJ0FjY2VzcyBkZW5pZWQuIEFkbWluIG9yIHRlYWNoZXIgcm9sZSByZXF1aXJlZC4nIH07XHJcbiAgICB9XHJcblxyXG4gICAgLy8gSWYgdXBkYXRpbmcgWW91VHViZSBVUkwsIHBhcnNlIGl0IGZpcnN0XHJcbiAgICBpZiAodXBkYXRlcy52aWRlb191cmwpIHtcclxuICAgICAgY29uc3QgcGFyc2VkID0gcGFyc2VZb3VUdWJlKHVwZGF0ZXMudmlkZW9fdXJsKTtcclxuICAgICAgaWYgKHBhcnNlZC5lcnJvcikge1xyXG4gICAgICAgIHJldHVybiB7IGRhdGE6IG51bGwsIGVycm9yOiBwYXJzZWQuZXJyb3IgfTtcclxuICAgICAgfVxyXG4gICAgICB1cGRhdGVzLnlvdXR1YmVfdmlkZW9faWQgPSBwYXJzZWQudmlkZW9JZDtcclxuICAgICAgdXBkYXRlcy52aWRlb191cmwgPSBwYXJzZWQuZW1iZWRVcmw7XHJcbiAgICB9XHJcblxyXG4gICAgY29uc3QgeyBkYXRhLCBlcnJvciB9ID0gYXdhaXQgc3VwYWJhc2VcclxuICAgICAgLmZyb20oJ2xlc3NvbnMnKVxyXG4gICAgICAudXBkYXRlKHVwZGF0ZXMpXHJcbiAgICAgIC5lcSgnaWQnLCBpZClcclxuICAgICAgLnNlbGVjdCgpXHJcbiAgICAgIC5zaW5nbGUoKTtcclxuXHJcbiAgICBpZiAoZXJyb3IpIHtcclxuICAgICAgcmV0dXJuIHsgZGF0YTogbnVsbCwgZXJyb3I6IGVycm9yLm1lc3NhZ2UgfTtcclxuICAgIH1cclxuXHJcbiAgICAvLyBSZXZhbGlkYXRlIHRoZSBjYWNoZSB0byBlbnN1cmUgZnJvbnRlbmQgcmVmbGVjdHMgY2hhbmdlc1xyXG4gICAgcmV2YWxpZGF0ZVBhdGgoJy9jb3Vyc2VzJyk7XHJcbiAgICByZXZhbGlkYXRlUGF0aCgnL2Rhc2hib2FyZCcpO1xyXG4gICAgXHJcbiAgICByZXR1cm4geyBkYXRhLCBlcnJvcjogbnVsbCB9O1xyXG4gIH0gY2F0Y2ggKGVycm9yOiBhbnkpIHtcclxuICAgIHJldHVybiB7IGRhdGE6IG51bGwsIGVycm9yOiBlcnJvci5tZXNzYWdlIH07XHJcbiAgfVxyXG59XHJcblxyXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZGVsZXRlTGVzc29uKGlkOiBzdHJpbmcpOiBQcm9taXNlPHsgZXJyb3I6IHN0cmluZyB8IG51bGwgfT4ge1xyXG4gIGNvbnN0IHN1cGFiYXNlID0gYXdhaXQgY3JlYXRlU3VwYWJhc2VDbGllbnQoKTtcclxuICBcclxuICB0cnkge1xyXG4gICAgLy8gQ2hlY2sgYWRtaW4gYWNjZXNzXHJcbiAgICBjb25zdCBhZG1pbkNoZWNrID0gYXdhaXQgaXNBZG1pbihzdXBhYmFzZSk7XHJcbiAgICBpZiAoIWFkbWluQ2hlY2spIHtcclxuICAgICAgcmV0dXJuIHsgZXJyb3I6ICdBY2Nlc3MgZGVuaWVkLiBBZG1pbiBvciB0ZWFjaGVyIHJvbGUgcmVxdWlyZWQuJyB9O1xyXG4gICAgfVxyXG5cclxuICAgIGNvbnN0IHsgZXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlXHJcbiAgICAgIC5mcm9tKCdsZXNzb25zJylcclxuICAgICAgLmRlbGV0ZSgpXHJcbiAgICAgIC5lcSgnaWQnLCBpZCk7XHJcblxyXG4gICAgaWYgKGVycm9yKSB7XHJcbiAgICAgIHJldHVybiB7IGVycm9yOiBlcnJvci5tZXNzYWdlIH07XHJcbiAgICB9XHJcblxyXG4gICAgLy8gUmV2YWxpZGF0ZSB0aGUgY2FjaGUgdG8gZW5zdXJlIGZyb250ZW5kIHJlZmxlY3RzIGNoYW5nZXNcclxuICAgIHJldmFsaWRhdGVQYXRoKCcvY291cnNlcycpO1xyXG4gICAgcmV2YWxpZGF0ZVBhdGgoJy9kYXNoYm9hcmQnKTtcclxuICAgIFxyXG4gICAgcmV0dXJuIHsgZXJyb3I6IG51bGwgfTtcclxuICB9IGNhdGNoIChlcnJvcjogYW55KSB7XHJcbiAgICByZXR1cm4geyBlcnJvcjogZXJyb3IubWVzc2FnZSB9O1xyXG4gIH1cclxufVxyXG5cclxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIHJlb3JkZXJMZXNzb25zKG1vZHVsZUlkOiBzdHJpbmcsIGxlc3Nvbklkczogc3RyaW5nW10pOiBQcm9taXNlPHsgZXJyb3I6IHN0cmluZyB8IG51bGwgfT4ge1xyXG4gIGNvbnN0IHN1cGFiYXNlID0gYXdhaXQgY3JlYXRlU3VwYWJhc2VDbGllbnQoKTtcclxuICBcclxuICB0cnkge1xyXG4gICAgLy8gQ2hlY2sgYWRtaW4gYWNjZXNzXHJcbiAgICBjb25zdCBhZG1pbkNoZWNrID0gYXdhaXQgaXNBZG1pbihzdXBhYmFzZSk7XHJcbiAgICBpZiAoIWFkbWluQ2hlY2spIHtcclxuICAgICAgcmV0dXJuIHsgZXJyb3I6ICdBY2Nlc3MgZGVuaWVkLiBBZG1pbiBvciB0ZWFjaGVyIHJvbGUgcmVxdWlyZWQuJyB9O1xyXG4gICAgfVxyXG5cclxuICAgIC8vIFVwZGF0ZSBhbGwgbGVzc29ucyB3aXRoIHRoZWlyIG5ldyBwb3NpdGlvbnMgaW4gYSBzaW5nbGUgdHJhbnNhY3Rpb25cclxuICAgIGNvbnN0IHVwZGF0ZXMgPSBsZXNzb25JZHMubWFwKChpZCwgaW5kZXgpID0+ICh7XHJcbiAgICAgIGlkLFxyXG4gICAgICBvcmRlcl9pbmRleDogaW5kZXggKiAxMCAvLyBVc2UgaW5jcmVtZW50cyBvZiAxMCB0byBhbGxvdyBmb3IgZnV0dXJlIGluc2VydGlvbnMgYmV0d2VlbiBpdGVtc1xyXG4gICAgfSkpO1xyXG5cclxuICAgIC8vIFBlcmZvcm0gdXBkYXRlcyBpbiBhIGJhdGNoXHJcbiAgICBmb3IgKGNvbnN0IHVwZGF0ZSBvZiB1cGRhdGVzKSB7XHJcbiAgICAgIGNvbnN0IHsgZXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlXHJcbiAgICAgICAgLmZyb20oJ2xlc3NvbnMnKVxyXG4gICAgICAgIC51cGRhdGUoeyBvcmRlcl9pbmRleDogdXBkYXRlLm9yZGVyX2luZGV4IH0pXHJcbiAgICAgICAgLmVxKCdpZCcsIHVwZGF0ZS5pZClcclxuICAgICAgICAuZXEoJ21vZHVsZV9pZCcsIG1vZHVsZUlkKTsgLy8gQWRkaXRpb25hbCBzYWZldHkgY2hlY2tcclxuXHJcbiAgICAgIGlmIChlcnJvcikge1xyXG4gICAgICAgIHJldHVybiB7IGVycm9yOiBlcnJvci5tZXNzYWdlIH07XHJcbiAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvLyBSZXZhbGlkYXRlIHRoZSBjYWNoZSB0byBlbnN1cmUgZnJvbnRlbmQgcmVmbGVjdHMgY2hhbmdlc1xyXG4gICAgcmV2YWxpZGF0ZVBhdGgoJy9jb3Vyc2VzJyk7XHJcbiAgICByZXZhbGlkYXRlUGF0aCgnL2Rhc2hib2FyZCcpO1xyXG4gICAgXHJcbiAgICByZXR1cm4geyBlcnJvcjogbnVsbCB9O1xyXG4gIH0gY2F0Y2ggKGVycm9yOiBhbnkpIHtcclxuICAgIHJldHVybiB7IGVycm9yOiBlcnJvci5tZXNzYWdlIH07XHJcbiAgfVxyXG59Il0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI2UkFxZnNCLDJMQUFBIn0=
}),
"[project]/src/actions/data:684a75 [app-ssr] (ecmascript) <text/javascript>", ((__turbopack_context__) => {
"use strict";

__turbopack_context__.s([
    "createLesson",
    ()=>$$RSC_SERVER_ACTION_11
]);
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$build$2f$webpack$2f$loaders$2f$next$2d$flight$2d$loader$2f$action$2d$client$2d$wrapper$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/next/dist/build/webpack/loaders/next-flight-loader/action-client-wrapper.js [app-ssr] (ecmascript)");
/* __next_internal_action_entry_do_not_use__ [{"7842ffb104e6a18f93868d6ff8498037ad7d65c330":"createLesson"},"src/actions/courseActions.ts",""] */ "use turbopack no side effects";
;
const $$RSC_SERVER_ACTION_11 = /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$build$2f$webpack$2f$loaders$2f$next$2d$flight$2d$loader$2f$action$2d$client$2d$wrapper$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["createServerReference"])("7842ffb104e6a18f93868d6ff8498037ad7d65c330", __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$build$2f$webpack$2f$loaders$2f$next$2d$flight$2d$loader$2f$action$2d$client$2d$wrapper$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["callServer"], void 0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$build$2f$webpack$2f$loaders$2f$next$2d$flight$2d$loader$2f$action$2d$client$2d$wrapper$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["findSourceMapURL"], "createLesson");
;
 //# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4vY291cnNlQWN0aW9ucy50cyJdLCJzb3VyY2VzQ29udGVudCI6WyIndXNlIHNlcnZlcidcclxuXHJcbmltcG9ydCB7IGNvb2tpZXMgfSBmcm9tICduZXh0L2hlYWRlcnMnO1xyXG5pbXBvcnQgeyBjcmVhdGVTZXJ2ZXJDbGllbnQgfSBmcm9tICdAc3VwYWJhc2Uvc3NyJztcclxuaW1wb3J0IHsgcmV2YWxpZGF0ZVBhdGggfSBmcm9tICduZXh0L2NhY2hlJztcclxuaW1wb3J0IHsgcGFyc2VZb3VUdWJlIH0gZnJvbSAnQC9saWIveW91dHViZVBhcnNlcic7XHJcblxyXG4vLyBUeXBlIGRlZmluaXRpb25zXHJcbnR5cGUgQ291cnNlID0ge1xyXG4gIGlkOiBzdHJpbmc7XHJcbiAgdGl0bGU6IHN0cmluZztcclxuICBkZXNjcmlwdGlvbjogc3RyaW5nO1xyXG4gIGlzX3B1Ymxpc2hlZDogYm9vbGVhbjtcclxuICBjcmVhdGVkX2F0OiBzdHJpbmc7XHJcbiAgdXBkYXRlZF9hdDogc3RyaW5nO1xyXG59O1xyXG5cclxudHlwZSBNb2R1bGUgPSB7XHJcbiAgaWQ6IHN0cmluZztcclxuICBjb3Vyc2VfaWQ6IHN0cmluZztcclxuICB0aXRsZTogc3RyaW5nO1xyXG4gIG9yZGVyX2luZGV4OiBudW1iZXI7XHJcbn07XHJcblxyXG50eXBlIExlc3NvbiA9IHtcclxuICBpZDogc3RyaW5nO1xyXG4gIG1vZHVsZV9pZDogc3RyaW5nO1xyXG4gIHRpdGxlOiBzdHJpbmc7XHJcbiAgZGVzY3JpcHRpb246IHN0cmluZztcclxuICBvcmRlcl9pbmRleDogbnVtYmVyO1xyXG4gIHZpZGVvX3Byb3ZpZGVyOiBzdHJpbmc7XHJcbiAgdmlkZW9fdXJsOiBzdHJpbmcgfCBudWxsO1xyXG4gIHlvdXR1YmVfdmlkZW9faWQ6IHN0cmluZyB8IG51bGw7XHJcbiAgaXNfcHJldmlldzogYm9vbGVhbjtcclxuICBpc19wdWJsaXNoZWQ6IGJvb2xlYW47XHJcbiAgY3JlYXRlZF9hdDogc3RyaW5nO1xyXG4gIHVwZGF0ZWRfYXQ6IHN0cmluZztcclxufTtcclxuXHJcbi8vIEhlbHBlciBmdW5jdGlvbiB0byBjcmVhdGUgU3VwYWJhc2UgY2xpZW50IGZvciBzZXJ2ZXIgYWN0aW9uc1xyXG5hc3luYyBmdW5jdGlvbiBjcmVhdGVTdXBhYmFzZUNsaWVudCgpIHtcclxuICBjb25zdCBjb29raWVTdG9yZSA9IGF3YWl0IGNvb2tpZXMoKTtcclxuICByZXR1cm4gY3JlYXRlU2VydmVyQ2xpZW50KFxyXG4gICAgcHJvY2Vzcy5lbnYuTkVYVF9QVUJMSUNfU1VQQUJBU0VfVVJMISxcclxuICAgIHByb2Nlc3MuZW52Lk5FWFRfUFVCTElDX1NVUEFCQVNFX0FOT05fS0VZISxcclxuICAgIHtcclxuICAgICAgY29va2llczoge1xyXG4gICAgICAgIGdldDogKG5hbWU6IHN0cmluZykgPT4ge1xyXG4gICAgICAgICAgY29uc3QgY29va2llID0gY29va2llU3RvcmUuZ2V0KG5hbWUpO1xyXG4gICAgICAgICAgcmV0dXJuIGNvb2tpZSA/IGNvb2tpZS52YWx1ZSA6IHVuZGVmaW5lZDtcclxuICAgICAgICB9LFxyXG4gICAgICB9LFxyXG4gICAgfVxyXG4gICk7XHJcbn1cclxuXHJcbi8vIENoZWNrIGlmIHVzZXIgaXMgYWRtaW5cclxuYXN5bmMgZnVuY3Rpb24gaXNBZG1pbihzdXBhYmFzZTogYW55KTogUHJvbWlzZTxib29sZWFuPiB7XHJcbiAgY29uc3Qge1xyXG4gICAgZGF0YTogeyB1c2VyIH0sXHJcbiAgICBlcnJvcjogdXNlckVycm9yLFxyXG4gIH0gPSBhd2FpdCBzdXBhYmFzZS5hdXRoLmdldFVzZXIoKTtcclxuXHJcbiAgaWYgKHVzZXJFcnJvciB8fCAhdXNlcikge1xyXG4gICAgcmV0dXJuIGZhbHNlO1xyXG4gIH1cclxuXHJcbiAgY29uc3QgeyBkYXRhOiBwcm9maWxlLCBlcnJvcjogcHJvZmlsZUVycm9yIH0gPSBhd2FpdCBzdXBhYmFzZVxyXG4gICAgLmZyb20oJ3Byb2ZpbGVzJylcclxuICAgIC5zZWxlY3QoJ3JvbGUnKVxyXG4gICAgLmVxKCdpZCcsIHVzZXIuaWQpXHJcbiAgICAuc2luZ2xlKCk7XHJcblxyXG4gIGlmIChwcm9maWxlRXJyb3IgfHwgIXByb2ZpbGUpIHtcclxuICAgIHJldHVybiBmYWxzZTtcclxuICB9XHJcblxyXG4gIHJldHVybiBwcm9maWxlLnJvbGUgPT09ICdhZG1pbicgfHwgcHJvZmlsZS5yb2xlID09PSAndGVhY2hlcic7XHJcbn1cclxuXHJcbi8vIENvdXJzZSBBY3Rpb25zXHJcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBsaXN0Q291cnNlcygpOiBQcm9taXNlPHsgZGF0YTogQ291cnNlW10gfCBudWxsOyBlcnJvcjogc3RyaW5nIHwgbnVsbCB9PiB7XHJcbiAgY29uc3Qgc3VwYWJhc2UgPSBhd2FpdCBjcmVhdGVTdXBhYmFzZUNsaWVudCgpO1xyXG4gIFxyXG4gIHRyeSB7XHJcbiAgICAvLyBDaGVjayBhZG1pbiBhY2Nlc3NcclxuICAgIGNvbnN0IGFkbWluQ2hlY2sgPSBhd2FpdCBpc0FkbWluKHN1cGFiYXNlKTtcclxuICAgIGlmICghYWRtaW5DaGVjaykge1xyXG4gICAgICBjb25zb2xlLmxvZygnREVCVUc6IGxpc3RDb3Vyc2VzIC0gQWNjZXNzIGRlbmllZCwgbm90IGFkbWluL3RlYWNoZXInKTtcclxuICAgICAgcmV0dXJuIHsgZGF0YTogbnVsbCwgZXJyb3I6ICdBY2Nlc3MgZGVuaWVkLiBBZG1pbiBvciB0ZWFjaGVyIHJvbGUgcmVxdWlyZWQuJyB9O1xyXG4gICAgfVxyXG4gICAgXHJcbiAgICBjb25zb2xlLmxvZygnREVCVUc6IGxpc3RDb3Vyc2VzIC0gRmV0Y2hpbmcgYWxsIGNvdXJzZXMgZm9yIGFkbWluJyk7XHJcbiAgICBcclxuICAgIGNvbnN0IHsgZGF0YSwgZXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlXHJcbiAgICAgIC5mcm9tKCdjb3Vyc2VzJylcclxuICAgICAgLnNlbGVjdCgnKicpXHJcbiAgICAgIC5vcmRlcignY3JlYXRlZF9hdCcsIHsgYXNjZW5kaW5nOiBmYWxzZSB9KTtcclxuICAgIFxyXG4gICAgY29uc29sZS5sb2coJ0RFQlVHOiBsaXN0Q291cnNlcyAtIFF1ZXJ5IHJlc3VsdDonLCB7IGRhdGE6IGRhdGE/Lmxlbmd0aCwgZXJyb3IgfSk7XHJcbiAgICBcclxuICAgIGlmIChlcnJvcikge1xyXG4gICAgICBjb25zb2xlLmVycm9yKCdERUJVRzogbGlzdENvdXJzZXMgLSBTdXBhYmFzZSBlcnJvcjonLCBlcnJvcik7XHJcbiAgICAgIHJldHVybiB7IGRhdGE6IG51bGwsIGVycm9yOiBlcnJvci5tZXNzYWdlIH07XHJcbiAgICB9XHJcblxyXG4gICAgY29uc29sZS5sb2coJ0RFQlVHOiBsaXN0Q291cnNlcyAtIFJldHVybmluZyBjb3Vyc2VzOicsIGRhdGE/Lmxlbmd0aCk7XHJcbiAgICByZXR1cm4geyBkYXRhLCBlcnJvcjogbnVsbCB9O1xyXG4gIH0gY2F0Y2ggKGVycm9yOiBhbnkpIHtcclxuICAgIGNvbnNvbGUuZXJyb3IoJ0RFQlVHOiBsaXN0Q291cnNlcyAtIEV4Y2VwdGlvbjonLCBlcnJvcik7XHJcbiAgICByZXR1cm4geyBkYXRhOiBudWxsLCBlcnJvcjogZXJyb3IubWVzc2FnZSB9O1xyXG4gIH1cclxufVxyXG5cclxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGNyZWF0ZUNvdXJzZSh0aXRsZTogc3RyaW5nLCBkZXNjcmlwdGlvbjogc3RyaW5nKTogUHJvbWlzZTx7IGRhdGE6IENvdXJzZSB8IG51bGw7IGVycm9yOiBzdHJpbmcgfCBudWxsIH0+IHtcclxuICBjb25zdCBzdXBhYmFzZSA9IGF3YWl0IGNyZWF0ZVN1cGFiYXNlQ2xpZW50KCk7XHJcbiAgXHJcbiAgdHJ5IHtcclxuICAgIC8vIENoZWNrIGFkbWluIGFjY2Vzc1xyXG4gICAgY29uc3QgYWRtaW5DaGVjayA9IGF3YWl0IGlzQWRtaW4oc3VwYWJhc2UpO1xyXG4gICAgaWYgKCFhZG1pbkNoZWNrKSB7XHJcbiAgICAgIGNvbnNvbGUubG9nKCdERUJVRzogY3JlYXRlQ291cnNlIC0gQWNjZXNzIGRlbmllZCwgbm90IGFkbWluL3RlYWNoZXInKTtcclxuICAgICAgcmV0dXJuIHsgZGF0YTogbnVsbCwgZXJyb3I6ICdBY2Nlc3MgZGVuaWVkLiBBZG1pbiBvciB0ZWFjaGVyIHJvbGUgcmVxdWlyZWQuJyB9O1xyXG4gICAgfVxyXG4gICAgXHJcbiAgICBjb25zb2xlLmxvZygnREVCVUc6IGNyZWF0ZUNvdXJzZSAtIENyZWF0aW5nIGNvdXJzZTonLCB7IHRpdGxlLCBkZXNjcmlwdGlvbiB9KTtcclxuXHJcbiAgICBjb25zdCB7IGRhdGEsIGVycm9yIH0gPSBhd2FpdCBzdXBhYmFzZVxyXG4gICAgICAuZnJvbSgnY291cnNlcycpXHJcbiAgICAgIC5pbnNlcnQoW3sgdGl0bGUsIGRlc2NyaXB0aW9uIH1dKVxyXG4gICAgICAuc2VsZWN0KClcclxuICAgICAgLnNpbmdsZSgpO1xyXG4gICAgXHJcbiAgICBjb25zb2xlLmxvZygnREVCVUc6IGNyZWF0ZUNvdXJzZSAtIEluc2VydCByZXN1bHQ6JywgeyBkYXRhOiAhIWRhdGEsIGVycm9yIH0pO1xyXG5cclxuICAgIGlmIChlcnJvcikge1xyXG4gICAgICBjb25zb2xlLmVycm9yKCdERUJVRzogY3JlYXRlQ291cnNlIC0gU3VwYWJhc2UgZXJyb3I6JywgZXJyb3IpO1xyXG4gICAgICByZXR1cm4geyBkYXRhOiBudWxsLCBlcnJvcjogZXJyb3IubWVzc2FnZSB9O1xyXG4gICAgfVxyXG5cclxuICAgIC8vIFJldmFsaWRhdGUgdGhlIGNhY2hlIHRvIGVuc3VyZSBmcm9udGVuZCByZWZsZWN0cyBjaGFuZ2VzXHJcbiAgICByZXZhbGlkYXRlUGF0aCgnL2NvdXJzZXMnKTtcclxuICAgIHJldmFsaWRhdGVQYXRoKCcvZGFzaGJvYXJkJyk7XHJcbiAgICBcclxuICAgIGNvbnNvbGUubG9nKCdERUJVRzogY3JlYXRlQ291cnNlIC0gQ291cnNlIGNyZWF0ZWQgc3VjY2Vzc2Z1bGx5LCBjYWNoZSBpbnZhbGlkYXRlZCcpO1xyXG4gICAgXHJcbiAgICByZXR1cm4geyBkYXRhLCBlcnJvcjogbnVsbCB9O1xyXG4gIH0gY2F0Y2ggKGVycm9yOiBhbnkpIHtcclxuICAgIGNvbnNvbGUuZXJyb3IoJ0RFQlVHOiBjcmVhdGVDb3Vyc2UgLSBFeGNlcHRpb246JywgZXJyb3IpO1xyXG4gICAgcmV0dXJuIHsgZGF0YTogbnVsbCwgZXJyb3I6IGVycm9yLm1lc3NhZ2UgfTtcclxuICB9XHJcbn1cclxuXHJcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiB1cGRhdGVDb3Vyc2UoaWQ6IHN0cmluZywgdXBkYXRlczogUGFydGlhbDxDb3Vyc2U+KTogUHJvbWlzZTx7IGRhdGE6IENvdXJzZSB8IG51bGw7IGVycm9yOiBzdHJpbmcgfCBudWxsIH0+IHtcclxuICBjb25zdCBzdXBhYmFzZSA9IGF3YWl0IGNyZWF0ZVN1cGFiYXNlQ2xpZW50KCk7XHJcbiAgXHJcbiAgdHJ5IHtcclxuICAgIC8vIENoZWNrIGFkbWluIGFjY2Vzc1xyXG4gICAgY29uc3QgYWRtaW5DaGVjayA9IGF3YWl0IGlzQWRtaW4oc3VwYWJhc2UpO1xyXG4gICAgaWYgKCFhZG1pbkNoZWNrKSB7XHJcbiAgICAgIHJldHVybiB7IGRhdGE6IG51bGwsIGVycm9yOiAnQWNjZXNzIGRlbmllZC4gQWRtaW4gb3IgdGVhY2hlciByb2xlIHJlcXVpcmVkLicgfTtcclxuICAgIH1cclxuXHJcbiAgICBjb25zdCB7IGRhdGEsIGVycm9yIH0gPSBhd2FpdCBzdXBhYmFzZVxyXG4gICAgICAuZnJvbSgnY291cnNlcycpXHJcbiAgICAgIC51cGRhdGUodXBkYXRlcylcclxuICAgICAgLmVxKCdpZCcsIGlkKVxyXG4gICAgICAuc2VsZWN0KClcclxuICAgICAgLnNpbmdsZSgpO1xyXG5cclxuICAgIGlmIChlcnJvcikge1xyXG4gICAgICByZXR1cm4geyBkYXRhOiBudWxsLCBlcnJvcjogZXJyb3IubWVzc2FnZSB9O1xyXG4gICAgfVxyXG5cclxuICAgIC8vIFJldmFsaWRhdGUgdGhlIGNhY2hlIHRvIGVuc3VyZSBmcm9udGVuZCByZWZsZWN0cyBjaGFuZ2VzXHJcbiAgICByZXZhbGlkYXRlUGF0aCgnL2NvdXJzZXMnKTtcclxuICAgIHJldmFsaWRhdGVQYXRoKCcvZGFzaGJvYXJkJyk7XHJcbiAgICBcclxuICAgIHJldHVybiB7IGRhdGEsIGVycm9yOiBudWxsIH07XHJcbiAgfSBjYXRjaCAoZXJyb3I6IGFueSkge1xyXG4gICAgcmV0dXJuIHsgZGF0YTogbnVsbCwgZXJyb3I6IGVycm9yLm1lc3NhZ2UgfTtcclxuICB9XHJcbn1cclxuXHJcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBkZWxldGVDb3Vyc2UoaWQ6IHN0cmluZyk6IFByb21pc2U8eyBlcnJvcjogc3RyaW5nIHwgbnVsbCB9PiB7XHJcbiAgY29uc3Qgc3VwYWJhc2UgPSBhd2FpdCBjcmVhdGVTdXBhYmFzZUNsaWVudCgpO1xyXG4gIFxyXG4gIHRyeSB7XHJcbiAgICAvLyBDaGVjayBhZG1pbiBhY2Nlc3NcclxuICAgIGNvbnN0IGFkbWluQ2hlY2sgPSBhd2FpdCBpc0FkbWluKHN1cGFiYXNlKTtcclxuICAgIGlmICghYWRtaW5DaGVjaykge1xyXG4gICAgICByZXR1cm4geyBlcnJvcjogJ0FjY2VzcyBkZW5pZWQuIEFkbWluIG9yIHRlYWNoZXIgcm9sZSByZXF1aXJlZC4nIH07XHJcbiAgICB9XHJcblxyXG4gICAgY29uc3QgeyBlcnJvciB9ID0gYXdhaXQgc3VwYWJhc2VcclxuICAgICAgLmZyb20oJ2NvdXJzZXMnKVxyXG4gICAgICAuZGVsZXRlKClcclxuICAgICAgLmVxKCdpZCcsIGlkKTtcclxuXHJcbiAgICBpZiAoZXJyb3IpIHtcclxuICAgICAgcmV0dXJuIHsgZXJyb3I6IGVycm9yLm1lc3NhZ2UgfTtcclxuICAgIH1cclxuXHJcbiAgICAvLyBSZXZhbGlkYXRlIHRoZSBjYWNoZSB0byBlbnN1cmUgZnJvbnRlbmQgcmVmbGVjdHMgY2hhbmdlc1xyXG4gICAgcmV2YWxpZGF0ZVBhdGgoJy9jb3Vyc2VzJyk7XHJcbiAgICByZXZhbGlkYXRlUGF0aCgnL2Rhc2hib2FyZCcpO1xyXG4gICAgXHJcbiAgICByZXR1cm4geyBlcnJvcjogbnVsbCB9O1xyXG4gIH0gY2F0Y2ggKGVycm9yOiBhbnkpIHtcclxuICAgIHJldHVybiB7IGVycm9yOiBlcnJvci5tZXNzYWdlIH07XHJcbiAgfVxyXG59XHJcblxyXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gcHVibGlzaENvdXJzZShpZDogc3RyaW5nLCBpc1B1Ymxpc2hlZDogYm9vbGVhbik6IFByb21pc2U8eyBkYXRhOiBDb3Vyc2UgfCBudWxsOyBlcnJvcjogc3RyaW5nIHwgbnVsbCB9PiB7XHJcbiAgY29uc3Qgc3VwYWJhc2UgPSBhd2FpdCBjcmVhdGVTdXBhYmFzZUNsaWVudCgpO1xyXG4gIFxyXG4gIHRyeSB7XHJcbiAgICAvLyBDaGVjayBhZG1pbiBhY2Nlc3NcclxuICAgIGNvbnN0IGFkbWluQ2hlY2sgPSBhd2FpdCBpc0FkbWluKHN1cGFiYXNlKTtcclxuICAgIGlmICghYWRtaW5DaGVjaykge1xyXG4gICAgICByZXR1cm4geyBkYXRhOiBudWxsLCBlcnJvcjogJ0FjY2VzcyBkZW5pZWQuIEFkbWluIG9yIHRlYWNoZXIgcm9sZSByZXF1aXJlZC4nIH07XHJcbiAgICB9XHJcblxyXG4gICAgY29uc3QgeyBkYXRhLCBlcnJvciB9ID0gYXdhaXQgc3VwYWJhc2VcclxuICAgICAgLmZyb20oJ2NvdXJzZXMnKVxyXG4gICAgICAudXBkYXRlKHsgaXNfcHVibGlzaGVkOiBpc1B1Ymxpc2hlZCB9KVxyXG4gICAgICAuZXEoJ2lkJywgaWQpXHJcbiAgICAgIC5zZWxlY3QoKVxyXG4gICAgICAuc2luZ2xlKCk7XHJcblxyXG4gICAgaWYgKGVycm9yKSB7XHJcbiAgICAgIHJldHVybiB7IGRhdGE6IG51bGwsIGVycm9yOiBlcnJvci5tZXNzYWdlIH07XHJcbiAgICB9XHJcblxyXG4gICAgLy8gUmV2YWxpZGF0ZSB0aGUgY2FjaGUgdG8gZW5zdXJlIGZyb250ZW5kIHJlZmxlY3RzIGNoYW5nZXNcclxuICAgIHJldmFsaWRhdGVQYXRoKCcvY291cnNlcycpO1xyXG4gICAgcmV2YWxpZGF0ZVBhdGgoJy9kYXNoYm9hcmQnKTtcclxuICAgIFxyXG4gICAgcmV0dXJuIHsgZGF0YSwgZXJyb3I6IG51bGwgfTtcclxuICB9IGNhdGNoIChlcnJvcjogYW55KSB7XHJcbiAgICByZXR1cm4geyBkYXRhOiBudWxsLCBlcnJvcjogZXJyb3IubWVzc2FnZSB9O1xyXG4gIH1cclxufVxyXG5cclxuLy8gTW9kdWxlIEFjdGlvbnNcclxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGxpc3RNb2R1bGVzKGNvdXJzZUlkOiBzdHJpbmcpOiBQcm9taXNlPHsgZGF0YTogTW9kdWxlW10gfCBudWxsOyBlcnJvcjogc3RyaW5nIHwgbnVsbCB9PiB7XHJcbiAgY29uc3Qgc3VwYWJhc2UgPSBhd2FpdCBjcmVhdGVTdXBhYmFzZUNsaWVudCgpO1xyXG4gIFxyXG4gIHRyeSB7XHJcbiAgICAvLyBDaGVjayBhZG1pbiBhY2Nlc3NcclxuICAgIGNvbnN0IGFkbWluQ2hlY2sgPSBhd2FpdCBpc0FkbWluKHN1cGFiYXNlKTtcclxuICAgIGlmICghYWRtaW5DaGVjaykge1xyXG4gICAgICByZXR1cm4geyBkYXRhOiBudWxsLCBlcnJvcjogJ0FjY2VzcyBkZW5pZWQuIEFkbWluIG9yIHRlYWNoZXIgcm9sZSByZXF1aXJlZC4nIH07XHJcbiAgICB9XHJcblxyXG4gICAgY29uc3QgeyBkYXRhLCBlcnJvciB9ID0gYXdhaXQgc3VwYWJhc2VcclxuICAgICAgLmZyb20oJ21vZHVsZXMnKVxyXG4gICAgICAuc2VsZWN0KCcqJylcclxuICAgICAgLmVxKCdjb3Vyc2VfaWQnLCBjb3Vyc2VJZClcclxuICAgICAgLm9yZGVyKCdvcmRlcl9pbmRleCcsIHsgYXNjZW5kaW5nOiB0cnVlIH0pO1xyXG5cclxuICAgIGlmIChlcnJvcikge1xyXG4gICAgICByZXR1cm4geyBkYXRhOiBudWxsLCBlcnJvcjogZXJyb3IubWVzc2FnZSB9O1xyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiB7IGRhdGEsIGVycm9yOiBudWxsIH07XHJcbiAgfSBjYXRjaCAoZXJyb3I6IGFueSkge1xyXG4gICAgcmV0dXJuIHsgZGF0YTogbnVsbCwgZXJyb3I6IGVycm9yLm1lc3NhZ2UgfTtcclxuICB9XHJcbn1cclxuXHJcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBjcmVhdGVNb2R1bGUoY291cnNlSWQ6IHN0cmluZywgdGl0bGU6IHN0cmluZyk6IFByb21pc2U8eyBkYXRhOiBNb2R1bGUgfCBudWxsOyBlcnJvcjogc3RyaW5nIHwgbnVsbCB9PiB7XHJcbiAgY29uc3Qgc3VwYWJhc2UgPSBhd2FpdCBjcmVhdGVTdXBhYmFzZUNsaWVudCgpO1xyXG4gIFxyXG4gIHRyeSB7XHJcbiAgICAvLyBDaGVjayBhZG1pbiBhY2Nlc3NcclxuICAgIGNvbnN0IGFkbWluQ2hlY2sgPSBhd2FpdCBpc0FkbWluKHN1cGFiYXNlKTtcclxuICAgIGlmICghYWRtaW5DaGVjaykge1xyXG4gICAgICByZXR1cm4geyBkYXRhOiBudWxsLCBlcnJvcjogJ0FjY2VzcyBkZW5pZWQuIEFkbWluIG9yIHRlYWNoZXIgcm9sZSByZXF1aXJlZC4nIH07XHJcbiAgICB9XHJcblxyXG4gICAgLy8gR2V0IHRoZSBoaWdoZXN0IG9yZGVyX2luZGV4IHRvIGRldGVybWluZSB0aGUgbmV3IHBvc2l0aW9uXHJcbiAgICBjb25zdCB7IGRhdGE6IGV4aXN0aW5nTW9kdWxlcyB9ID0gYXdhaXQgc3VwYWJhc2VcclxuICAgICAgLmZyb20oJ21vZHVsZXMnKVxyXG4gICAgICAuc2VsZWN0KCdvcmRlcl9pbmRleCcpXHJcbiAgICAgIC5lcSgnY291cnNlX2lkJywgY291cnNlSWQpXHJcbiAgICAgIC5vcmRlcignb3JkZXJfaW5kZXgnLCB7IGFzY2VuZGluZzogZmFsc2UgfSlcclxuICAgICAgLmxpbWl0KDEpO1xyXG5cclxuICAgIGNvbnN0IG5ld09yZGVySW5kZXggPSBleGlzdGluZ01vZHVsZXMgJiYgZXhpc3RpbmdNb2R1bGVzLmxlbmd0aCA+IDAgXHJcbiAgICAgID8gZXhpc3RpbmdNb2R1bGVzWzBdLm9yZGVyX2luZGV4ICsgMTAgXHJcbiAgICAgIDogMDtcclxuXHJcbiAgICBjb25zdCB7IGRhdGEsIGVycm9yIH0gPSBhd2FpdCBzdXBhYmFzZVxyXG4gICAgICAuZnJvbSgnbW9kdWxlcycpXHJcbiAgICAgIC5pbnNlcnQoW3sgY291cnNlX2lkOiBjb3Vyc2VJZCwgdGl0bGUsIG9yZGVyX2luZGV4OiBuZXdPcmRlckluZGV4IH1dKVxyXG4gICAgICAuc2VsZWN0KClcclxuICAgICAgLnNpbmdsZSgpO1xyXG5cclxuICAgIGlmIChlcnJvcikge1xyXG4gICAgICByZXR1cm4geyBkYXRhOiBudWxsLCBlcnJvcjogZXJyb3IubWVzc2FnZSB9O1xyXG4gICAgfVxyXG5cclxuICAgIC8vIFJldmFsaWRhdGUgdGhlIGNhY2hlIHRvIGVuc3VyZSBmcm9udGVuZCByZWZsZWN0cyBjaGFuZ2VzXHJcbiAgICByZXZhbGlkYXRlUGF0aCgnL2NvdXJzZXMnKTtcclxuICAgIHJldmFsaWRhdGVQYXRoKCcvZGFzaGJvYXJkJyk7XHJcbiAgICBcclxuICAgIHJldHVybiB7IGRhdGEsIGVycm9yOiBudWxsIH07XHJcbiAgfSBjYXRjaCAoZXJyb3I6IGFueSkge1xyXG4gICAgcmV0dXJuIHsgZGF0YTogbnVsbCwgZXJyb3I6IGVycm9yLm1lc3NhZ2UgfTtcclxuICB9XHJcbn1cclxuXHJcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiB1cGRhdGVNb2R1bGUoaWQ6IHN0cmluZywgdXBkYXRlczogUGFydGlhbDxNb2R1bGU+KTogUHJvbWlzZTx7IGRhdGE6IE1vZHVsZSB8IG51bGw7IGVycm9yOiBzdHJpbmcgfCBudWxsIH0+IHtcclxuICBjb25zdCBzdXBhYmFzZSA9IGF3YWl0IGNyZWF0ZVN1cGFiYXNlQ2xpZW50KCk7XHJcbiAgXHJcbiAgdHJ5IHtcclxuICAgIC8vIENoZWNrIGFkbWluIGFjY2Vzc1xyXG4gICAgY29uc3QgYWRtaW5DaGVjayA9IGF3YWl0IGlzQWRtaW4oc3VwYWJhc2UpO1xyXG4gICAgaWYgKCFhZG1pbkNoZWNrKSB7XHJcbiAgICAgIHJldHVybiB7IGRhdGE6IG51bGwsIGVycm9yOiAnQWNjZXNzIGRlbmllZC4gQWRtaW4gb3IgdGVhY2hlciByb2xlIHJlcXVpcmVkLicgfTtcclxuICAgIH1cclxuXHJcbiAgICBjb25zdCB7IGRhdGEsIGVycm9yIH0gPSBhd2FpdCBzdXBhYmFzZVxyXG4gICAgICAuZnJvbSgnbW9kdWxlcycpXHJcbiAgICAgIC51cGRhdGUodXBkYXRlcylcclxuICAgICAgLmVxKCdpZCcsIGlkKVxyXG4gICAgICAuc2VsZWN0KClcclxuICAgICAgLnNpbmdsZSgpO1xyXG5cclxuICAgIGlmIChlcnJvcikge1xyXG4gICAgICByZXR1cm4geyBkYXRhOiBudWxsLCBlcnJvcjogZXJyb3IubWVzc2FnZSB9O1xyXG4gICAgfVxyXG5cclxuICAgIC8vIFJldmFsaWRhdGUgdGhlIGNhY2hlIHRvIGVuc3VyZSBmcm9udGVuZCByZWZsZWN0cyBjaGFuZ2VzXHJcbiAgICByZXZhbGlkYXRlUGF0aCgnL2NvdXJzZXMnKTtcclxuICAgIHJldmFsaWRhdGVQYXRoKCcvZGFzaGJvYXJkJyk7XHJcbiAgICBcclxuICAgIHJldHVybiB7IGRhdGEsIGVycm9yOiBudWxsIH07XHJcbiAgfSBjYXRjaCAoZXJyb3I6IGFueSkge1xyXG4gICAgcmV0dXJuIHsgZGF0YTogbnVsbCwgZXJyb3I6IGVycm9yLm1lc3NhZ2UgfTtcclxuICB9XHJcbn1cclxuXHJcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBkZWxldGVNb2R1bGUoaWQ6IHN0cmluZyk6IFByb21pc2U8eyBlcnJvcjogc3RyaW5nIHwgbnVsbCB9PiB7XHJcbiAgY29uc3Qgc3VwYWJhc2UgPSBhd2FpdCBjcmVhdGVTdXBhYmFzZUNsaWVudCgpO1xyXG4gIFxyXG4gIHRyeSB7XHJcbiAgICAvLyBDaGVjayBhZG1pbiBhY2Nlc3NcclxuICAgIGNvbnN0IGFkbWluQ2hlY2sgPSBhd2FpdCBpc0FkbWluKHN1cGFiYXNlKTtcclxuICAgIGlmICghYWRtaW5DaGVjaykge1xyXG4gICAgICByZXR1cm4geyBlcnJvcjogJ0FjY2VzcyBkZW5pZWQuIEFkbWluIG9yIHRlYWNoZXIgcm9sZSByZXF1aXJlZC4nIH07XHJcbiAgICB9XHJcblxyXG4gICAgY29uc3QgeyBlcnJvciB9ID0gYXdhaXQgc3VwYWJhc2VcclxuICAgICAgLmZyb20oJ21vZHVsZXMnKVxyXG4gICAgICAuZGVsZXRlKClcclxuICAgICAgLmVxKCdpZCcsIGlkKTtcclxuXHJcbiAgICBpZiAoZXJyb3IpIHtcclxuICAgICAgcmV0dXJuIHsgZXJyb3I6IGVycm9yLm1lc3NhZ2UgfTtcclxuICAgIH1cclxuXHJcbiAgICAvLyBSZXZhbGlkYXRlIHRoZSBjYWNoZSB0byBlbnN1cmUgZnJvbnRlbmQgcmVmbGVjdHMgY2hhbmdlc1xyXG4gICAgcmV2YWxpZGF0ZVBhdGgoJy9jb3Vyc2VzJyk7XHJcbiAgICByZXZhbGlkYXRlUGF0aCgnL2Rhc2hib2FyZCcpO1xyXG4gICAgXHJcbiAgICByZXR1cm4geyBlcnJvcjogbnVsbCB9O1xyXG4gIH0gY2F0Y2ggKGVycm9yOiBhbnkpIHtcclxuICAgIHJldHVybiB7IGVycm9yOiBlcnJvci5tZXNzYWdlIH07XHJcbiAgfVxyXG59XHJcblxyXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gcmVvcmRlck1vZHVsZXMoY291cnNlSWQ6IHN0cmluZywgbW9kdWxlSWRzOiBzdHJpbmdbXSk6IFByb21pc2U8eyBlcnJvcjogc3RyaW5nIHwgbnVsbCB9PiB7XHJcbiAgY29uc3Qgc3VwYWJhc2UgPSBhd2FpdCBjcmVhdGVTdXBhYmFzZUNsaWVudCgpO1xyXG4gIFxyXG4gIHRyeSB7XHJcbiAgICAvLyBDaGVjayBhZG1pbiBhY2Nlc3NcclxuICAgIGNvbnN0IGFkbWluQ2hlY2sgPSBhd2FpdCBpc0FkbWluKHN1cGFiYXNlKTtcclxuICAgIGlmICghYWRtaW5DaGVjaykge1xyXG4gICAgICByZXR1cm4geyBlcnJvcjogJ0FjY2VzcyBkZW5pZWQuIEFkbWluIG9yIHRlYWNoZXIgcm9sZSByZXF1aXJlZC4nIH07XHJcbiAgICB9XHJcblxyXG4gICAgLy8gVXBkYXRlIGFsbCBtb2R1bGVzIHdpdGggdGhlaXIgbmV3IHBvc2l0aW9ucyBpbiBhIHNpbmdsZSB0cmFuc2FjdGlvblxyXG4gICAgY29uc3QgdXBkYXRlcyA9IG1vZHVsZUlkcy5tYXAoKGlkLCBpbmRleCkgPT4gKHtcclxuICAgICAgaWQsXHJcbiAgICAgIG9yZGVyX2luZGV4OiBpbmRleCAqIDEwIC8vIFVzZSBpbmNyZW1lbnRzIG9mIDEwIHRvIGFsbG93IGZvciBmdXR1cmUgaW5zZXJ0aW9ucyBiZXR3ZWVuIGl0ZW1zXHJcbiAgICB9KSk7XHJcblxyXG4gICAgLy8gUGVyZm9ybSB1cGRhdGVzIGluIGEgYmF0Y2hcclxuICAgIGZvciAoY29uc3QgdXBkYXRlIG9mIHVwZGF0ZXMpIHtcclxuICAgICAgY29uc3QgeyBlcnJvciB9ID0gYXdhaXQgc3VwYWJhc2VcclxuICAgICAgICAuZnJvbSgnbW9kdWxlcycpXHJcbiAgICAgICAgLnVwZGF0ZSh7IG9yZGVyX2luZGV4OiB1cGRhdGUub3JkZXJfaW5kZXggfSlcclxuICAgICAgICAuZXEoJ2lkJywgdXBkYXRlLmlkKVxyXG4gICAgICAgIC5lcSgnY291cnNlX2lkJywgY291cnNlSWQpOyAvLyBBZGRpdGlvbmFsIHNhZmV0eSBjaGVja1xyXG5cclxuICAgICAgaWYgKGVycm9yKSB7XHJcbiAgICAgICAgcmV0dXJuIHsgZXJyb3I6IGVycm9yLm1lc3NhZ2UgfTtcclxuICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8vIFJldmFsaWRhdGUgdGhlIGNhY2hlIHRvIGVuc3VyZSBmcm9udGVuZCByZWZsZWN0cyBjaGFuZ2VzXHJcbiAgICByZXZhbGlkYXRlUGF0aCgnL2NvdXJzZXMnKTtcclxuICAgIHJldmFsaWRhdGVQYXRoKCcvZGFzaGJvYXJkJyk7XHJcbiAgICBcclxuICAgIHJldHVybiB7IGVycm9yOiBudWxsIH07XHJcbiAgfSBjYXRjaCAoZXJyb3I6IGFueSkge1xyXG4gICAgcmV0dXJuIHsgZXJyb3I6IGVycm9yLm1lc3NhZ2UgfTtcclxuICB9XHJcbn1cclxuXHJcbi8vIExlc3NvbiBBY3Rpb25zXHJcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBsaXN0TGVzc29ucyhtb2R1bGVJZDogc3RyaW5nKTogUHJvbWlzZTx7IGRhdGE6IExlc3NvbltdIHwgbnVsbDsgZXJyb3I6IHN0cmluZyB8IG51bGwgfT4ge1xyXG4gIGNvbnN0IHN1cGFiYXNlID0gYXdhaXQgY3JlYXRlU3VwYWJhc2VDbGllbnQoKTtcclxuICBcclxuICB0cnkge1xyXG4gICAgLy8gQ2hlY2sgYWRtaW4gYWNjZXNzXHJcbiAgICBjb25zdCBhZG1pbkNoZWNrID0gYXdhaXQgaXNBZG1pbihzdXBhYmFzZSk7XHJcbiAgICBpZiAoIWFkbWluQ2hlY2spIHtcclxuICAgICAgcmV0dXJuIHsgZGF0YTogbnVsbCwgZXJyb3I6ICdBY2Nlc3MgZGVuaWVkLiBBZG1pbiBvciB0ZWFjaGVyIHJvbGUgcmVxdWlyZWQuJyB9O1xyXG4gICAgfVxyXG5cclxuICAgIGNvbnN0IHsgZGF0YSwgZXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlXHJcbiAgICAgIC5mcm9tKCdsZXNzb25zJylcclxuICAgICAgLnNlbGVjdCgnKicpXHJcbiAgICAgIC5lcSgnbW9kdWxlX2lkJywgbW9kdWxlSWQpXHJcbiAgICAgIC5vcmRlcignb3JkZXJfaW5kZXgnLCB7IGFzY2VuZGluZzogdHJ1ZSB9KTtcclxuXHJcbiAgICBpZiAoZXJyb3IpIHtcclxuICAgICAgcmV0dXJuIHsgZGF0YTogbnVsbCwgZXJyb3I6IGVycm9yLm1lc3NhZ2UgfTtcclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4geyBkYXRhLCBlcnJvcjogbnVsbCB9O1xyXG4gIH0gY2F0Y2ggKGVycm9yOiBhbnkpIHtcclxuICAgIHJldHVybiB7IGRhdGE6IG51bGwsIGVycm9yOiBlcnJvci5tZXNzYWdlIH07XHJcbiAgfVxyXG59XHJcblxyXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gY3JlYXRlTGVzc29uKFxyXG4gIG1vZHVsZUlkOiBzdHJpbmcsIFxyXG4gIHRpdGxlOiBzdHJpbmcsIFxyXG4gIGRlc2NyaXB0aW9uOiBzdHJpbmcsIFxyXG4gIHlvdXR1YmVVcmw6IHN0cmluZ1xyXG4pOiBQcm9taXNlPHsgZGF0YTogTGVzc29uIHwgbnVsbDsgZXJyb3I6IHN0cmluZyB8IG51bGwgfT4ge1xyXG4gIGNvbnN0IHN1cGFiYXNlID0gYXdhaXQgY3JlYXRlU3VwYWJhc2VDbGllbnQoKTtcclxuICBcclxuICB0cnkge1xyXG4gICAgLy8gQ2hlY2sgYWRtaW4gYWNjZXNzXHJcbiAgICBjb25zdCBhZG1pbkNoZWNrID0gYXdhaXQgaXNBZG1pbihzdXBhYmFzZSk7XHJcbiAgICBpZiAoIWFkbWluQ2hlY2spIHtcclxuICAgICAgcmV0dXJuIHsgZGF0YTogbnVsbCwgZXJyb3I6ICdBY2Nlc3MgZGVuaWVkLiBBZG1pbiBvciB0ZWFjaGVyIHJvbGUgcmVxdWlyZWQuJyB9O1xyXG4gICAgfVxyXG5cclxuICAgIC8vIFBhcnNlIHRoZSBZb3VUdWJlIFVSTFxyXG4gICAgY29uc3QgcGFyc2VkID0gcGFyc2VZb3VUdWJlKHlvdXR1YmVVcmwpO1xyXG4gICAgaWYgKHBhcnNlZC5lcnJvcikge1xyXG4gICAgICByZXR1cm4geyBkYXRhOiBudWxsLCBlcnJvcjogcGFyc2VkLmVycm9yIH07XHJcbiAgICB9XHJcblxyXG4gICAgLy8gR2V0IHRoZSBoaWdoZXN0IG9yZGVyX2luZGV4IHRvIGRldGVybWluZSB0aGUgbmV3IHBvc2l0aW9uXHJcbiAgICBjb25zdCB7IGRhdGE6IGV4aXN0aW5nTGVzc29ucyB9ID0gYXdhaXQgc3VwYWJhc2VcclxuICAgICAgLmZyb20oJ2xlc3NvbnMnKVxyXG4gICAgICAuc2VsZWN0KCdvcmRlcl9pbmRleCcpXHJcbiAgICAgIC5lcSgnbW9kdWxlX2lkJywgbW9kdWxlSWQpXHJcbiAgICAgIC5vcmRlcignb3JkZXJfaW5kZXgnLCB7IGFzY2VuZGluZzogZmFsc2UgfSlcclxuICAgICAgLmxpbWl0KDEpO1xyXG5cclxuICAgIGNvbnN0IG5ld09yZGVySW5kZXggPSBleGlzdGluZ0xlc3NvbnMgJiYgZXhpc3RpbmdMZXNzb25zLmxlbmd0aCA+IDAgXHJcbiAgICAgID8gZXhpc3RpbmdMZXNzb25zWzBdLm9yZGVyX2luZGV4ICsgMTAgXHJcbiAgICAgIDogMDtcclxuXHJcbiAgICBjb25zdCB7IGRhdGEsIGVycm9yIH0gPSBhd2FpdCBzdXBhYmFzZVxyXG4gICAgICAuZnJvbSgnbGVzc29ucycpXHJcbiAgICAgIC5pbnNlcnQoW3tcclxuICAgICAgICBtb2R1bGVfaWQ6IG1vZHVsZUlkLFxyXG4gICAgICAgIHRpdGxlLFxyXG4gICAgICAgIGRlc2NyaXB0aW9uLFxyXG4gICAgICAgIHlvdXR1YmVfdmlkZW9faWQ6IHBhcnNlZC52aWRlb0lkLFxyXG4gICAgICAgIHZpZGVvX3VybDogcGFyc2VkLmVtYmVkVXJsLFxyXG4gICAgICAgIG9yZGVyX2luZGV4OiBuZXdPcmRlckluZGV4LFxyXG4gICAgICAgIGlzX3ByZXZpZXc6IGZhbHNlLFxyXG4gICAgICAgIGlzX3B1Ymxpc2hlZDogdHJ1ZVxyXG4gICAgICB9XSlcclxuICAgICAgLnNlbGVjdCgpXHJcbiAgICAgIC5zaW5nbGUoKTtcclxuXHJcbiAgICBpZiAoZXJyb3IpIHtcclxuICAgICAgcmV0dXJuIHsgZGF0YTogbnVsbCwgZXJyb3I6IGVycm9yLm1lc3NhZ2UgfTtcclxuICAgIH1cclxuXHJcbiAgICAvLyBSZXZhbGlkYXRlIHRoZSBjYWNoZSB0byBlbnN1cmUgZnJvbnRlbmQgcmVmbGVjdHMgY2hhbmdlc1xyXG4gICAgcmV2YWxpZGF0ZVBhdGgoJy9jb3Vyc2VzJyk7XHJcbiAgICByZXZhbGlkYXRlUGF0aCgnL2Rhc2hib2FyZCcpO1xyXG4gICAgXHJcbiAgICByZXR1cm4geyBkYXRhLCBlcnJvcjogbnVsbCB9O1xyXG4gIH0gY2F0Y2ggKGVycm9yOiBhbnkpIHtcclxuICAgIHJldHVybiB7IGRhdGE6IG51bGwsIGVycm9yOiBlcnJvci5tZXNzYWdlIH07XHJcbiAgfVxyXG59XHJcblxyXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gdXBkYXRlTGVzc29uKFxyXG4gIGlkOiBzdHJpbmcsIFxyXG4gIHVwZGF0ZXM6IFBhcnRpYWw8T21pdDxMZXNzb24sICdpZCcgfCAnbW9kdWxlX2lkJyB8ICdjcmVhdGVkX2F0JyB8ICd1cGRhdGVkX2F0Jz4+XHJcbik6IFByb21pc2U8eyBkYXRhOiBMZXNzb24gfCBudWxsOyBlcnJvcjogc3RyaW5nIHwgbnVsbCB9PiB7XHJcbiAgY29uc3Qgc3VwYWJhc2UgPSBhd2FpdCBjcmVhdGVTdXBhYmFzZUNsaWVudCgpO1xyXG4gIFxyXG4gIHRyeSB7XHJcbiAgICAvLyBDaGVjayBhZG1pbiBhY2Nlc3NcclxuICAgIGNvbnN0IGFkbWluQ2hlY2sgPSBhd2FpdCBpc0FkbWluKHN1cGFiYXNlKTtcclxuICAgIGlmICghYWRtaW5DaGVjaykge1xyXG4gICAgICByZXR1cm4geyBkYXRhOiBudWxsLCBlcnJvcjogJ0FjY2VzcyBkZW5pZWQuIEFkbWluIG9yIHRlYWNoZXIgcm9sZSByZXF1aXJlZC4nIH07XHJcbiAgICB9XHJcblxyXG4gICAgLy8gSWYgdXBkYXRpbmcgWW91VHViZSBVUkwsIHBhcnNlIGl0IGZpcnN0XHJcbiAgICBpZiAodXBkYXRlcy52aWRlb191cmwpIHtcclxuICAgICAgY29uc3QgcGFyc2VkID0gcGFyc2VZb3VUdWJlKHVwZGF0ZXMudmlkZW9fdXJsKTtcclxuICAgICAgaWYgKHBhcnNlZC5lcnJvcikge1xyXG4gICAgICAgIHJldHVybiB7IGRhdGE6IG51bGwsIGVycm9yOiBwYXJzZWQuZXJyb3IgfTtcclxuICAgICAgfVxyXG4gICAgICB1cGRhdGVzLnlvdXR1YmVfdmlkZW9faWQgPSBwYXJzZWQudmlkZW9JZDtcclxuICAgICAgdXBkYXRlcy52aWRlb191cmwgPSBwYXJzZWQuZW1iZWRVcmw7XHJcbiAgICB9XHJcblxyXG4gICAgY29uc3QgeyBkYXRhLCBlcnJvciB9ID0gYXdhaXQgc3VwYWJhc2VcclxuICAgICAgLmZyb20oJ2xlc3NvbnMnKVxyXG4gICAgICAudXBkYXRlKHVwZGF0ZXMpXHJcbiAgICAgIC5lcSgnaWQnLCBpZClcclxuICAgICAgLnNlbGVjdCgpXHJcbiAgICAgIC5zaW5nbGUoKTtcclxuXHJcbiAgICBpZiAoZXJyb3IpIHtcclxuICAgICAgcmV0dXJuIHsgZGF0YTogbnVsbCwgZXJyb3I6IGVycm9yLm1lc3NhZ2UgfTtcclxuICAgIH1cclxuXHJcbiAgICAvLyBSZXZhbGlkYXRlIHRoZSBjYWNoZSB0byBlbnN1cmUgZnJvbnRlbmQgcmVmbGVjdHMgY2hhbmdlc1xyXG4gICAgcmV2YWxpZGF0ZVBhdGgoJy9jb3Vyc2VzJyk7XHJcbiAgICByZXZhbGlkYXRlUGF0aCgnL2Rhc2hib2FyZCcpO1xyXG4gICAgXHJcbiAgICByZXR1cm4geyBkYXRhLCBlcnJvcjogbnVsbCB9O1xyXG4gIH0gY2F0Y2ggKGVycm9yOiBhbnkpIHtcclxuICAgIHJldHVybiB7IGRhdGE6IG51bGwsIGVycm9yOiBlcnJvci5tZXNzYWdlIH07XHJcbiAgfVxyXG59XHJcblxyXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZGVsZXRlTGVzc29uKGlkOiBzdHJpbmcpOiBQcm9taXNlPHsgZXJyb3I6IHN0cmluZyB8IG51bGwgfT4ge1xyXG4gIGNvbnN0IHN1cGFiYXNlID0gYXdhaXQgY3JlYXRlU3VwYWJhc2VDbGllbnQoKTtcclxuICBcclxuICB0cnkge1xyXG4gICAgLy8gQ2hlY2sgYWRtaW4gYWNjZXNzXHJcbiAgICBjb25zdCBhZG1pbkNoZWNrID0gYXdhaXQgaXNBZG1pbihzdXBhYmFzZSk7XHJcbiAgICBpZiAoIWFkbWluQ2hlY2spIHtcclxuICAgICAgcmV0dXJuIHsgZXJyb3I6ICdBY2Nlc3MgZGVuaWVkLiBBZG1pbiBvciB0ZWFjaGVyIHJvbGUgcmVxdWlyZWQuJyB9O1xyXG4gICAgfVxyXG5cclxuICAgIGNvbnN0IHsgZXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlXHJcbiAgICAgIC5mcm9tKCdsZXNzb25zJylcclxuICAgICAgLmRlbGV0ZSgpXHJcbiAgICAgIC5lcSgnaWQnLCBpZCk7XHJcblxyXG4gICAgaWYgKGVycm9yKSB7XHJcbiAgICAgIHJldHVybiB7IGVycm9yOiBlcnJvci5tZXNzYWdlIH07XHJcbiAgICB9XHJcblxyXG4gICAgLy8gUmV2YWxpZGF0ZSB0aGUgY2FjaGUgdG8gZW5zdXJlIGZyb250ZW5kIHJlZmxlY3RzIGNoYW5nZXNcclxuICAgIHJldmFsaWRhdGVQYXRoKCcvY291cnNlcycpO1xyXG4gICAgcmV2YWxpZGF0ZVBhdGgoJy9kYXNoYm9hcmQnKTtcclxuICAgIFxyXG4gICAgcmV0dXJuIHsgZXJyb3I6IG51bGwgfTtcclxuICB9IGNhdGNoIChlcnJvcjogYW55KSB7XHJcbiAgICByZXR1cm4geyBlcnJvcjogZXJyb3IubWVzc2FnZSB9O1xyXG4gIH1cclxufVxyXG5cclxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIHJlb3JkZXJMZXNzb25zKG1vZHVsZUlkOiBzdHJpbmcsIGxlc3Nvbklkczogc3RyaW5nW10pOiBQcm9taXNlPHsgZXJyb3I6IHN0cmluZyB8IG51bGwgfT4ge1xyXG4gIGNvbnN0IHN1cGFiYXNlID0gYXdhaXQgY3JlYXRlU3VwYWJhc2VDbGllbnQoKTtcclxuICBcclxuICB0cnkge1xyXG4gICAgLy8gQ2hlY2sgYWRtaW4gYWNjZXNzXHJcbiAgICBjb25zdCBhZG1pbkNoZWNrID0gYXdhaXQgaXNBZG1pbihzdXBhYmFzZSk7XHJcbiAgICBpZiAoIWFkbWluQ2hlY2spIHtcclxuICAgICAgcmV0dXJuIHsgZXJyb3I6ICdBY2Nlc3MgZGVuaWVkLiBBZG1pbiBvciB0ZWFjaGVyIHJvbGUgcmVxdWlyZWQuJyB9O1xyXG4gICAgfVxyXG5cclxuICAgIC8vIFVwZGF0ZSBhbGwgbGVzc29ucyB3aXRoIHRoZWlyIG5ldyBwb3NpdGlvbnMgaW4gYSBzaW5nbGUgdHJhbnNhY3Rpb25cclxuICAgIGNvbnN0IHVwZGF0ZXMgPSBsZXNzb25JZHMubWFwKChpZCwgaW5kZXgpID0+ICh7XHJcbiAgICAgIGlkLFxyXG4gICAgICBvcmRlcl9pbmRleDogaW5kZXggKiAxMCAvLyBVc2UgaW5jcmVtZW50cyBvZiAxMCB0byBhbGxvdyBmb3IgZnV0dXJlIGluc2VydGlvbnMgYmV0d2VlbiBpdGVtc1xyXG4gICAgfSkpO1xyXG5cclxuICAgIC8vIFBlcmZvcm0gdXBkYXRlcyBpbiBhIGJhdGNoXHJcbiAgICBmb3IgKGNvbnN0IHVwZGF0ZSBvZiB1cGRhdGVzKSB7XHJcbiAgICAgIGNvbnN0IHsgZXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlXHJcbiAgICAgICAgLmZyb20oJ2xlc3NvbnMnKVxyXG4gICAgICAgIC51cGRhdGUoeyBvcmRlcl9pbmRleDogdXBkYXRlLm9yZGVyX2luZGV4IH0pXHJcbiAgICAgICAgLmVxKCdpZCcsIHVwZGF0ZS5pZClcclxuICAgICAgICAuZXEoJ21vZHVsZV9pZCcsIG1vZHVsZUlkKTsgLy8gQWRkaXRpb25hbCBzYWZldHkgY2hlY2tcclxuXHJcbiAgICAgIGlmIChlcnJvcikge1xyXG4gICAgICAgIHJldHVybiB7IGVycm9yOiBlcnJvci5tZXNzYWdlIH07XHJcbiAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvLyBSZXZhbGlkYXRlIHRoZSBjYWNoZSB0byBlbnN1cmUgZnJvbnRlbmQgcmVmbGVjdHMgY2hhbmdlc1xyXG4gICAgcmV2YWxpZGF0ZVBhdGgoJy9jb3Vyc2VzJyk7XHJcbiAgICByZXZhbGlkYXRlUGF0aCgnL2Rhc2hib2FyZCcpO1xyXG4gICAgXHJcbiAgICByZXR1cm4geyBlcnJvcjogbnVsbCB9O1xyXG4gIH0gY2F0Y2ggKGVycm9yOiBhbnkpIHtcclxuICAgIHJldHVybiB7IGVycm9yOiBlcnJvci5tZXNzYWdlIH07XHJcbiAgfVxyXG59Il0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI2UkF1YnNCLDJMQUFBIn0=
}),
"[project]/src/lib/youtubeParser.ts [app-ssr] (ecmascript)", ((__turbopack_context__) => {
"use strict";

/**
 * Parse YouTube URL or ID to extract video ID and create embed URL
 * @param input - Raw YouTube URL or video ID
 * @returns Object containing videoId, embedUrl, and optional error
 */ __turbopack_context__.s([
    "parseYouTube",
    ()=>parseYouTube
]);
function parseYouTube(input) {
    if (!input || typeof input !== 'string') {
        return {
            videoId: null,
            embedUrl: null,
            error: 'Input is required and must be a string'
        };
    }
    // Clean the input by trimming whitespace
    const cleanedInput = input.trim();
    // Regular expression to validate YouTube video ID format (11 alphanumeric chars including hyphens and underscores)
    const videoIdRegex = /^[a-zA-Z0-9_-]{11}$/;
    // If input is exactly 11 characters and matches YouTube ID format, treat as raw ID
    if (cleanedInput.length === 11 && videoIdRegex.test(cleanedInput)) {
        return {
            videoId: cleanedInput,
            embedUrl: `https://www.youtube.com/embed/${cleanedInput}`,
            error: undefined
        };
    }
    // Regular expression to match various YouTube URL formats
    const youtubeRegex = /(?:youtube\.com\/(?:[^\/]+\/.+\/|(?:v|e(?:mbed)?)\/|.*[?&]v=)|youtu\.be\/)([^"&?\/\s]{11})/i;
    const match = cleanedInput.match(youtubeRegex);
    if (match && match[1]) {
        const videoId = match[1];
        return {
            videoId,
            embedUrl: `https://www.youtube.com/embed/${videoId}`,
            error: undefined
        };
    }
    // Check for YouTube Shorts format
    const shortsRegex = /youtube\.com\/shorts\/([^"&?\/\s]{11})/i;
    const shortsMatch = cleanedInput.match(shortsRegex);
    if (shortsMatch && shortsMatch[1]) {
        const videoId = shortsMatch[1];
        return {
            videoId,
            embedUrl: `https://www.youtube.com/embed/${videoId}`,
            error: undefined
        };
    }
    // If no match found, return error
    return {
        videoId: null,
        embedUrl: null,
        error: 'Invalid YouTube URL or video ID. Please provide a valid YouTube URL or 11-character video ID.'
    };
}
}),
"[project]/src/services/quizService.ts [app-ssr] (ecmascript)", ((__turbopack_context__) => {
"use strict";

__turbopack_context__.s([
    "getQuizByLessonId",
    ()=>getQuizByLessonId,
    "getQuizSubmissionByLessonId",
    ()=>getQuizSubmissionByLessonId,
    "getUserQuizSubmission",
    ()=>getUserQuizSubmission,
    "submitQuizAnswers",
    ()=>submitQuizAnswers,
    "upsertQuiz",
    ()=>upsertQuiz
]);
var __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$lib$2f$supabase$2e$ts__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/src/lib/supabase.ts [app-ssr] (ecmascript)");
;
function isUuid(value) {
    if (!value) return false;
    return /^[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}$/i.test(value);
}
const getQuizByLessonId = async (lessonId)=>{
    console.log('getQuizByLessonId: Fetching quiz for lesson:', lessonId);
    try {
        // First, get the quiz itself
        const { data: quizData, error: quizError } = await __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$lib$2f$supabase$2e$ts__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["supabase"].from('quizzes').select('*').eq('lesson_id', lessonId).eq('is_active', true).maybeSingle();
        if (quizError) {
            console.error('getQuizByLessonId: Error fetching quiz:', {
                name: quizError.name,
                message: quizError.message,
                details: quizError.details
            });
            throw quizError;
        }
        // If no quiz found for this lesson, return null
        if (!quizData) {
            return null;
        }
        // Then get the questions for this quiz
        console.log('getQuizByLessonId: Fetching questions for lesson:', lessonId);
        // First, let's check what's actually in the database for this lesson
        const { data: allQuestions, error: allQuestionsError } = await __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$lib$2f$supabase$2e$ts__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["supabase"].from('quiz_questions').select('*').limit(10);
        if (allQuestions) {
            console.log('getQuizByLessonId: All questions in DB:', allQuestions.map((q)=>({
                    id: q.id,
                    lesson_id: q.lesson_id,
                    text: q.question_text?.substring(0, 30) + '...'
                })));
        }
        const { data: questionsData, error: questionsError } = await __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$lib$2f$supabase$2e$ts__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["supabase"].from('quiz_questions').select('*').eq('lesson_id', lessonId).order('order_index', {
            ascending: true
        });
        if (questionsError) {
            console.error('getQuizByLessonId: Error fetching questions:', questionsError);
            throw questionsError;
        }
        console.log('getQuizByLessonId: Raw questions data:', questionsData?.length || 0, 'questions found');
        if (questionsData) {
            console.log('getQuizByLessonId: Questions sample:', questionsData.slice(0, 2).map((q)=>({
                    id: q.id,
                    text: q.question_text?.substring(0, 50) + '...'
                })));
        }
        // Sort questions by order_index
        const sortedQuestions = [
            ...questionsData || []
        ].sort((a, b)=>a.order_index - b.order_index);
        console.log('getQuizByLessonId: Sorted questions count:', sortedQuestions.length);
        // Get options for each question
        const questionsWithOptions = [];
        console.log('getQuizByLessonId: Processing', sortedQuestions.length, 'questions');
        for (const [index, question] of sortedQuestions.entries()){
            console.log(`getQuizByLessonId: Processing question ${index + 1}/${sortedQuestions.length}:`, {
                id: question.id,
                text: question.question_text?.substring(0, 50) + '...'
            });
            const { data: optionsData, error: optionsError } = await __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$lib$2f$supabase$2e$ts__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["supabase"].from('quiz_options').select('*').eq('question_id', question.id).order('order_index', {
                ascending: true
            });
            if (optionsError) {
                console.error('getQuizByLessonId: Error fetching options for question:', question.id, optionsError);
                throw optionsError;
            }
            console.log(`getQuizByLessonId: Question ${question.id} has ${optionsData?.length || 0} options`);
            questionsWithOptions.push({
                ...question,
                options: optionsData || []
            });
        }
        console.log('getQuizByLessonId: Built questionsWithOptions array with', questionsWithOptions.length, 'questions');
        const quizWithQuestions = {
            ...quizData,
            questions: questionsWithOptions
        };
        console.log('getQuizByLessonId: Final result structure:', {
            quizId: quizWithQuestions.id,
            lessonId: quizWithQuestions.lesson_id,
            title: quizWithQuestions.title,
            questionsCount: quizWithQuestions.questions?.length || 0,
            questionsSample: quizWithQuestions.questions?.slice(0, 2).map((q)=>({
                    id: q.id,
                    text: q.question_text?.substring(0, 50) + '...',
                    optionsCount: q.options?.length || 0
                }))
        });
        return quizWithQuestions;
    } catch (error) {
        console.error('getQuizByLessonId: Unhandled error:', {
            name: error?.name || 'UnknownError',
            message: error?.message || 'Unknown error occurred',
            stack: error?.stack
        });
        // Enhanced error categorization
        if (error?.name === 'TypeError' && error?.message?.includes('Failed to fetch')) {
            if (typeof navigator !== 'undefined' && !navigator.onLine) {
                throw new Error('Network error: You appear to be offline');
            } else {
                throw new Error('Network error: Unable to connect to database server');
            }
        }
        throw error;
    }
};
const upsertQuiz = async (lessonId, quizData)=>{
    console.log('upsertQuiz: Upserting quiz for lesson:', lessonId, 'data:', quizData);
    // Start a transaction-like approach
    // First, check if quiz already exists
    const { data: existingQuiz, error: fetchQuizError } = await __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$lib$2f$supabase$2e$ts__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["supabase"].from('quizzes').select('id').eq('lesson_id', lessonId).maybeSingle();
    if (fetchQuizError) {
        console.error('upsertQuiz: Error checking existing quiz:', fetchQuizError);
        throw fetchQuizError;
    }
    let quizId;
    if (existingQuiz) {
        // Update existing quiz
        const { error: updateQuizError } = await __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$lib$2f$supabase$2e$ts__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["supabase"].from('quizzes').update({
            title: quizData.title,
            description: quizData.description,
            is_active: quizData.is_active,
            updated_at: new Date().toISOString()
        }).eq('id', existingQuiz.id);
        if (updateQuizError) {
            console.error('upsertQuiz: Error updating quiz:', updateQuizError);
            throw updateQuizError;
        }
        quizId = existingQuiz.id;
    } else {
        // Insert new quiz
        const { data: newQuiz, error: insertQuizError } = await __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$lib$2f$supabase$2e$ts__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["supabase"].from('quizzes').insert({
            lesson_id: lessonId,
            title: quizData.title,
            description: quizData.description,
            is_active: quizData.is_active
        }).select('id').single();
        if (insertQuizError) {
            console.error('upsertQuiz: Error inserting quiz:', insertQuizError);
            throw insertQuizError;
        }
        quizId = newQuiz.id;
    }
    // Process questions
    const questionIdMap = {};
    for (const question of quizData.questions){
        let questionId;
        const shouldUpdate = isUuid(question.id);
        if (shouldUpdate && question.id) {
            // Update existing question
            console.log(`upsertQuiz: updating question (uuid ${question.id})`);
            const { error: updateQuestionError } = await __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$lib$2f$supabase$2e$ts__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["supabase"].from('quiz_questions').update({
                question_text: question.question_text,
                question_type: question.question_type,
                is_required: question.is_required,
                order_index: question.order_index,
                updated_at: new Date().toISOString()
            }).eq('id', question.id);
            if (updateQuestionError) {
                console.error('upsertQuiz: update quiz_questions failed:', updateQuestionError);
                throw updateQuestionError;
            }
            questionId = question.id;
        } else {
            // Insert new question
            console.log(`upsertQuiz: inserting question (temp id ${question.id || 'undefined'})`);
            const { data: newQuestion, error: insertQuestionError } = await __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$lib$2f$supabase$2e$ts__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["supabase"].from('quiz_questions').insert({
                lesson_id: lessonId,
                question_text: question.question_text,
                question_type: question.question_type,
                is_required: question.is_required,
                order_index: question.order_index
            }).select('id').single();
            if (insertQuestionError) {
                console.error('upsertQuiz: insert quiz_questions failed:', insertQuestionError);
                throw insertQuestionError;
            }
            questionId = newQuestion.id;
        }
        // Map the temporary question ID to the real question ID
        if (question.id && !shouldUpdate) {
            questionIdMap[question.id] = questionId;
        }
        // Process options for this question (only for multiple choice)
        if (question.question_type === 'multiple_choice' && question.options) {
            // Replace all options strategy: delete all existing options first
            console.log(`upsertQuiz: replacing options for question ${questionId}`);
            const { error: deleteOptionsError } = await __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$lib$2f$supabase$2e$ts__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["supabase"].from('quiz_options').delete().eq('question_id', questionId);
            if (deleteOptionsError) {
                console.error('upsertQuiz: delete quiz_options failed:', deleteOptionsError);
                throw deleteOptionsError;
            }
            // Insert all current options fresh
            for (const [index, option] of question.options.entries()){
                console.log(`upsertQuiz: inserting option ${index + 1} for question ${questionId}`);
                const { error: insertOptionError } = await __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$lib$2f$supabase$2e$ts__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["supabase"].from('quiz_options').insert({
                    question_id: questionId,
                    option_text: option.option_text,
                    is_correct: option.is_correct,
                    order_index: index
                });
                if (insertOptionError) {
                    console.error('upsertQuiz: insert quiz_options failed:', insertOptionError);
                    throw insertOptionError;
                }
            }
        } else if (question.question_type === 'multiple_choice') {
            // If it's multiple choice but no options provided, delete existing options
            console.log(`upsertQuiz: deleting all options for question ${questionId} (no options provided)`);
            const { error: deleteAllOptionsError } = await __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$lib$2f$supabase$2e$ts__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["supabase"].from('quiz_options').delete().eq('question_id', questionId);
            if (deleteAllOptionsError) {
                console.error('upsertQuiz: delete all quiz_options failed:', deleteAllOptionsError);
                throw deleteAllOptionsError;
            }
        }
    }
    // Clean up deleted questions (if any)
    console.log('upsertQuiz: Cleaning up questions for lesson:', lessonId);
    console.log('upsertQuiz: Quiz data questions:', quizData.questions.map((q)=>({
            id: q.id,
            isUuid: isUuid(q.id),
            text: q.question_text?.substring(0, 30) + '...'
        })));
    // Only clean up if there are existing questions to preserve
    if (quizData.questions.length > 0) {
        const existingQuestionIds = quizData.questions.filter((q)=>isUuid(q.id)) // Only include real UUIDs, not temporary IDs
        .map((q)=>q.id);
        console.log('upsertQuiz: Existing question IDs to preserve:', existingQuestionIds);
        if (existingQuestionIds.length > 0) {
            console.log('upsertQuiz: Deleting questions NOT in:', existingQuestionIds);
            const { error: deleteQuestionsError } = await __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$lib$2f$supabase$2e$ts__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["supabase"].from('quiz_questions').delete().eq('lesson_id', lessonId).not('id', 'in', `(${existingQuestionIds.join(',')})`);
            if (deleteQuestionsError) {
                console.error('upsertQuiz: Error deleting questions:', deleteQuestionsError);
            }
        } else {
            // If no existing questions to preserve, this means ALL questions are new
            // So we should NOT delete anything - all questions are meant to be kept
            console.log('upsertQuiz: All questions are new (temporary IDs), preserving all');
        }
    } else {
        // If no questions remain, delete all questions for this lesson
        console.log('upsertQuiz: No questions in quiz data, deleting all questions for lesson');
        const { error: deleteAllQuestionsError } = await __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$lib$2f$supabase$2e$ts__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["supabase"].from('quiz_questions').delete().eq('lesson_id', lessonId);
        if (deleteAllQuestionsError) {
            console.error('upsertQuiz: Error deleting all questions:', deleteAllQuestionsError);
        }
    }
    console.log('upsertQuiz: Successfully upserted quiz for lesson:', lessonId);
};
const submitQuizAnswers = async (userId, lessonId, answers)=>{
    console.log('submitQuizAnswers: Submitting answers for user:', userId, 'lesson:', lessonId);
    // First, get the quiz questions with correct answers
    const quiz = await getQuizByLessonId(lessonId);
    if (!quiz) {
        throw new Error('Quiz not found for this lesson');
    }
    // Create a new submission
    const { data: submission, error: submissionError } = await __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$lib$2f$supabase$2e$ts__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["supabase"].from('quiz_submissions').insert({
        user_id: userId,
        lesson_id: lessonId,
        score: 0,
        total_questions: quiz.questions.length
    }).select('id').single();
    if (submissionError) {
        console.error('submitQuizAnswers: Error creating submission:', submissionError);
        throw submissionError;
    }
    let correctAnswers = 0;
    // Process each answer
    for (const answer of answers){
        const question = quiz.questions.find((q)=>q.id === answer.question_id);
        if (!question) {
            continue; // Skip if question doesn't exist
        }
        let isCorrect = false;
        if (question.question_type === 'multiple_choice') {
            // For multiple choice, check if the selected option is correct
            if (answer.selected_option_id) {
                const selectedOption = question.options?.find((opt)=>opt.id === answer.selected_option_id);
                if (selectedOption?.is_correct) {
                    isCorrect = true;
                    correctAnswers++;
                }
            }
        } else if (question.question_type === 'short_answer') {
            // For short answer, we'll just save the answer and let instructors grade manually
            // For now, we'll mark it as correct if an answer was provided
            if (answer.answer_text && answer.answer_text.trim().length > 0) {
                isCorrect = true;
                correctAnswers++;
            }
        }
        // Save the answer
        const { error: answerError } = await __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$lib$2f$supabase$2e$ts__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["supabase"].from('quiz_answers').insert({
            submission_id: submission.id,
            question_id: answer.question_id,
            selected_option_id: answer.selected_option_id,
            answer_text: answer.answer_text,
            is_correct: isCorrect
        });
        if (answerError) {
            console.error('submitQuizAnswers: Error saving answer:', answerError);
            throw answerError;
        }
    }
    // Update the submission with the final score
    const finalScore = Math.round(correctAnswers / quiz.questions.length * 100);
    const { error: updateScoreError } = await __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$lib$2f$supabase$2e$ts__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["supabase"].from('quiz_submissions').update({
        score: finalScore,
        completed_at: new Date().toISOString()
    }).eq('id', submission.id);
    if (updateScoreError) {
        console.error('submitQuizAnswers: Error updating score:', updateScoreError);
        throw updateScoreError;
    }
    console.log('submitQuizAnswers: Successfully submitted answers for user:', userId, 'lesson:', lessonId, 'score:', finalScore);
    return {
        score: finalScore,
        total: quiz.questions.length
    };
};
const getUserQuizSubmission = async (userId, lessonId)=>{
    console.log('getUserQuizSubmission: Fetching submission for user:', userId, 'lesson:', lessonId);
    const { data, error } = await __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$lib$2f$supabase$2e$ts__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["supabase"].from('quiz_submissions').select('*').eq('user_id', userId).eq('lesson_id', lessonId).order('created_at', {
        ascending: false
    }).limit(1).maybeSingle();
    if (error) {
        console.error('getUserQuizSubmission: Error fetching submission:', error);
        throw error;
    }
    return data;
};
const getQuizSubmissionByLessonId = async (userId, lessonId)=>{
    console.log('getQuizSubmissionByLessonId: Fetching submission for user:', userId, 'lesson:', lessonId);
    const { data, error } = await __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$lib$2f$supabase$2e$ts__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["supabase"].from('quiz_submissions').select('*').eq('user_id', userId).eq('lesson_id', lessonId).order('created_at', {
        ascending: false
    }).limit(1).maybeSingle();
    if (error) {
        console.error('getQuizSubmissionByLessonId: Error fetching submission:', error);
        throw error;
    }
    return data;
};
}),
"[project]/src/components/admin/QuizEditor.tsx [app-ssr] (ecmascript)", ((__turbopack_context__) => {
"use strict";

__turbopack_context__.s([
    "QuizEditor",
    ()=>QuizEditor
]);
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/next/dist/server/route-modules/app-page/vendored/ssr/react-jsx-dev-runtime.js [app-ssr] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/next/dist/server/route-modules/app-page/vendored/ssr/react.js [app-ssr] (ecmascript)");
'use client';
;
;
const QuizEditor = ({ quiz, onSave, onCancel })=>{
    const [quizData, setQuizData] = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["useState"])(quiz ? {
        ...quiz,
        questions: quiz.questions.map((q)=>({
                ...q,
                lesson_id: quiz.lesson_id
            }))
    } : {
        id: '',
        lesson_id: '',
        title: 'Knowledge Check',
        description: 'Test your understanding of this lesson.',
        is_active: true,
        created_at: new Date().toISOString(),
        updated_at: new Date().toISOString(),
        questions: []
    });
    const [newQuestion, setNewQuestion] = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["useState"])({
        question_text: '',
        question_type: 'multiple_choice',
        is_required: true,
        order_index: 0,
        options: [
            {
                option_text: '',
                is_correct: false,
                order_index: 0
            }
        ]
    });
    const handleAddQuestion = ()=>{
        const newQuestionObj = {
            id: `new-${Date.now()}`,
            lesson_id: quizData.lesson_id,
            question_text: newQuestion.question_text,
            question_type: newQuestion.question_type,
            is_required: newQuestion.is_required,
            order_index: quizData.questions.length,
            created_at: new Date().toISOString(),
            updated_at: new Date().toISOString(),
            options: newQuestion.question_type === 'multiple_choice' ? newQuestion.options.map((opt, idx)=>({
                    id: `opt-${Date.now()}-${idx}`,
                    question_id: `new-${Date.now()}`,
                    option_text: opt.option_text,
                    is_correct: opt.is_correct,
                    order_index: idx,
                    created_at: new Date().toISOString(),
                    updated_at: new Date().toISOString()
                })) : undefined
        };
        setQuizData({
            ...quizData,
            questions: [
                ...quizData.questions,
                newQuestionObj
            ]
        });
        // Reset form
        setNewQuestion({
            question_text: '',
            question_type: 'multiple_choice',
            is_required: true,
            order_index: 0,
            options: [
                {
                    option_text: '',
                    is_correct: false,
                    order_index: 0
                }
            ]
        });
    };
    const handleRemoveQuestion = (index)=>{
        const updatedQuestions = [
            ...quizData.questions
        ];
        updatedQuestions.splice(index, 1);
        setQuizData({
            ...quizData,
            questions: updatedQuestions.map((q, i)=>({
                    ...q,
                    order_index: i
                }))
        });
    };
    const handleAddOption = (questionIndex)=>{
        const updatedQuestions = [
            ...quizData.questions
        ];
        const question = updatedQuestions[questionIndex];
        if (question.question_type === 'multiple_choice') {
            const options = question.options || [];
            question.options = [
                ...options,
                {
                    id: `opt-${Date.now()}-${Math.random()}`,
                    question_id: question.id,
                    option_text: '',
                    is_correct: false,
                    order_index: options.length,
                    created_at: new Date().toISOString(),
                    updated_at: new Date().toISOString()
                }
            ];
        }
        setQuizData({
            ...quizData,
            questions: updatedQuestions
        });
    };
    const handleRemoveOption = (questionIndex, optionIndex)=>{
        const updatedQuestions = [
            ...quizData.questions
        ];
        const question = updatedQuestions[questionIndex];
        if (question.question_type === 'multiple_choice' && question.options) {
            question.options.splice(optionIndex, 1);
            question.options = question.options.map((opt, i)=>({
                    ...opt,
                    order_index: i
                }));
        }
        setQuizData({
            ...quizData,
            questions: updatedQuestions
        });
    };
    const handleOptionChange = (questionIndex, optionIndex, field, value)=>{
        const updatedQuestions = [
            ...quizData.questions
        ];
        const question = updatedQuestions[questionIndex];
        if (question.question_type === 'multiple_choice' && question.options) {
            question.options[optionIndex] = {
                ...question.options[optionIndex],
                [field]: value
            };
        }
        setQuizData({
            ...quizData,
            questions: updatedQuestions
        });
    };
    const handleSave = ()=>{
        // Convert EditingQuiz back to QuizWithQuestions for saving
        const finalQuiz = {
            ...quizData,
            questions: quizData.questions.map((q)=>{
                const { lesson_id, ...rest } = q; // Remove lesson_id from question since it's in the parent
                return rest; // Type assertion since we're handling options properly
            })
        };
        onSave(finalQuiz);
    };
    return /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
        className: "fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",
        children: /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
            className: "bg-gray-900 border border-gray-700 rounded-lg shadow-xl max-w-4xl w-full max-h-[90vh] overflow-y-auto",
            onClick: (e)=>e.stopPropagation(),
            children: /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                className: "p-6",
                children: [
                    /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                        className: "flex justify-between items-center mb-6",
                        children: [
                            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("h2", {
                                className: "text-xl font-bold text-white",
                                children: "Edit Quiz"
                            }, void 0, false, {
                                fileName: "[project]/src/components/admin/QuizEditor.tsx",
                                lineNumber: 183,
                                columnNumber: 13
                            }, ("TURBOPACK compile-time value", void 0)),
                            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("button", {
                                onClick: onCancel,
                                className: "text-gray-400 hover:text-white hover-lift",
                                children: /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("svg", {
                                    xmlns: "http://www.w3.org/2000/svg",
                                    className: "h-6 w-6",
                                    fill: "none",
                                    viewBox: "0 0 24 24",
                                    stroke: "currentColor",
                                    children: /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("path", {
                                        strokeLinecap: "round",
                                        strokeLinejoin: "round",
                                        strokeWidth: 2,
                                        d: "M6 18L18 6M6 6l12 12"
                                    }, void 0, false, {
                                        fileName: "[project]/src/components/admin/QuizEditor.tsx",
                                        lineNumber: 191,
                                        columnNumber: 17
                                    }, ("TURBOPACK compile-time value", void 0))
                                }, void 0, false, {
                                    fileName: "[project]/src/components/admin/QuizEditor.tsx",
                                    lineNumber: 190,
                                    columnNumber: 15
                                }, ("TURBOPACK compile-time value", void 0))
                            }, void 0, false, {
                                fileName: "[project]/src/components/admin/QuizEditor.tsx",
                                lineNumber: 186,
                                columnNumber: 13
                            }, ("TURBOPACK compile-time value", void 0))
                        ]
                    }, void 0, true, {
                        fileName: "[project]/src/components/admin/QuizEditor.tsx",
                        lineNumber: 182,
                        columnNumber: 11
                    }, ("TURBOPACK compile-time value", void 0)),
                    /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                        className: "space-y-6",
                        children: [
                            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                                children: [
                                    /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("label", {
                                        className: "block text-sm font-medium text-gray-300 mb-1",
                                        children: "Quiz Title"
                                    }, void 0, false, {
                                        fileName: "[project]/src/components/admin/QuizEditor.tsx",
                                        lineNumber: 198,
                                        columnNumber: 15
                                    }, ("TURBOPACK compile-time value", void 0)),
                                    /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("input", {
                                        type: "text",
                                        value: quizData.title,
                                        onChange: (e)=>setQuizData({
                                                ...quizData,
                                                title: e.target.value
                                            }),
                                        className: "w-full p-2 rounded bg-gray-800 border border-gray-600 text-white",
                                        placeholder: "Quiz title"
                                    }, void 0, false, {
                                        fileName: "[project]/src/components/admin/QuizEditor.tsx",
                                        lineNumber: 201,
                                        columnNumber: 15
                                    }, ("TURBOPACK compile-time value", void 0))
                                ]
                            }, void 0, true, {
                                fileName: "[project]/src/components/admin/QuizEditor.tsx",
                                lineNumber: 197,
                                columnNumber: 13
                            }, ("TURBOPACK compile-time value", void 0)),
                            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                                children: [
                                    /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("label", {
                                        className: "block text-sm font-medium text-gray-300 mb-1",
                                        children: "Quiz Description"
                                    }, void 0, false, {
                                        fileName: "[project]/src/components/admin/QuizEditor.tsx",
                                        lineNumber: 211,
                                        columnNumber: 15
                                    }, ("TURBOPACK compile-time value", void 0)),
                                    /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("textarea", {
                                        value: quizData.description,
                                        onChange: (e)=>setQuizData({
                                                ...quizData,
                                                description: e.target.value
                                            }),
                                        className: "w-full p-2 rounded bg-gray-800 border border-gray-600 text-white",
                                        placeholder: "Quiz description",
                                        rows: 2
                                    }, void 0, false, {
                                        fileName: "[project]/src/components/admin/QuizEditor.tsx",
                                        lineNumber: 214,
                                        columnNumber: 15
                                    }, ("TURBOPACK compile-time value", void 0))
                                ]
                            }, void 0, true, {
                                fileName: "[project]/src/components/admin/QuizEditor.tsx",
                                lineNumber: 210,
                                columnNumber: 13
                            }, ("TURBOPACK compile-time value", void 0)),
                            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                                className: "flex items-center",
                                children: [
                                    /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("input", {
                                        type: "checkbox",
                                        checked: quizData.is_active,
                                        onChange: (e)=>setQuizData({
                                                ...quizData,
                                                is_active: e.target.checked
                                            }),
                                        className: "h-4 w-4 text-accent-primary bg-gray-700 border-gray-600 rounded focus:ring-accent-primary"
                                    }, void 0, false, {
                                        fileName: "[project]/src/components/admin/QuizEditor.tsx",
                                        lineNumber: 224,
                                        columnNumber: 15
                                    }, ("TURBOPACK compile-time value", void 0)),
                                    /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("span", {
                                        className: "ml-2 text-sm text-gray-300",
                                        children: "Active (Quiz is available to students)"
                                    }, void 0, false, {
                                        fileName: "[project]/src/components/admin/QuizEditor.tsx",
                                        lineNumber: 230,
                                        columnNumber: 15
                                    }, ("TURBOPACK compile-time value", void 0))
                                ]
                            }, void 0, true, {
                                fileName: "[project]/src/components/admin/QuizEditor.tsx",
                                lineNumber: 223,
                                columnNumber: 13
                            }, ("TURBOPACK compile-time value", void 0)),
                            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                                className: "border-t border-gray-700 pt-4",
                                children: [
                                    /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                                        className: "flex justify-between items-center mb-4",
                                        children: [
                                            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("h3", {
                                                className: "text-lg font-medium text-white",
                                                children: "Questions"
                                            }, void 0, false, {
                                                fileName: "[project]/src/components/admin/QuizEditor.tsx",
                                                lineNumber: 237,
                                                columnNumber: 17
                                            }, ("TURBOPACK compile-time value", void 0)),
                                            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("button", {
                                                type: "button",
                                                onClick: handleAddQuestion,
                                                className: "px-3 py-1 bg-accent-primary text-white rounded text-sm hover:bg-accent-primary/90 hover-lift border border-accent-primary",
                                                children: "Add Question"
                                            }, void 0, false, {
                                                fileName: "[project]/src/components/admin/QuizEditor.tsx",
                                                lineNumber: 238,
                                                columnNumber: 17
                                            }, ("TURBOPACK compile-time value", void 0))
                                        ]
                                    }, void 0, true, {
                                        fileName: "[project]/src/components/admin/QuizEditor.tsx",
                                        lineNumber: 236,
                                        columnNumber: 15
                                    }, ("TURBOPACK compile-time value", void 0)),
                                    quizData.questions.length === 0 ? /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                                        className: "text-center py-4 text-gray-500",
                                        children: 'No questions added yet. Click "Add Question" to get started.'
                                    }, void 0, false, {
                                        fileName: "[project]/src/components/admin/QuizEditor.tsx",
                                        lineNumber: 248,
                                        columnNumber: 17
                                    }, ("TURBOPACK compile-time value", void 0)) : /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                                        className: "space-y-4",
                                        children: quizData.questions.map((question, qIndex)=>/*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                                                className: "border border-gray-700 rounded-lg p-4",
                                                children: [
                                                    /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                                                        className: "flex justify-between items-start mb-3",
                                                        children: [
                                                            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                                                                className: "flex-1",
                                                                children: [
                                                                    /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("input", {
                                                                        type: "text",
                                                                        value: question.question_text,
                                                                        onChange: (e)=>{
                                                                            const updatedQuestions = [
                                                                                ...quizData.questions
                                                                            ];
                                                                            updatedQuestions[qIndex].question_text = e.target.value;
                                                                            setQuizData({
                                                                                ...quizData,
                                                                                questions: updatedQuestions
                                                                            });
                                                                        },
                                                                        className: "w-full p-2 rounded bg-gray-800 border border-gray-600 text-white mb-2",
                                                                        placeholder: "Question text"
                                                                    }, void 0, false, {
                                                                        fileName: "[project]/src/components/admin/QuizEditor.tsx",
                                                                        lineNumber: 257,
                                                                        columnNumber: 27
                                                                    }, ("TURBOPACK compile-time value", void 0)),
                                                                    /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                                                                        className: "flex gap-4 mb-2",
                                                                        children: [
                                                                            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                                                                                className: "flex items-center",
                                                                                children: [
                                                                                    /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("input", {
                                                                                        type: "radio",
                                                                                        id: `mc-${qIndex}`,
                                                                                        name: `type-${qIndex}`,
                                                                                        checked: question.question_type === 'multiple_choice',
                                                                                        onChange: ()=>{
                                                                                            const updatedQuestions = [
                                                                                                ...quizData.questions
                                                                                            ];
                                                                                            updatedQuestions[qIndex].question_type = 'multiple_choice';
                                                                                            updatedQuestions[qIndex].options = updatedQuestions[qIndex].options || [
                                                                                                {
                                                                                                    id: `opt-${Date.now()}-1`,
                                                                                                    question_id: updatedQuestions[qIndex].id,
                                                                                                    option_text: '',
                                                                                                    is_correct: false,
                                                                                                    order_index: 0,
                                                                                                    created_at: new Date().toISOString(),
                                                                                                    updated_at: new Date().toISOString()
                                                                                                }
                                                                                            ];
                                                                                            setQuizData({
                                                                                                ...quizData,
                                                                                                questions: updatedQuestions
                                                                                            });
                                                                                        },
                                                                                        className: "mr-2"
                                                                                    }, void 0, false, {
                                                                                        fileName: "[project]/src/components/admin/QuizEditor.tsx",
                                                                                        lineNumber: 271,
                                                                                        columnNumber: 31
                                                                                    }, ("TURBOPACK compile-time value", void 0)),
                                                                                    /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("label", {
                                                                                        htmlFor: `mc-${qIndex}`,
                                                                                        className: "text-sm text-gray-300",
                                                                                        children: "Multiple Choice"
                                                                                    }, void 0, false, {
                                                                                        fileName: "[project]/src/components/admin/QuizEditor.tsx",
                                                                                        lineNumber: 294,
                                                                                        columnNumber: 31
                                                                                    }, ("TURBOPACK compile-time value", void 0))
                                                                                ]
                                                                            }, void 0, true, {
                                                                                fileName: "[project]/src/components/admin/QuizEditor.tsx",
                                                                                lineNumber: 270,
                                                                                columnNumber: 29
                                                                            }, ("TURBOPACK compile-time value", void 0)),
                                                                            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                                                                                className: "flex items-center",
                                                                                children: [
                                                                                    /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("input", {
                                                                                        type: "radio",
                                                                                        id: `sa-${qIndex}`,
                                                                                        name: `type-${qIndex}`,
                                                                                        checked: question.question_type === 'short_answer',
                                                                                        onChange: ()=>{
                                                                                            const updatedQuestions = [
                                                                                                ...quizData.questions
                                                                                            ];
                                                                                            updatedQuestions[qIndex].question_type = 'short_answer';
                                                                                            updatedQuestions[qIndex].options = []; // Clear options for short answer
                                                                                            setQuizData({
                                                                                                ...quizData,
                                                                                                questions: updatedQuestions
                                                                                            });
                                                                                        },
                                                                                        className: "mr-2"
                                                                                    }, void 0, false, {
                                                                                        fileName: "[project]/src/components/admin/QuizEditor.tsx",
                                                                                        lineNumber: 298,
                                                                                        columnNumber: 31
                                                                                    }, ("TURBOPACK compile-time value", void 0)),
                                                                                    /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("label", {
                                                                                        htmlFor: `sa-${qIndex}`,
                                                                                        className: "text-sm text-gray-300",
                                                                                        children: "Short Answer"
                                                                                    }, void 0, false, {
                                                                                        fileName: "[project]/src/components/admin/QuizEditor.tsx",
                                                                                        lineNumber: 311,
                                                                                        columnNumber: 31
                                                                                    }, ("TURBOPACK compile-time value", void 0))
                                                                                ]
                                                                            }, void 0, true, {
                                                                                fileName: "[project]/src/components/admin/QuizEditor.tsx",
                                                                                lineNumber: 297,
                                                                                columnNumber: 29
                                                                            }, ("TURBOPACK compile-time value", void 0))
                                                                        ]
                                                                    }, void 0, true, {
                                                                        fileName: "[project]/src/components/admin/QuizEditor.tsx",
                                                                        lineNumber: 269,
                                                                        columnNumber: 27
                                                                    }, ("TURBOPACK compile-time value", void 0)),
                                                                    /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                                                                        className: "flex items-center",
                                                                        children: [
                                                                            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("input", {
                                                                                type: "checkbox",
                                                                                checked: question.is_required,
                                                                                onChange: (e)=>{
                                                                                    const updatedQuestions = [
                                                                                        ...quizData.questions
                                                                                    ];
                                                                                    updatedQuestions[qIndex].is_required = e.target.checked;
                                                                                    setQuizData({
                                                                                        ...quizData,
                                                                                        questions: updatedQuestions
                                                                                    });
                                                                                },
                                                                                className: "mr-2"
                                                                            }, void 0, false, {
                                                                                fileName: "[project]/src/components/admin/QuizEditor.tsx",
                                                                                lineNumber: 316,
                                                                                columnNumber: 29
                                                                            }, ("TURBOPACK compile-time value", void 0)),
                                                                            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("span", {
                                                                                className: "text-sm text-gray-300",
                                                                                children: "Required question"
                                                                            }, void 0, false, {
                                                                                fileName: "[project]/src/components/admin/QuizEditor.tsx",
                                                                                lineNumber: 326,
                                                                                columnNumber: 29
                                                                            }, ("TURBOPACK compile-time value", void 0))
                                                                        ]
                                                                    }, void 0, true, {
                                                                        fileName: "[project]/src/components/admin/QuizEditor.tsx",
                                                                        lineNumber: 315,
                                                                        columnNumber: 27
                                                                    }, ("TURBOPACK compile-time value", void 0))
                                                                ]
                                                            }, void 0, true, {
                                                                fileName: "[project]/src/components/admin/QuizEditor.tsx",
                                                                lineNumber: 256,
                                                                columnNumber: 25
                                                            }, ("TURBOPACK compile-time value", void 0)),
                                                            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("button", {
                                                                type: "button",
                                                                onClick: ()=>handleRemoveQuestion(qIndex),
                                                                className: "ml-2 text-red-500 hover:text-red-400 hover-lift",
                                                                children: /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("svg", {
                                                                    xmlns: "http://www.w3.org/2000/svg",
                                                                    className: "h-5 w-5",
                                                                    viewBox: "0 0 20 20",
                                                                    fill: "currentColor",
                                                                    children: /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("path", {
                                                                        fillRule: "evenodd",
                                                                        d: "M9 2a1 1 0 00-.894.553L7.382 4H4a1 1 0 000 2v10a2 2 0 002 2h8a2 2 0 002-2V6a1 1 0 100-2h-3.382l-.724-1.447A1 1 0 0011 2H9zM7 8a1 1 0 012 0v6a1 1 0 11-2 0V8zm5-1a1 1 0 00-1 1v6a1 1 0 102 0V8a1 1 0 00-1-1z",
                                                                        clipRule: "evenodd"
                                                                    }, void 0, false, {
                                                                        fileName: "[project]/src/components/admin/QuizEditor.tsx",
                                                                        lineNumber: 336,
                                                                        columnNumber: 29
                                                                    }, ("TURBOPACK compile-time value", void 0))
                                                                }, void 0, false, {
                                                                    fileName: "[project]/src/components/admin/QuizEditor.tsx",
                                                                    lineNumber: 335,
                                                                    columnNumber: 27
                                                                }, ("TURBOPACK compile-time value", void 0))
                                                            }, void 0, false, {
                                                                fileName: "[project]/src/components/admin/QuizEditor.tsx",
                                                                lineNumber: 330,
                                                                columnNumber: 25
                                                            }, ("TURBOPACK compile-time value", void 0))
                                                        ]
                                                    }, void 0, true, {
                                                        fileName: "[project]/src/components/admin/QuizEditor.tsx",
                                                        lineNumber: 255,
                                                        columnNumber: 23
                                                    }, ("TURBOPACK compile-time value", void 0)),
                                                    question.question_type === 'multiple_choice' && question.options && /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                                                        className: "mt-3 space-y-2",
                                                        children: [
                                                            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                                                                className: "flex justify-between items-center",
                                                                children: [
                                                                    /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("label", {
                                                                        className: "text-sm font-medium text-gray-300",
                                                                        children: "Options:"
                                                                    }, void 0, false, {
                                                                        fileName: "[project]/src/components/admin/QuizEditor.tsx",
                                                                        lineNumber: 344,
                                                                        columnNumber: 29
                                                                    }, ("TURBOPACK compile-time value", void 0)),
                                                                    /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("button", {
                                                                        type: "button",
                                                                        onClick: ()=>handleAddOption(qIndex),
                                                                        className: "px-2 py-1 bg-gray-700 text-white rounded text-xs hover:bg-gray-600 hover-lift",
                                                                        children: "+ Add Option"
                                                                    }, void 0, false, {
                                                                        fileName: "[project]/src/components/admin/QuizEditor.tsx",
                                                                        lineNumber: 345,
                                                                        columnNumber: 29
                                                                    }, ("TURBOPACK compile-time value", void 0))
                                                                ]
                                                            }, void 0, true, {
                                                                fileName: "[project]/src/components/admin/QuizEditor.tsx",
                                                                lineNumber: 343,
                                                                columnNumber: 27
                                                            }, ("TURBOPACK compile-time value", void 0)),
                                                            question.options.map((option, oIndex)=>/*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                                                                    className: "flex items-center gap-2",
                                                                    children: [
                                                                        /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("input", {
                                                                            type: "checkbox",
                                                                            checked: option.is_correct,
                                                                            onChange: (e)=>handleOptionChange(qIndex, oIndex, 'is_correct', e.target.checked),
                                                                            className: "mr-2"
                                                                        }, void 0, false, {
                                                                            fileName: "[project]/src/components/admin/QuizEditor.tsx",
                                                                            lineNumber: 356,
                                                                            columnNumber: 31
                                                                        }, ("TURBOPACK compile-time value", void 0)),
                                                                        /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("input", {
                                                                            type: "text",
                                                                            value: option.option_text,
                                                                            onChange: (e)=>handleOptionChange(qIndex, oIndex, 'option_text', e.target.value),
                                                                            className: "flex-1 p-2 rounded bg-gray-800 border border-gray-600 text-white text-sm",
                                                                            placeholder: "Option text"
                                                                        }, void 0, false, {
                                                                            fileName: "[project]/src/components/admin/QuizEditor.tsx",
                                                                            lineNumber: 362,
                                                                            columnNumber: 31
                                                                        }, ("TURBOPACK compile-time value", void 0)),
                                                                        /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("button", {
                                                                            type: "button",
                                                                            onClick: ()=>handleRemoveOption(qIndex, oIndex),
                                                                            className: "text-red-500 hover:text-red-400",
                                                                            children: /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("svg", {
                                                                                xmlns: "http://www.w3.org/2000/svg",
                                                                                className: "h-4 w-4",
                                                                                viewBox: "0 0 20 20",
                                                                                fill: "currentColor",
                                                                                children: /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("path", {
                                                                                    fillRule: "evenodd",
                                                                                    d: "M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z",
                                                                                    clipRule: "evenodd"
                                                                                }, void 0, false, {
                                                                                    fileName: "[project]/src/components/admin/QuizEditor.tsx",
                                                                                    lineNumber: 375,
                                                                                    columnNumber: 35
                                                                                }, ("TURBOPACK compile-time value", void 0))
                                                                            }, void 0, false, {
                                                                                fileName: "[project]/src/components/admin/QuizEditor.tsx",
                                                                                lineNumber: 374,
                                                                                columnNumber: 33
                                                                            }, ("TURBOPACK compile-time value", void 0))
                                                                        }, void 0, false, {
                                                                            fileName: "[project]/src/components/admin/QuizEditor.tsx",
                                                                            lineNumber: 369,
                                                                            columnNumber: 31
                                                                        }, ("TURBOPACK compile-time value", void 0))
                                                                    ]
                                                                }, oIndex, true, {
                                                                    fileName: "[project]/src/components/admin/QuizEditor.tsx",
                                                                    lineNumber: 355,
                                                                    columnNumber: 29
                                                                }, ("TURBOPACK compile-time value", void 0)))
                                                        ]
                                                    }, void 0, true, {
                                                        fileName: "[project]/src/components/admin/QuizEditor.tsx",
                                                        lineNumber: 342,
                                                        columnNumber: 25
                                                    }, ("TURBOPACK compile-time value", void 0))
                                                ]
                                            }, qIndex, true, {
                                                fileName: "[project]/src/components/admin/QuizEditor.tsx",
                                                lineNumber: 254,
                                                columnNumber: 21
                                            }, ("TURBOPACK compile-time value", void 0)))
                                    }, void 0, false, {
                                        fileName: "[project]/src/components/admin/QuizEditor.tsx",
                                        lineNumber: 252,
                                        columnNumber: 17
                                    }, ("TURBOPACK compile-time value", void 0))
                                ]
                            }, void 0, true, {
                                fileName: "[project]/src/components/admin/QuizEditor.tsx",
                                lineNumber: 235,
                                columnNumber: 13
                            }, ("TURBOPACK compile-time value", void 0))
                        ]
                    }, void 0, true, {
                        fileName: "[project]/src/components/admin/QuizEditor.tsx",
                        lineNumber: 196,
                        columnNumber: 11
                    }, ("TURBOPACK compile-time value", void 0)),
                    /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                        className: "mt-6 flex justify-end space-x-3",
                        children: [
                            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("button", {
                                type: "button",
                                onClick: onCancel,
                                className: "px-4 py-2 border border-gray-600 rounded-md text-gray-300 hover:bg-gray-800 hover-lift",
                                children: "Cancel"
                            }, void 0, false, {
                                fileName: "[project]/src/components/admin/QuizEditor.tsx",
                                lineNumber: 390,
                                columnNumber: 13
                            }, ("TURBOPACK compile-time value", void 0)),
                            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("button", {
                                type: "button",
                                onClick: handleSave,
                                className: "px-4 py-2 bg-accent-primary hover:bg-accent-primary/90 text-white rounded-md font-medium hover-lift border border-accent-primary",
                                children: "Save Quiz"
                            }, void 0, false, {
                                fileName: "[project]/src/components/admin/QuizEditor.tsx",
                                lineNumber: 397,
                                columnNumber: 13
                            }, ("TURBOPACK compile-time value", void 0))
                        ]
                    }, void 0, true, {
                        fileName: "[project]/src/components/admin/QuizEditor.tsx",
                        lineNumber: 389,
                        columnNumber: 11
                    }, ("TURBOPACK compile-time value", void 0))
                ]
            }, void 0, true, {
                fileName: "[project]/src/components/admin/QuizEditor.tsx",
                lineNumber: 181,
                columnNumber: 9
            }, ("TURBOPACK compile-time value", void 0))
        }, void 0, false, {
            fileName: "[project]/src/components/admin/QuizEditor.tsx",
            lineNumber: 177,
            columnNumber: 7
        }, ("TURBOPACK compile-time value", void 0))
    }, void 0, false, {
        fileName: "[project]/src/components/admin/QuizEditor.tsx",
        lineNumber: 176,
        columnNumber: 5
    }, ("TURBOPACK compile-time value", void 0));
};
}),
"[project]/src/components/admin/LessonEditor.tsx [app-ssr] (ecmascript)", ((__turbopack_context__) => {
"use strict";

__turbopack_context__.s([
    "default",
    ()=>__TURBOPACK__default__export__
]);
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/next/dist/server/route-modules/app-page/vendored/ssr/react-jsx-dev-runtime.js [app-ssr] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/next/dist/server/route-modules/app-page/vendored/ssr/react.js [app-ssr] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$actions$2f$data$3a$8c0d7e__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$text$2f$javascript$3e$__ = __turbopack_context__.i("[project]/src/actions/data:8c0d7e [app-ssr] (ecmascript) <text/javascript>");
var __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$actions$2f$data$3a$684a75__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$text$2f$javascript$3e$__ = __turbopack_context__.i("[project]/src/actions/data:684a75 [app-ssr] (ecmascript) <text/javascript>");
var __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$lib$2f$youtubeParser$2e$ts__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/src/lib/youtubeParser.ts [app-ssr] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$services$2f$quizService$2e$ts__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/src/services/quizService.ts [app-ssr] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$components$2f$admin$2f$QuizEditor$2e$tsx__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/src/components/admin/QuizEditor.tsx [app-ssr] (ecmascript)");
'use client';
;
;
;
;
;
;
const LessonEditor = ({ lesson, moduleId, onSave, onClose, onCreate })=>{
    const [title, setTitle] = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["useState"])('');
    const [description, setDescription] = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["useState"])('');
    const [youtubeUrl, setYoutubeUrl] = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["useState"])('');
    const [isPreview, setIsPreview] = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["useState"])(false);
    const [isPublished, setIsPublished] = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["useState"])(true);
    const [loading, setLoading] = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["useState"])(false);
    const [errors, setErrors] = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["useState"])({});
    const [embedUrl, setEmbedUrl] = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["useState"])(null);
    const [quiz, setQuiz] = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["useState"])(null);
    const [quizLoading, setQuizLoading] = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["useState"])(false);
    const [showQuizEditor, setShowQuizEditor] = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["useState"])(false);
    (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["useEffect"])(()=>{
        if (lesson) {
            setTitle(lesson.title || '');
            setDescription(lesson.description || '');
            setYoutubeUrl(lesson.video_url || '');
            setIsPreview(!!lesson.is_preview);
            setIsPublished(!!lesson.is_published);
            setEmbedUrl(lesson.video_url || null);
            // Load quiz for this lesson
            loadQuiz(lesson.id);
        } else {
            // Reset form for new lesson
            setTitle('');
            setDescription('');
            setYoutubeUrl('');
            setIsPreview(false);
            setIsPublished(true);
            setEmbedUrl(null);
            setQuiz(null);
            setErrors({});
        }
    }, [
        lesson
    ]);
    // Monitor quiz state changes for debugging
    (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["useEffect"])(()=>{
        console.log('Quiz state changed:', quiz);
        if (quiz) {
            console.log(`Quiz has ${quiz.questions?.length || 0} questions`);
        }
    }, [
        quiz
    ]);
    const loadQuiz = async (lessonId)=>{
        setQuizLoading(true);
        try {
            console.log('loadQuiz: Loading quiz for lesson:', lessonId);
            const lessonQuiz = await (0, __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$services$2f$quizService$2e$ts__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["getQuizByLessonId"])(lessonId);
            console.log('loadQuiz: Loaded quiz data:', lessonQuiz);
            setQuiz(lessonQuiz);
            // Force a re-render by updating state
            if (lessonQuiz) {
                console.log(`loadQuiz: Setting quiz with ${lessonQuiz.questions.length} questions`);
            } else {
                console.log('loadQuiz: No quiz found for this lesson');
            }
        } catch (error) {
            console.error('Error loading quiz:', error);
        } finally{
            setQuizLoading(false);
        }
    };
    const validate = ()=>{
        const newErrors = {};
        if (!title.trim()) {
            newErrors.title = 'Title is required';
        }
        if (!youtubeUrl.trim()) {
            newErrors.youtubeUrl = 'YouTube URL is required';
        } else {
            const parsed = (0, __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$lib$2f$youtubeParser$2e$ts__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["parseYouTube"])(youtubeUrl);
            if (parsed.error) {
                newErrors.youtubeUrl = parsed.error;
            }
        }
        setErrors(newErrors);
        return Object.keys(newErrors).length === 0;
    };
    const handleSave = async ()=>{
        if (!validate()) return;
        setLoading(true);
        try {
            if (lesson) {
                // Update existing lesson
                const updates = {
                    title,
                    description,
                    video_url: youtubeUrl,
                    is_preview: isPreview,
                    is_published: isPublished
                };
                const result = await (0, __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$actions$2f$data$3a$8c0d7e__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$text$2f$javascript$3e$__["updateLesson"])(lesson.id, updates);
                if (result.error) {
                    setErrors({
                        general: result.error
                    });
                } else if (result.data) {
                    onSave(result.data);
                    onClose();
                }
            } else if (moduleId) {
                // Create new lesson
                const result = await (0, __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$actions$2f$data$3a$684a75__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$text$2f$javascript$3e$__["createLesson"])(moduleId, title, description, youtubeUrl);
                if (result.error) {
                    setErrors({
                        general: result.error
                    });
                } else if (result.data) {
                    onCreate(result.data);
                    onClose();
                }
            }
        } catch (err) {
            setErrors({
                general: 'An unexpected error occurred'
            });
        } finally{
            setLoading(false);
        }
    };
    const handleSaveQuiz = async (quizData)=>{
        if (!lesson) return;
        try {
            console.log('handleSaveQuiz: Saving quiz data:', quizData);
            await (0, __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$services$2f$quizService$2e$ts__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["upsertQuiz"])(lesson.id, {
                title: quizData.title,
                description: quizData.description,
                is_active: quizData.is_active,
                questions: quizData.questions.map((q, index)=>({
                        id: q.id,
                        question_text: q.question_text,
                        question_type: q.question_type,
                        is_required: q.is_required,
                        order_index: index,
                        options: q.options?.map((opt, optIndex)=>({
                                id: opt.id,
                                option_text: opt.option_text,
                                is_correct: opt.is_correct,
                                order_index: optIndex
                            }))
                    }))
            });
            // Reload quiz after saving
            console.log('handleSaveQuiz: Reloading quiz after save');
            await loadQuiz(lesson.id);
            setShowQuizEditor(false);
        } catch (error) {
            console.error('Error saving quiz:', error);
            setErrors({
                general: 'Error saving quiz'
            });
        }
    };
    const handleUrlChange = (value)=>{
        setYoutubeUrl(value);
        // Parse URL and show preview if valid
        const parsed = (0, __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$lib$2f$youtubeParser$2e$ts__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["parseYouTube"])(value);
        if (!parsed.error) {
            setEmbedUrl(parsed.embedUrl);
        } else {
            setEmbedUrl(null);
        }
    };
    return /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["Fragment"], {
        children: [
            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                className: "fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",
                children: /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                    className: "bg-gray-900 border border-gray-700 rounded-lg shadow-xl max-w-4xl w-full max-h-[90vh] overflow-y-auto",
                    onClick: (e)=>e.stopPropagation(),
                    children: /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                        className: "p-6",
                        children: [
                            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                                className: "flex justify-between items-center mb-6",
                                children: [
                                    /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("h2", {
                                        className: "text-xl font-bold text-white",
                                        children: lesson ? 'Edit Lesson' : 'Create New Lesson'
                                    }, void 0, false, {
                                        fileName: "[project]/src/components/admin/LessonEditor.tsx",
                                        lineNumber: 199,
                                        columnNumber: 15
                                    }, ("TURBOPACK compile-time value", void 0)),
                                    /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("button", {
                                        onClick: onClose,
                                        className: "text-gray-400 hover:text-white hover-lift",
                                        children: /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("svg", {
                                            xmlns: "http://www.w3.org/2000/svg",
                                            className: "h-6 w-6",
                                            fill: "none",
                                            viewBox: "0 0 24 24",
                                            stroke: "currentColor",
                                            children: /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("path", {
                                                strokeLinecap: "round",
                                                strokeLinejoin: "round",
                                                strokeWidth: 2,
                                                d: "M6 18L18 6M6 6l12 12"
                                            }, void 0, false, {
                                                fileName: "[project]/src/components/admin/LessonEditor.tsx",
                                                lineNumber: 207,
                                                columnNumber: 19
                                            }, ("TURBOPACK compile-time value", void 0))
                                        }, void 0, false, {
                                            fileName: "[project]/src/components/admin/LessonEditor.tsx",
                                            lineNumber: 206,
                                            columnNumber: 17
                                        }, ("TURBOPACK compile-time value", void 0))
                                    }, void 0, false, {
                                        fileName: "[project]/src/components/admin/LessonEditor.tsx",
                                        lineNumber: 202,
                                        columnNumber: 15
                                    }, ("TURBOPACK compile-time value", void 0))
                                ]
                            }, void 0, true, {
                                fileName: "[project]/src/components/admin/LessonEditor.tsx",
                                lineNumber: 198,
                                columnNumber: 13
                            }, ("TURBOPACK compile-time value", void 0)),
                            errors.general && /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                                className: "mb-4 p-3 bg-red-900/30 border border-red-700 rounded text-red-300",
                                children: errors.general
                            }, void 0, false, {
                                fileName: "[project]/src/components/admin/LessonEditor.tsx",
                                lineNumber: 213,
                                columnNumber: 15
                            }, ("TURBOPACK compile-time value", void 0)),
                            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                                className: "grid grid-cols-1 lg:grid-cols-2 gap-6",
                                children: [
                                    /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                                        className: "space-y-4",
                                        children: [
                                            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                                                children: [
                                                    /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("label", {
                                                        className: "block text-sm font-medium text-gray-300 mb-1",
                                                        children: "Title *"
                                                    }, void 0, false, {
                                                        fileName: "[project]/src/components/admin/LessonEditor.tsx",
                                                        lineNumber: 221,
                                                        columnNumber: 19
                                                    }, ("TURBOPACK compile-time value", void 0)),
                                                    /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("input", {
                                                        type: "text",
                                                        value: title,
                                                        onChange: (e)=>setTitle(e.target.value),
                                                        className: `w-full p-2 rounded bg-gray-800 border ${errors.title ? 'border-red-500' : 'border-gray-600'} text-white`,
                                                        placeholder: "Lesson title"
                                                    }, void 0, false, {
                                                        fileName: "[project]/src/components/admin/LessonEditor.tsx",
                                                        lineNumber: 224,
                                                        columnNumber: 19
                                                    }, ("TURBOPACK compile-time value", void 0)),
                                                    errors.title && /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("p", {
                                                        className: "mt-1 text-sm text-red-400",
                                                        children: errors.title
                                                    }, void 0, false, {
                                                        fileName: "[project]/src/components/admin/LessonEditor.tsx",
                                                        lineNumber: 234,
                                                        columnNumber: 21
                                                    }, ("TURBOPACK compile-time value", void 0))
                                                ]
                                            }, void 0, true, {
                                                fileName: "[project]/src/components/admin/LessonEditor.tsx",
                                                lineNumber: 220,
                                                columnNumber: 17
                                            }, ("TURBOPACK compile-time value", void 0)),
                                            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                                                children: [
                                                    /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("label", {
                                                        className: "block text-sm font-medium text-gray-300 mb-1",
                                                        children: "YouTube URL *"
                                                    }, void 0, false, {
                                                        fileName: "[project]/src/components/admin/LessonEditor.tsx",
                                                        lineNumber: 239,
                                                        columnNumber: 19
                                                    }, ("TURBOPACK compile-time value", void 0)),
                                                    /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("input", {
                                                        type: "text",
                                                        value: youtubeUrl,
                                                        onChange: (e)=>handleUrlChange(e.target.value),
                                                        className: `w-full p-2 rounded bg-gray-800 border ${errors.youtubeUrl ? 'border-red-500' : 'border-gray-600'} text-white`,
                                                        placeholder: "Paste YouTube URL or video ID"
                                                    }, void 0, false, {
                                                        fileName: "[project]/src/components/admin/LessonEditor.tsx",
                                                        lineNumber: 242,
                                                        columnNumber: 19
                                                    }, ("TURBOPACK compile-time value", void 0)),
                                                    errors.youtubeUrl && /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("p", {
                                                        className: "mt-1 text-sm text-red-400",
                                                        children: errors.youtubeUrl
                                                    }, void 0, false, {
                                                        fileName: "[project]/src/components/admin/LessonEditor.tsx",
                                                        lineNumber: 252,
                                                        columnNumber: 21
                                                    }, ("TURBOPACK compile-time value", void 0)),
                                                    /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("p", {
                                                        className: "mt-1 text-xs text-gray-500",
                                                        children: "Supports: watch?v=, youtu.be/, embed/, shorts/"
                                                    }, void 0, false, {
                                                        fileName: "[project]/src/components/admin/LessonEditor.tsx",
                                                        lineNumber: 254,
                                                        columnNumber: 19
                                                    }, ("TURBOPACK compile-time value", void 0))
                                                ]
                                            }, void 0, true, {
                                                fileName: "[project]/src/components/admin/LessonEditor.tsx",
                                                lineNumber: 238,
                                                columnNumber: 17
                                            }, ("TURBOPACK compile-time value", void 0)),
                                            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                                                className: "grid grid-cols-2 gap-4",
                                                children: [
                                                    /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                                                        children: [
                                                            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("label", {
                                                                className: "block text-sm font-medium text-gray-300 mb-1",
                                                                children: "Preview"
                                                            }, void 0, false, {
                                                                fileName: "[project]/src/components/admin/LessonEditor.tsx",
                                                                lineNumber: 261,
                                                                columnNumber: 21
                                                            }, ("TURBOPACK compile-time value", void 0)),
                                                            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                                                                className: "flex items-center",
                                                                children: [
                                                                    /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("input", {
                                                                        type: "checkbox",
                                                                        checked: isPreview,
                                                                        onChange: (e)=>setIsPreview(e.target.checked),
                                                                        className: "h-4 w-4 text-accent-primary bg-gray-700 border-gray-600 rounded focus:ring-accent-primary"
                                                                    }, void 0, false, {
                                                                        fileName: "[project]/src/components/admin/LessonEditor.tsx",
                                                                        lineNumber: 265,
                                                                        columnNumber: 23
                                                                    }, ("TURBOPACK compile-time value", void 0)),
                                                                    /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("span", {
                                                                        className: "ml-2 text-sm text-gray-300",
                                                                        children: "Available for free users"
                                                                    }, void 0, false, {
                                                                        fileName: "[project]/src/components/admin/LessonEditor.tsx",
                                                                        lineNumber: 271,
                                                                        columnNumber: 23
                                                                    }, ("TURBOPACK compile-time value", void 0))
                                                                ]
                                                            }, void 0, true, {
                                                                fileName: "[project]/src/components/admin/LessonEditor.tsx",
                                                                lineNumber: 264,
                                                                columnNumber: 21
                                                            }, ("TURBOPACK compile-time value", void 0))
                                                        ]
                                                    }, void 0, true, {
                                                        fileName: "[project]/src/components/admin/LessonEditor.tsx",
                                                        lineNumber: 260,
                                                        columnNumber: 19
                                                    }, ("TURBOPACK compile-time value", void 0)),
                                                    /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                                                        children: [
                                                            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("label", {
                                                                className: "block text-sm font-medium text-gray-300 mb-1",
                                                                children: "Published"
                                                            }, void 0, false, {
                                                                fileName: "[project]/src/components/admin/LessonEditor.tsx",
                                                                lineNumber: 278,
                                                                columnNumber: 21
                                                            }, ("TURBOPACK compile-time value", void 0)),
                                                            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                                                                className: "flex items-center",
                                                                children: [
                                                                    /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("input", {
                                                                        type: "checkbox",
                                                                        checked: isPublished,
                                                                        onChange: (e)=>setIsPublished(e.target.checked),
                                                                        className: "h-4 w-4 text-accent-primary bg-gray-700 border-gray-600 rounded focus:ring-accent-primary"
                                                                    }, void 0, false, {
                                                                        fileName: "[project]/src/components/admin/LessonEditor.tsx",
                                                                        lineNumber: 282,
                                                                        columnNumber: 23
                                                                    }, ("TURBOPACK compile-time value", void 0)),
                                                                    /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("span", {
                                                                        className: "ml-2 text-sm text-gray-300",
                                                                        children: "Visible to users"
                                                                    }, void 0, false, {
                                                                        fileName: "[project]/src/components/admin/LessonEditor.tsx",
                                                                        lineNumber: 288,
                                                                        columnNumber: 23
                                                                    }, ("TURBOPACK compile-time value", void 0))
                                                                ]
                                                            }, void 0, true, {
                                                                fileName: "[project]/src/components/admin/LessonEditor.tsx",
                                                                lineNumber: 281,
                                                                columnNumber: 21
                                                            }, ("TURBOPACK compile-time value", void 0))
                                                        ]
                                                    }, void 0, true, {
                                                        fileName: "[project]/src/components/admin/LessonEditor.tsx",
                                                        lineNumber: 277,
                                                        columnNumber: 19
                                                    }, ("TURBOPACK compile-time value", void 0))
                                                ]
                                            }, void 0, true, {
                                                fileName: "[project]/src/components/admin/LessonEditor.tsx",
                                                lineNumber: 259,
                                                columnNumber: 17
                                            }, ("TURBOPACK compile-time value", void 0)),
                                            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                                                children: [
                                                    /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("label", {
                                                        className: "block text-sm font-medium text-gray-300 mb-1",
                                                        children: "Description"
                                                    }, void 0, false, {
                                                        fileName: "[project]/src/components/admin/LessonEditor.tsx",
                                                        lineNumber: 296,
                                                        columnNumber: 19
                                                    }, ("TURBOPACK compile-time value", void 0)),
                                                    /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("textarea", {
                                                        value: description,
                                                        onChange: (e)=>setDescription(e.target.value),
                                                        className: "w-full p-2 rounded bg-gray-800 border border-gray-600 text-white",
                                                        placeholder: "Lesson description (optional)",
                                                        rows: 4
                                                    }, void 0, false, {
                                                        fileName: "[project]/src/components/admin/LessonEditor.tsx",
                                                        lineNumber: 299,
                                                        columnNumber: 19
                                                    }, ("TURBOPACK compile-time value", void 0))
                                                ]
                                            }, void 0, true, {
                                                fileName: "[project]/src/components/admin/LessonEditor.tsx",
                                                lineNumber: 295,
                                                columnNumber: 17
                                            }, ("TURBOPACK compile-time value", void 0)),
                                            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                                                className: "pt-4 border-t border-gray-700",
                                                children: [
                                                    /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                                                        className: "flex justify-between items-center",
                                                        children: [
                                                            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("h3", {
                                                                className: "text-lg font-medium text-white mb-2",
                                                                children: "Quiz"
                                                            }, void 0, false, {
                                                                fileName: "[project]/src/components/admin/LessonEditor.tsx",
                                                                lineNumber: 311,
                                                                columnNumber: 21
                                                            }, ("TURBOPACK compile-time value", void 0)),
                                                            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("button", {
                                                                type: "button",
                                                                onClick: ()=>{
                                                                    if (lesson) {
                                                                        setShowQuizEditor(true);
                                                                    }
                                                                },
                                                                disabled: !lesson,
                                                                className: "px-3 py-1 bg-accent-primary text-white rounded text-sm hover:bg-accent-primary/90 hover-lift disabled:opacity-50 disabled:cursor-not-allowed border border-accent-primary",
                                                                children: quiz ? 'Edit Quiz' : 'Create Quiz'
                                                            }, void 0, false, {
                                                                fileName: "[project]/src/components/admin/LessonEditor.tsx",
                                                                lineNumber: 312,
                                                                columnNumber: 21
                                                            }, ("TURBOPACK compile-time value", void 0))
                                                        ]
                                                    }, void 0, true, {
                                                        fileName: "[project]/src/components/admin/LessonEditor.tsx",
                                                        lineNumber: 310,
                                                        columnNumber: 19
                                                    }, ("TURBOPACK compile-time value", void 0)),
                                                    quizLoading ? /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                                                        className: "text-gray-500 text-sm",
                                                        children: "Loading quiz..."
                                                    }, void 0, false, {
                                                        fileName: "[project]/src/components/admin/LessonEditor.tsx",
                                                        lineNumber: 327,
                                                        columnNumber: 21
                                                    }, ("TURBOPACK compile-time value", void 0)) : quiz ? /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                                                        className: "mt-2 text-sm text-gray-400",
                                                        children: [
                                                            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                                                                children: [
                                                                    "Quiz: ",
                                                                    quiz.title
                                                                ]
                                                            }, void 0, true, {
                                                                fileName: "[project]/src/components/admin/LessonEditor.tsx",
                                                                lineNumber: 330,
                                                                columnNumber: 23
                                                            }, ("TURBOPACK compile-time value", void 0)),
                                                            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                                                                children: [
                                                                    "Questions: ",
                                                                    quiz.questions.length
                                                                ]
                                                            }, void 0, true, {
                                                                fileName: "[project]/src/components/admin/LessonEditor.tsx",
                                                                lineNumber: 331,
                                                                columnNumber: 23
                                                            }, ("TURBOPACK compile-time value", void 0)),
                                                            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                                                                children: [
                                                                    "Status: ",
                                                                    quiz.is_active ? 'Active' : 'Inactive'
                                                                ]
                                                            }, void 0, true, {
                                                                fileName: "[project]/src/components/admin/LessonEditor.tsx",
                                                                lineNumber: 332,
                                                                columnNumber: 23
                                                            }, ("TURBOPACK compile-time value", void 0))
                                                        ]
                                                    }, void 0, true, {
                                                        fileName: "[project]/src/components/admin/LessonEditor.tsx",
                                                        lineNumber: 329,
                                                        columnNumber: 21
                                                    }, ("TURBOPACK compile-time value", void 0)) : /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                                                        className: "mt-2 text-sm text-gray-500",
                                                        children: "No quiz created for this lesson yet."
                                                    }, void 0, false, {
                                                        fileName: "[project]/src/components/admin/LessonEditor.tsx",
                                                        lineNumber: 335,
                                                        columnNumber: 21
                                                    }, ("TURBOPACK compile-time value", void 0))
                                                ]
                                            }, void 0, true, {
                                                fileName: "[project]/src/components/admin/LessonEditor.tsx",
                                                lineNumber: 309,
                                                columnNumber: 17
                                            }, ("TURBOPACK compile-time value", void 0))
                                        ]
                                    }, void 0, true, {
                                        fileName: "[project]/src/components/admin/LessonEditor.tsx",
                                        lineNumber: 219,
                                        columnNumber: 15
                                    }, ("TURBOPACK compile-time value", void 0)),
                                    /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                                        children: [
                                            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("label", {
                                                className: "block text-sm font-medium text-gray-300 mb-1",
                                                children: "Preview"
                                            }, void 0, false, {
                                                fileName: "[project]/src/components/admin/LessonEditor.tsx",
                                                lineNumber: 343,
                                                columnNumber: 17
                                            }, ("TURBOPACK compile-time value", void 0)),
                                            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                                                className: "bg-gray-800 border border-gray-700 rounded-lg p-4",
                                                children: embedUrl ? /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                                                    className: "aspect-video w-full",
                                                    children: /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("iframe", {
                                                        src: embedUrl,
                                                        title: "YouTube video player",
                                                        frameBorder: "0",
                                                        allow: "accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",
                                                        allowFullScreen: true,
                                                        className: "w-full h-full rounded"
                                                    }, void 0, false, {
                                                        fileName: "[project]/src/components/admin/LessonEditor.tsx",
                                                        lineNumber: 349,
                                                        columnNumber: 23
                                                    }, ("TURBOPACK compile-time value", void 0))
                                                }, void 0, false, {
                                                    fileName: "[project]/src/components/admin/LessonEditor.tsx",
                                                    lineNumber: 348,
                                                    columnNumber: 21
                                                }, ("TURBOPACK compile-time value", void 0)) : /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                                                    className: "flex items-center justify-center h-48 border-2 border-dashed border-gray-600 rounded-lg",
                                                    children: /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("p", {
                                                        className: "text-gray-500",
                                                        children: "Video preview will appear here"
                                                    }, void 0, false, {
                                                        fileName: "[project]/src/components/admin/LessonEditor.tsx",
                                                        lineNumber: 360,
                                                        columnNumber: 23
                                                    }, ("TURBOPACK compile-time value", void 0))
                                                }, void 0, false, {
                                                    fileName: "[project]/src/components/admin/LessonEditor.tsx",
                                                    lineNumber: 359,
                                                    columnNumber: 21
                                                }, ("TURBOPACK compile-time value", void 0))
                                            }, void 0, false, {
                                                fileName: "[project]/src/components/admin/LessonEditor.tsx",
                                                lineNumber: 346,
                                                columnNumber: 17
                                            }, ("TURBOPACK compile-time value", void 0)),
                                            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("p", {
                                                className: "mt-2 text-xs text-gray-500",
                                                children: "The video will be embedded using the provided YouTube URL"
                                            }, void 0, false, {
                                                fileName: "[project]/src/components/admin/LessonEditor.tsx",
                                                lineNumber: 364,
                                                columnNumber: 17
                                            }, ("TURBOPACK compile-time value", void 0))
                                        ]
                                    }, void 0, true, {
                                        fileName: "[project]/src/components/admin/LessonEditor.tsx",
                                        lineNumber: 342,
                                        columnNumber: 15
                                    }, ("TURBOPACK compile-time value", void 0))
                                ]
                            }, void 0, true, {
                                fileName: "[project]/src/components/admin/LessonEditor.tsx",
                                lineNumber: 218,
                                columnNumber: 13
                            }, ("TURBOPACK compile-time value", void 0)),
                            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                                className: "mt-6 flex justify-end space-x-3",
                                children: [
                                    /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("button", {
                                        type: "button",
                                        onClick: onClose,
                                        disabled: loading,
                                        className: "px-4 py-2 border border-gray-600 rounded-md text-gray-300 hover:bg-gray-800 disabled:opacity-50 hover-lift",
                                        children: "Cancel"
                                    }, void 0, false, {
                                        fileName: "[project]/src/components/admin/LessonEditor.tsx",
                                        lineNumber: 371,
                                        columnNumber: 15
                                    }, ("TURBOPACK compile-time value", void 0)),
                                    /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("button", {
                                        type: "button",
                                        onClick: handleSave,
                                        disabled: loading,
                                        className: "px-4 py-2 bg-accent-primary hover:bg-accent-primary/90 text-white rounded-md font-medium disabled:opacity-50 hover-lift border border-accent-primary",
                                        children: loading ? 'Saving...' : lesson ? 'Update Lesson' : 'Create Lesson'
                                    }, void 0, false, {
                                        fileName: "[project]/src/components/admin/LessonEditor.tsx",
                                        lineNumber: 379,
                                        columnNumber: 15
                                    }, ("TURBOPACK compile-time value", void 0))
                                ]
                            }, void 0, true, {
                                fileName: "[project]/src/components/admin/LessonEditor.tsx",
                                lineNumber: 370,
                                columnNumber: 13
                            }, ("TURBOPACK compile-time value", void 0))
                        ]
                    }, void 0, true, {
                        fileName: "[project]/src/components/admin/LessonEditor.tsx",
                        lineNumber: 197,
                        columnNumber: 11
                    }, ("TURBOPACK compile-time value", void 0))
                }, void 0, false, {
                    fileName: "[project]/src/components/admin/LessonEditor.tsx",
                    lineNumber: 193,
                    columnNumber: 9
                }, ("TURBOPACK compile-time value", void 0))
            }, void 0, false, {
                fileName: "[project]/src/components/admin/LessonEditor.tsx",
                lineNumber: 192,
                columnNumber: 7
            }, ("TURBOPACK compile-time value", void 0)),
            showQuizEditor && lesson && /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$src$2f$components$2f$admin$2f$QuizEditor$2e$tsx__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["QuizEditor"], {
                quiz: quiz,
                onSave: handleSaveQuiz,
                onCancel: ()=>setShowQuizEditor(false)
            }, void 0, false, {
                fileName: "[project]/src/components/admin/LessonEditor.tsx",
                lineNumber: 393,
                columnNumber: 9
            }, ("TURBOPACK compile-time value", void 0))
        ]
    }, void 0, true);
};
const __TURBOPACK__default__export__ = LessonEditor;
}),
"[project]/src/actions/data:c307c8 [app-ssr] (ecmascript) <text/javascript>", ((__turbopack_context__) => {
"use strict";

__turbopack_context__.s([
    "listAnnouncements",
    ()=>$$RSC_SERVER_ACTION_0
]);
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$build$2f$webpack$2f$loaders$2f$next$2d$flight$2d$loader$2f$action$2d$client$2d$wrapper$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/next/dist/build/webpack/loaders/next-flight-loader/action-client-wrapper.js [app-ssr] (ecmascript)");
/* __next_internal_action_entry_do_not_use__ [{"00721cff8990621339d8f211b753c247a8623d0334":"listAnnouncements"},"src/actions/announcementActions.ts",""] */ "use turbopack no side effects";
;
const $$RSC_SERVER_ACTION_0 = /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$build$2f$webpack$2f$loaders$2f$next$2d$flight$2d$loader$2f$action$2d$client$2d$wrapper$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["createServerReference"])("00721cff8990621339d8f211b753c247a8623d0334", __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$build$2f$webpack$2f$loaders$2f$next$2d$flight$2d$loader$2f$action$2d$client$2d$wrapper$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["callServer"], void 0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$build$2f$webpack$2f$loaders$2f$next$2d$flight$2d$loader$2f$action$2d$client$2d$wrapper$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["findSourceMapURL"], "listAnnouncements");
;
 //# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4vYW5ub3VuY2VtZW50QWN0aW9ucy50cyJdLCJzb3VyY2VzQ29udGVudCI6WyIndXNlIHNlcnZlcic7XHJcblxyXG5pbXBvcnQgeyBjb29raWVzIH0gZnJvbSAnbmV4dC9oZWFkZXJzJztcclxuaW1wb3J0IHsgY3JlYXRlU2VydmVyQ2xpZW50IH0gZnJvbSAnQHN1cGFiYXNlL3Nzcic7XHJcblxyXG4vLyBUeXBlIGRlZmluaXRpb25zXHJcbnR5cGUgQW5ub3VuY2VtZW50ID0ge1xyXG4gIGlkOiBzdHJpbmc7XHJcbiAgdGl0bGU6IHN0cmluZztcclxuICBib2R5OiBzdHJpbmc7XHJcbiAgY3JlYXRlZF9hdDogc3RyaW5nO1xyXG59O1xyXG5cclxuLy8gSGVscGVyIGZ1bmN0aW9uIHRvIGNyZWF0ZSBTdXBhYmFzZSBjbGllbnQgZm9yIHNlcnZlciBhY3Rpb25zXHJcbmFzeW5jIGZ1bmN0aW9uIGNyZWF0ZVN1cGFiYXNlQ2xpZW50KCkge1xyXG4gIGNvbnN0IGNvb2tpZVN0b3JlID0gYXdhaXQgY29va2llcygpO1xyXG4gIHJldHVybiBjcmVhdGVTZXJ2ZXJDbGllbnQoXHJcbiAgICBwcm9jZXNzLmVudi5ORVhUX1BVQkxJQ19TVVBBQkFTRV9VUkwhLFxyXG4gICAgcHJvY2Vzcy5lbnYuTkVYVF9QVUJMSUNfU1VQQUJBU0VfQU5PTl9LRVkhLFxyXG4gICAge1xyXG4gICAgICBjb29raWVzOiB7XHJcbiAgICAgICAgZ2V0OiAobmFtZTogc3RyaW5nKSA9PiB7XHJcbiAgICAgICAgICBjb25zdCBjb29raWUgPSBjb29raWVTdG9yZS5nZXQobmFtZSk7XHJcbiAgICAgICAgICByZXR1cm4gY29va2llID8gY29va2llLnZhbHVlIDogdW5kZWZpbmVkO1xyXG4gICAgICAgIH0sXHJcbiAgICAgIH0sXHJcbiAgICB9XHJcbiAgKTtcclxufVxyXG5cclxuLy8gQ2hlY2sgaWYgdXNlciBpcyBhZG1pblxyXG5hc3luYyBmdW5jdGlvbiBpc0FkbWluKHN1cGFiYXNlOiBhbnkpOiBQcm9taXNlPGJvb2xlYW4+IHtcclxuICBjb25zdCB7XHJcbiAgICBkYXRhOiB7IHVzZXIgfSxcclxuICAgIGVycm9yOiB1c2VyRXJyb3IsXHJcbiAgfSA9IGF3YWl0IHN1cGFiYXNlLmF1dGguZ2V0VXNlcigpO1xyXG5cclxuICBpZiAodXNlckVycm9yIHx8ICF1c2VyKSB7XHJcbiAgICByZXR1cm4gZmFsc2U7XHJcbiAgfVxyXG5cclxuICBjb25zdCB7IGRhdGE6IHByb2ZpbGUsIGVycm9yOiBwcm9maWxlRXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlXHJcbiAgICAuZnJvbSgncHJvZmlsZXMnKVxyXG4gICAgLnNlbGVjdCgncm9sZScpXHJcbiAgICAuZXEoJ2lkJywgdXNlci5pZClcclxuICAgIC5zaW5nbGUoKTtcclxuXHJcbiAgaWYgKHByb2ZpbGVFcnJvciB8fCAhcHJvZmlsZSkge1xyXG4gICAgcmV0dXJuIGZhbHNlO1xyXG4gIH1cclxuXHJcbiAgcmV0dXJuIHByb2ZpbGUucm9sZSA9PT0gJ2FkbWluJyB8fCBwcm9maWxlLnJvbGUgPT09ICd0ZWFjaGVyJztcclxufVxyXG5cclxuLy8gQW5ub3VuY2VtZW50IEFjdGlvbnNcclxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGxpc3RBbm5vdW5jZW1lbnRzKCk6IFByb21pc2U8eyBkYXRhOiBBbm5vdW5jZW1lbnRbXSB8IG51bGw7IGVycm9yOiBzdHJpbmcgfCBudWxsIH0+IHtcclxuICBjb25zdCBzdXBhYmFzZSA9IGF3YWl0IGNyZWF0ZVN1cGFiYXNlQ2xpZW50KCk7XHJcbiAgXHJcbiAgdHJ5IHtcclxuICAgIC8vIENoZWNrIGFkbWluIGFjY2Vzc1xyXG4gICAgY29uc3QgYWRtaW5DaGVjayA9IGF3YWl0IGlzQWRtaW4oc3VwYWJhc2UpO1xyXG4gICAgaWYgKCFhZG1pbkNoZWNrKSB7XHJcbiAgICAgIHJldHVybiB7IGRhdGE6IG51bGwsIGVycm9yOiAnQWNjZXNzIGRlbmllZC4gQWRtaW4gb3IgdGVhY2hlciByb2xlIHJlcXVpcmVkLicgfTtcclxuICAgIH1cclxuXHJcbiAgICBjb25zdCB7IGRhdGEsIGVycm9yIH0gPSBhd2FpdCBzdXBhYmFzZVxyXG4gICAgICAuZnJvbSgnYW5ub3VuY2VtZW50cycpXHJcbiAgICAgIC5zZWxlY3QoJyonKVxyXG4gICAgICAub3JkZXIoJ2NyZWF0ZWRfYXQnLCB7IGFzY2VuZGluZzogZmFsc2UgfSk7XHJcblxyXG4gICAgaWYgKGVycm9yKSB7XHJcbiAgICAgIHJldHVybiB7IGRhdGE6IG51bGwsIGVycm9yOiBlcnJvci5tZXNzYWdlIH07XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIHsgZGF0YSwgZXJyb3I6IG51bGwgfTtcclxuICB9IGNhdGNoIChlcnJvcjogYW55KSB7XHJcbiAgICByZXR1cm4geyBkYXRhOiBudWxsLCBlcnJvcjogZXJyb3IubWVzc2FnZSB9O1xyXG4gIH1cclxufVxyXG5cclxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGNyZWF0ZUFubm91bmNlbWVudCh0aXRsZTogc3RyaW5nLCBib2R5OiBzdHJpbmcpOiBQcm9taXNlPHsgZGF0YTogQW5ub3VuY2VtZW50IHwgbnVsbDsgZXJyb3I6IHN0cmluZyB8IG51bGwgfT4ge1xyXG4gIGNvbnN0IHN1cGFiYXNlID0gYXdhaXQgY3JlYXRlU3VwYWJhc2VDbGllbnQoKTtcclxuICBcclxuICB0cnkge1xyXG4gICAgLy8gQ2hlY2sgYWRtaW4gYWNjZXNzXHJcbiAgICBjb25zdCBhZG1pbkNoZWNrID0gYXdhaXQgaXNBZG1pbihzdXBhYmFzZSk7XHJcbiAgICBpZiAoIWFkbWluQ2hlY2spIHtcclxuICAgICAgcmV0dXJuIHsgZGF0YTogbnVsbCwgZXJyb3I6ICdBY2Nlc3MgZGVuaWVkLiBBZG1pbiBvciB0ZWFjaGVyIHJvbGUgcmVxdWlyZWQuJyB9O1xyXG4gICAgfVxyXG5cclxuICAgIGNvbnN0IHsgZGF0YSwgZXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlXHJcbiAgICAgIC5mcm9tKCdhbm5vdW5jZW1lbnRzJylcclxuICAgICAgLmluc2VydChbeyB0aXRsZSwgYm9keSB9XSlcclxuICAgICAgLnNlbGVjdCgpXHJcbiAgICAgIC5zaW5nbGUoKTtcclxuXHJcbiAgICBpZiAoZXJyb3IpIHtcclxuICAgICAgcmV0dXJuIHsgZGF0YTogbnVsbCwgZXJyb3I6IGVycm9yLm1lc3NhZ2UgfTtcclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4geyBkYXRhLCBlcnJvcjogbnVsbCB9O1xyXG4gIH0gY2F0Y2ggKGVycm9yOiBhbnkpIHtcclxuICAgIHJldHVybiB7IGRhdGE6IG51bGwsIGVycm9yOiBlcnJvci5tZXNzYWdlIH07XHJcbiAgfVxyXG59XHJcblxyXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gdXBkYXRlQW5ub3VuY2VtZW50KGlkOiBzdHJpbmcsIHVwZGF0ZXM6IFBhcnRpYWw8QW5ub3VuY2VtZW50Pik6IFByb21pc2U8eyBkYXRhOiBBbm5vdW5jZW1lbnQgfCBudWxsOyBlcnJvcjogc3RyaW5nIHwgbnVsbCB9PiB7XHJcbiAgY29uc3Qgc3VwYWJhc2UgPSBhd2FpdCBjcmVhdGVTdXBhYmFzZUNsaWVudCgpO1xyXG4gIFxyXG4gIHRyeSB7XHJcbiAgICAvLyBDaGVjayBhZG1pbiBhY2Nlc3NcclxuICAgIGNvbnN0IGFkbWluQ2hlY2sgPSBhd2FpdCBpc0FkbWluKHN1cGFiYXNlKTtcclxuICAgIGlmICghYWRtaW5DaGVjaykge1xyXG4gICAgICByZXR1cm4geyBkYXRhOiBudWxsLCBlcnJvcjogJ0FjY2VzcyBkZW5pZWQuIEFkbWluIG9yIHRlYWNoZXIgcm9sZSByZXF1aXJlZC4nIH07XHJcbiAgICB9XHJcblxyXG4gICAgY29uc3QgeyBkYXRhLCBlcnJvciB9ID0gYXdhaXQgc3VwYWJhc2VcclxuICAgICAgLmZyb20oJ2Fubm91bmNlbWVudHMnKVxyXG4gICAgICAudXBkYXRlKHVwZGF0ZXMpXHJcbiAgICAgIC5lcSgnaWQnLCBpZClcclxuICAgICAgLnNlbGVjdCgpXHJcbiAgICAgIC5zaW5nbGUoKTtcclxuXHJcbiAgICBpZiAoZXJyb3IpIHtcclxuICAgICAgcmV0dXJuIHsgZGF0YTogbnVsbCwgZXJyb3I6IGVycm9yLm1lc3NhZ2UgfTtcclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4geyBkYXRhLCBlcnJvcjogbnVsbCB9O1xyXG4gIH0gY2F0Y2ggKGVycm9yOiBhbnkpIHtcclxuICAgIHJldHVybiB7IGRhdGE6IG51bGwsIGVycm9yOiBlcnJvci5tZXNzYWdlIH07XHJcbiAgfVxyXG59XHJcblxyXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZGVsZXRlQW5ub3VuY2VtZW50KGlkOiBzdHJpbmcpOiBQcm9taXNlPHsgZXJyb3I6IHN0cmluZyB8IG51bGwgfT4ge1xyXG4gIGNvbnN0IHN1cGFiYXNlID0gYXdhaXQgY3JlYXRlU3VwYWJhc2VDbGllbnQoKTtcclxuICBcclxuICB0cnkge1xyXG4gICAgLy8gQ2hlY2sgYWRtaW4gYWNjZXNzXHJcbiAgICBjb25zdCBhZG1pbkNoZWNrID0gYXdhaXQgaXNBZG1pbihzdXBhYmFzZSk7XHJcbiAgICBpZiAoIWFkbWluQ2hlY2spIHtcclxuICAgICAgcmV0dXJuIHsgZXJyb3I6ICdBY2Nlc3MgZGVuaWVkLiBBZG1pbiBvciB0ZWFjaGVyIHJvbGUgcmVxdWlyZWQuJyB9O1xyXG4gICAgfVxyXG5cclxuICAgIGNvbnN0IHsgZXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlXHJcbiAgICAgIC5mcm9tKCdhbm5vdW5jZW1lbnRzJylcclxuICAgICAgLmRlbGV0ZSgpXHJcbiAgICAgIC5lcSgnaWQnLCBpZCk7XHJcblxyXG4gICAgaWYgKGVycm9yKSB7XHJcbiAgICAgIHJldHVybiB7IGVycm9yOiBlcnJvci5tZXNzYWdlIH07XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIHsgZXJyb3I6IG51bGwgfTtcclxuICB9IGNhdGNoIChlcnJvcjogYW55KSB7XHJcbiAgICByZXR1cm4geyBlcnJvcjogZXJyb3IubWVzc2FnZSB9O1xyXG4gIH1cclxufSJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoid1NBdURzQiw4TEFBQSJ9
}),
"[project]/src/actions/data:fa1600 [app-ssr] (ecmascript) <text/javascript>", ((__turbopack_context__) => {
"use strict";

__turbopack_context__.s([
    "createAnnouncement",
    ()=>$$RSC_SERVER_ACTION_1
]);
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$build$2f$webpack$2f$loaders$2f$next$2d$flight$2d$loader$2f$action$2d$client$2d$wrapper$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/next/dist/build/webpack/loaders/next-flight-loader/action-client-wrapper.js [app-ssr] (ecmascript)");
/* __next_internal_action_entry_do_not_use__ [{"60193bb4f320ace54e465f7c3e29f92ce450ee210d":"createAnnouncement"},"src/actions/announcementActions.ts",""] */ "use turbopack no side effects";
;
const $$RSC_SERVER_ACTION_1 = /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$build$2f$webpack$2f$loaders$2f$next$2d$flight$2d$loader$2f$action$2d$client$2d$wrapper$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["createServerReference"])("60193bb4f320ace54e465f7c3e29f92ce450ee210d", __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$build$2f$webpack$2f$loaders$2f$next$2d$flight$2d$loader$2f$action$2d$client$2d$wrapper$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["callServer"], void 0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$build$2f$webpack$2f$loaders$2f$next$2d$flight$2d$loader$2f$action$2d$client$2d$wrapper$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["findSourceMapURL"], "createAnnouncement");
;
 //# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4vYW5ub3VuY2VtZW50QWN0aW9ucy50cyJdLCJzb3VyY2VzQ29udGVudCI6WyIndXNlIHNlcnZlcic7XHJcblxyXG5pbXBvcnQgeyBjb29raWVzIH0gZnJvbSAnbmV4dC9oZWFkZXJzJztcclxuaW1wb3J0IHsgY3JlYXRlU2VydmVyQ2xpZW50IH0gZnJvbSAnQHN1cGFiYXNlL3Nzcic7XHJcblxyXG4vLyBUeXBlIGRlZmluaXRpb25zXHJcbnR5cGUgQW5ub3VuY2VtZW50ID0ge1xyXG4gIGlkOiBzdHJpbmc7XHJcbiAgdGl0bGU6IHN0cmluZztcclxuICBib2R5OiBzdHJpbmc7XHJcbiAgY3JlYXRlZF9hdDogc3RyaW5nO1xyXG59O1xyXG5cclxuLy8gSGVscGVyIGZ1bmN0aW9uIHRvIGNyZWF0ZSBTdXBhYmFzZSBjbGllbnQgZm9yIHNlcnZlciBhY3Rpb25zXHJcbmFzeW5jIGZ1bmN0aW9uIGNyZWF0ZVN1cGFiYXNlQ2xpZW50KCkge1xyXG4gIGNvbnN0IGNvb2tpZVN0b3JlID0gYXdhaXQgY29va2llcygpO1xyXG4gIHJldHVybiBjcmVhdGVTZXJ2ZXJDbGllbnQoXHJcbiAgICBwcm9jZXNzLmVudi5ORVhUX1BVQkxJQ19TVVBBQkFTRV9VUkwhLFxyXG4gICAgcHJvY2Vzcy5lbnYuTkVYVF9QVUJMSUNfU1VQQUJBU0VfQU5PTl9LRVkhLFxyXG4gICAge1xyXG4gICAgICBjb29raWVzOiB7XHJcbiAgICAgICAgZ2V0OiAobmFtZTogc3RyaW5nKSA9PiB7XHJcbiAgICAgICAgICBjb25zdCBjb29raWUgPSBjb29raWVTdG9yZS5nZXQobmFtZSk7XHJcbiAgICAgICAgICByZXR1cm4gY29va2llID8gY29va2llLnZhbHVlIDogdW5kZWZpbmVkO1xyXG4gICAgICAgIH0sXHJcbiAgICAgIH0sXHJcbiAgICB9XHJcbiAgKTtcclxufVxyXG5cclxuLy8gQ2hlY2sgaWYgdXNlciBpcyBhZG1pblxyXG5hc3luYyBmdW5jdGlvbiBpc0FkbWluKHN1cGFiYXNlOiBhbnkpOiBQcm9taXNlPGJvb2xlYW4+IHtcclxuICBjb25zdCB7XHJcbiAgICBkYXRhOiB7IHVzZXIgfSxcclxuICAgIGVycm9yOiB1c2VyRXJyb3IsXHJcbiAgfSA9IGF3YWl0IHN1cGFiYXNlLmF1dGguZ2V0VXNlcigpO1xyXG5cclxuICBpZiAodXNlckVycm9yIHx8ICF1c2VyKSB7XHJcbiAgICByZXR1cm4gZmFsc2U7XHJcbiAgfVxyXG5cclxuICBjb25zdCB7IGRhdGE6IHByb2ZpbGUsIGVycm9yOiBwcm9maWxlRXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlXHJcbiAgICAuZnJvbSgncHJvZmlsZXMnKVxyXG4gICAgLnNlbGVjdCgncm9sZScpXHJcbiAgICAuZXEoJ2lkJywgdXNlci5pZClcclxuICAgIC5zaW5nbGUoKTtcclxuXHJcbiAgaWYgKHByb2ZpbGVFcnJvciB8fCAhcHJvZmlsZSkge1xyXG4gICAgcmV0dXJuIGZhbHNlO1xyXG4gIH1cclxuXHJcbiAgcmV0dXJuIHByb2ZpbGUucm9sZSA9PT0gJ2FkbWluJyB8fCBwcm9maWxlLnJvbGUgPT09ICd0ZWFjaGVyJztcclxufVxyXG5cclxuLy8gQW5ub3VuY2VtZW50IEFjdGlvbnNcclxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGxpc3RBbm5vdW5jZW1lbnRzKCk6IFByb21pc2U8eyBkYXRhOiBBbm5vdW5jZW1lbnRbXSB8IG51bGw7IGVycm9yOiBzdHJpbmcgfCBudWxsIH0+IHtcclxuICBjb25zdCBzdXBhYmFzZSA9IGF3YWl0IGNyZWF0ZVN1cGFiYXNlQ2xpZW50KCk7XHJcbiAgXHJcbiAgdHJ5IHtcclxuICAgIC8vIENoZWNrIGFkbWluIGFjY2Vzc1xyXG4gICAgY29uc3QgYWRtaW5DaGVjayA9IGF3YWl0IGlzQWRtaW4oc3VwYWJhc2UpO1xyXG4gICAgaWYgKCFhZG1pbkNoZWNrKSB7XHJcbiAgICAgIHJldHVybiB7IGRhdGE6IG51bGwsIGVycm9yOiAnQWNjZXNzIGRlbmllZC4gQWRtaW4gb3IgdGVhY2hlciByb2xlIHJlcXVpcmVkLicgfTtcclxuICAgIH1cclxuXHJcbiAgICBjb25zdCB7IGRhdGEsIGVycm9yIH0gPSBhd2FpdCBzdXBhYmFzZVxyXG4gICAgICAuZnJvbSgnYW5ub3VuY2VtZW50cycpXHJcbiAgICAgIC5zZWxlY3QoJyonKVxyXG4gICAgICAub3JkZXIoJ2NyZWF0ZWRfYXQnLCB7IGFzY2VuZGluZzogZmFsc2UgfSk7XHJcblxyXG4gICAgaWYgKGVycm9yKSB7XHJcbiAgICAgIHJldHVybiB7IGRhdGE6IG51bGwsIGVycm9yOiBlcnJvci5tZXNzYWdlIH07XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIHsgZGF0YSwgZXJyb3I6IG51bGwgfTtcclxuICB9IGNhdGNoIChlcnJvcjogYW55KSB7XHJcbiAgICByZXR1cm4geyBkYXRhOiBudWxsLCBlcnJvcjogZXJyb3IubWVzc2FnZSB9O1xyXG4gIH1cclxufVxyXG5cclxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGNyZWF0ZUFubm91bmNlbWVudCh0aXRsZTogc3RyaW5nLCBib2R5OiBzdHJpbmcpOiBQcm9taXNlPHsgZGF0YTogQW5ub3VuY2VtZW50IHwgbnVsbDsgZXJyb3I6IHN0cmluZyB8IG51bGwgfT4ge1xyXG4gIGNvbnN0IHN1cGFiYXNlID0gYXdhaXQgY3JlYXRlU3VwYWJhc2VDbGllbnQoKTtcclxuICBcclxuICB0cnkge1xyXG4gICAgLy8gQ2hlY2sgYWRtaW4gYWNjZXNzXHJcbiAgICBjb25zdCBhZG1pbkNoZWNrID0gYXdhaXQgaXNBZG1pbihzdXBhYmFzZSk7XHJcbiAgICBpZiAoIWFkbWluQ2hlY2spIHtcclxuICAgICAgcmV0dXJuIHsgZGF0YTogbnVsbCwgZXJyb3I6ICdBY2Nlc3MgZGVuaWVkLiBBZG1pbiBvciB0ZWFjaGVyIHJvbGUgcmVxdWlyZWQuJyB9O1xyXG4gICAgfVxyXG5cclxuICAgIGNvbnN0IHsgZGF0YSwgZXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlXHJcbiAgICAgIC5mcm9tKCdhbm5vdW5jZW1lbnRzJylcclxuICAgICAgLmluc2VydChbeyB0aXRsZSwgYm9keSB9XSlcclxuICAgICAgLnNlbGVjdCgpXHJcbiAgICAgIC5zaW5nbGUoKTtcclxuXHJcbiAgICBpZiAoZXJyb3IpIHtcclxuICAgICAgcmV0dXJuIHsgZGF0YTogbnVsbCwgZXJyb3I6IGVycm9yLm1lc3NhZ2UgfTtcclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4geyBkYXRhLCBlcnJvcjogbnVsbCB9O1xyXG4gIH0gY2F0Y2ggKGVycm9yOiBhbnkpIHtcclxuICAgIHJldHVybiB7IGRhdGE6IG51bGwsIGVycm9yOiBlcnJvci5tZXNzYWdlIH07XHJcbiAgfVxyXG59XHJcblxyXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gdXBkYXRlQW5ub3VuY2VtZW50KGlkOiBzdHJpbmcsIHVwZGF0ZXM6IFBhcnRpYWw8QW5ub3VuY2VtZW50Pik6IFByb21pc2U8eyBkYXRhOiBBbm5vdW5jZW1lbnQgfCBudWxsOyBlcnJvcjogc3RyaW5nIHwgbnVsbCB9PiB7XHJcbiAgY29uc3Qgc3VwYWJhc2UgPSBhd2FpdCBjcmVhdGVTdXBhYmFzZUNsaWVudCgpO1xyXG4gIFxyXG4gIHRyeSB7XHJcbiAgICAvLyBDaGVjayBhZG1pbiBhY2Nlc3NcclxuICAgIGNvbnN0IGFkbWluQ2hlY2sgPSBhd2FpdCBpc0FkbWluKHN1cGFiYXNlKTtcclxuICAgIGlmICghYWRtaW5DaGVjaykge1xyXG4gICAgICByZXR1cm4geyBkYXRhOiBudWxsLCBlcnJvcjogJ0FjY2VzcyBkZW5pZWQuIEFkbWluIG9yIHRlYWNoZXIgcm9sZSByZXF1aXJlZC4nIH07XHJcbiAgICB9XHJcblxyXG4gICAgY29uc3QgeyBkYXRhLCBlcnJvciB9ID0gYXdhaXQgc3VwYWJhc2VcclxuICAgICAgLmZyb20oJ2Fubm91bmNlbWVudHMnKVxyXG4gICAgICAudXBkYXRlKHVwZGF0ZXMpXHJcbiAgICAgIC5lcSgnaWQnLCBpZClcclxuICAgICAgLnNlbGVjdCgpXHJcbiAgICAgIC5zaW5nbGUoKTtcclxuXHJcbiAgICBpZiAoZXJyb3IpIHtcclxuICAgICAgcmV0dXJuIHsgZGF0YTogbnVsbCwgZXJyb3I6IGVycm9yLm1lc3NhZ2UgfTtcclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4geyBkYXRhLCBlcnJvcjogbnVsbCB9O1xyXG4gIH0gY2F0Y2ggKGVycm9yOiBhbnkpIHtcclxuICAgIHJldHVybiB7IGRhdGE6IG51bGwsIGVycm9yOiBlcnJvci5tZXNzYWdlIH07XHJcbiAgfVxyXG59XHJcblxyXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZGVsZXRlQW5ub3VuY2VtZW50KGlkOiBzdHJpbmcpOiBQcm9taXNlPHsgZXJyb3I6IHN0cmluZyB8IG51bGwgfT4ge1xyXG4gIGNvbnN0IHN1cGFiYXNlID0gYXdhaXQgY3JlYXRlU3VwYWJhc2VDbGllbnQoKTtcclxuICBcclxuICB0cnkge1xyXG4gICAgLy8gQ2hlY2sgYWRtaW4gYWNjZXNzXHJcbiAgICBjb25zdCBhZG1pbkNoZWNrID0gYXdhaXQgaXNBZG1pbihzdXBhYmFzZSk7XHJcbiAgICBpZiAoIWFkbWluQ2hlY2spIHtcclxuICAgICAgcmV0dXJuIHsgZXJyb3I6ICdBY2Nlc3MgZGVuaWVkLiBBZG1pbiBvciB0ZWFjaGVyIHJvbGUgcmVxdWlyZWQuJyB9O1xyXG4gICAgfVxyXG5cclxuICAgIGNvbnN0IHsgZXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlXHJcbiAgICAgIC5mcm9tKCdhbm5vdW5jZW1lbnRzJylcclxuICAgICAgLmRlbGV0ZSgpXHJcbiAgICAgIC5lcSgnaWQnLCBpZCk7XHJcblxyXG4gICAgaWYgKGVycm9yKSB7XHJcbiAgICAgIHJldHVybiB7IGVycm9yOiBlcnJvci5tZXNzYWdlIH07XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIHsgZXJyb3I6IG51bGwgfTtcclxuICB9IGNhdGNoIChlcnJvcjogYW55KSB7XHJcbiAgICByZXR1cm4geyBlcnJvcjogZXJyb3IubWVzc2FnZSB9O1xyXG4gIH1cclxufSJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoieVNBZ0ZzQiwrTEFBQSJ9
}),
"[project]/src/actions/data:f43296 [app-ssr] (ecmascript) <text/javascript>", ((__turbopack_context__) => {
"use strict";

__turbopack_context__.s([
    "deleteAnnouncement",
    ()=>$$RSC_SERVER_ACTION_3
]);
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$build$2f$webpack$2f$loaders$2f$next$2d$flight$2d$loader$2f$action$2d$client$2d$wrapper$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/next/dist/build/webpack/loaders/next-flight-loader/action-client-wrapper.js [app-ssr] (ecmascript)");
/* __next_internal_action_entry_do_not_use__ [{"400492345bb78809c3046bc3a072b760be7d685af4":"deleteAnnouncement"},"src/actions/announcementActions.ts",""] */ "use turbopack no side effects";
;
const $$RSC_SERVER_ACTION_3 = /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$build$2f$webpack$2f$loaders$2f$next$2d$flight$2d$loader$2f$action$2d$client$2d$wrapper$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["createServerReference"])("400492345bb78809c3046bc3a072b760be7d685af4", __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$build$2f$webpack$2f$loaders$2f$next$2d$flight$2d$loader$2f$action$2d$client$2d$wrapper$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["callServer"], void 0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$build$2f$webpack$2f$loaders$2f$next$2d$flight$2d$loader$2f$action$2d$client$2d$wrapper$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["findSourceMapURL"], "deleteAnnouncement");
;
 //# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4vYW5ub3VuY2VtZW50QWN0aW9ucy50cyJdLCJzb3VyY2VzQ29udGVudCI6WyIndXNlIHNlcnZlcic7XHJcblxyXG5pbXBvcnQgeyBjb29raWVzIH0gZnJvbSAnbmV4dC9oZWFkZXJzJztcclxuaW1wb3J0IHsgY3JlYXRlU2VydmVyQ2xpZW50IH0gZnJvbSAnQHN1cGFiYXNlL3Nzcic7XHJcblxyXG4vLyBUeXBlIGRlZmluaXRpb25zXHJcbnR5cGUgQW5ub3VuY2VtZW50ID0ge1xyXG4gIGlkOiBzdHJpbmc7XHJcbiAgdGl0bGU6IHN0cmluZztcclxuICBib2R5OiBzdHJpbmc7XHJcbiAgY3JlYXRlZF9hdDogc3RyaW5nO1xyXG59O1xyXG5cclxuLy8gSGVscGVyIGZ1bmN0aW9uIHRvIGNyZWF0ZSBTdXBhYmFzZSBjbGllbnQgZm9yIHNlcnZlciBhY3Rpb25zXHJcbmFzeW5jIGZ1bmN0aW9uIGNyZWF0ZVN1cGFiYXNlQ2xpZW50KCkge1xyXG4gIGNvbnN0IGNvb2tpZVN0b3JlID0gYXdhaXQgY29va2llcygpO1xyXG4gIHJldHVybiBjcmVhdGVTZXJ2ZXJDbGllbnQoXHJcbiAgICBwcm9jZXNzLmVudi5ORVhUX1BVQkxJQ19TVVBBQkFTRV9VUkwhLFxyXG4gICAgcHJvY2Vzcy5lbnYuTkVYVF9QVUJMSUNfU1VQQUJBU0VfQU5PTl9LRVkhLFxyXG4gICAge1xyXG4gICAgICBjb29raWVzOiB7XHJcbiAgICAgICAgZ2V0OiAobmFtZTogc3RyaW5nKSA9PiB7XHJcbiAgICAgICAgICBjb25zdCBjb29raWUgPSBjb29raWVTdG9yZS5nZXQobmFtZSk7XHJcbiAgICAgICAgICByZXR1cm4gY29va2llID8gY29va2llLnZhbHVlIDogdW5kZWZpbmVkO1xyXG4gICAgICAgIH0sXHJcbiAgICAgIH0sXHJcbiAgICB9XHJcbiAgKTtcclxufVxyXG5cclxuLy8gQ2hlY2sgaWYgdXNlciBpcyBhZG1pblxyXG5hc3luYyBmdW5jdGlvbiBpc0FkbWluKHN1cGFiYXNlOiBhbnkpOiBQcm9taXNlPGJvb2xlYW4+IHtcclxuICBjb25zdCB7XHJcbiAgICBkYXRhOiB7IHVzZXIgfSxcclxuICAgIGVycm9yOiB1c2VyRXJyb3IsXHJcbiAgfSA9IGF3YWl0IHN1cGFiYXNlLmF1dGguZ2V0VXNlcigpO1xyXG5cclxuICBpZiAodXNlckVycm9yIHx8ICF1c2VyKSB7XHJcbiAgICByZXR1cm4gZmFsc2U7XHJcbiAgfVxyXG5cclxuICBjb25zdCB7IGRhdGE6IHByb2ZpbGUsIGVycm9yOiBwcm9maWxlRXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlXHJcbiAgICAuZnJvbSgncHJvZmlsZXMnKVxyXG4gICAgLnNlbGVjdCgncm9sZScpXHJcbiAgICAuZXEoJ2lkJywgdXNlci5pZClcclxuICAgIC5zaW5nbGUoKTtcclxuXHJcbiAgaWYgKHByb2ZpbGVFcnJvciB8fCAhcHJvZmlsZSkge1xyXG4gICAgcmV0dXJuIGZhbHNlO1xyXG4gIH1cclxuXHJcbiAgcmV0dXJuIHByb2ZpbGUucm9sZSA9PT0gJ2FkbWluJyB8fCBwcm9maWxlLnJvbGUgPT09ICd0ZWFjaGVyJztcclxufVxyXG5cclxuLy8gQW5ub3VuY2VtZW50IEFjdGlvbnNcclxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGxpc3RBbm5vdW5jZW1lbnRzKCk6IFByb21pc2U8eyBkYXRhOiBBbm5vdW5jZW1lbnRbXSB8IG51bGw7IGVycm9yOiBzdHJpbmcgfCBudWxsIH0+IHtcclxuICBjb25zdCBzdXBhYmFzZSA9IGF3YWl0IGNyZWF0ZVN1cGFiYXNlQ2xpZW50KCk7XHJcbiAgXHJcbiAgdHJ5IHtcclxuICAgIC8vIENoZWNrIGFkbWluIGFjY2Vzc1xyXG4gICAgY29uc3QgYWRtaW5DaGVjayA9IGF3YWl0IGlzQWRtaW4oc3VwYWJhc2UpO1xyXG4gICAgaWYgKCFhZG1pbkNoZWNrKSB7XHJcbiAgICAgIHJldHVybiB7IGRhdGE6IG51bGwsIGVycm9yOiAnQWNjZXNzIGRlbmllZC4gQWRtaW4gb3IgdGVhY2hlciByb2xlIHJlcXVpcmVkLicgfTtcclxuICAgIH1cclxuXHJcbiAgICBjb25zdCB7IGRhdGEsIGVycm9yIH0gPSBhd2FpdCBzdXBhYmFzZVxyXG4gICAgICAuZnJvbSgnYW5ub3VuY2VtZW50cycpXHJcbiAgICAgIC5zZWxlY3QoJyonKVxyXG4gICAgICAub3JkZXIoJ2NyZWF0ZWRfYXQnLCB7IGFzY2VuZGluZzogZmFsc2UgfSk7XHJcblxyXG4gICAgaWYgKGVycm9yKSB7XHJcbiAgICAgIHJldHVybiB7IGRhdGE6IG51bGwsIGVycm9yOiBlcnJvci5tZXNzYWdlIH07XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIHsgZGF0YSwgZXJyb3I6IG51bGwgfTtcclxuICB9IGNhdGNoIChlcnJvcjogYW55KSB7XHJcbiAgICByZXR1cm4geyBkYXRhOiBudWxsLCBlcnJvcjogZXJyb3IubWVzc2FnZSB9O1xyXG4gIH1cclxufVxyXG5cclxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGNyZWF0ZUFubm91bmNlbWVudCh0aXRsZTogc3RyaW5nLCBib2R5OiBzdHJpbmcpOiBQcm9taXNlPHsgZGF0YTogQW5ub3VuY2VtZW50IHwgbnVsbDsgZXJyb3I6IHN0cmluZyB8IG51bGwgfT4ge1xyXG4gIGNvbnN0IHN1cGFiYXNlID0gYXdhaXQgY3JlYXRlU3VwYWJhc2VDbGllbnQoKTtcclxuICBcclxuICB0cnkge1xyXG4gICAgLy8gQ2hlY2sgYWRtaW4gYWNjZXNzXHJcbiAgICBjb25zdCBhZG1pbkNoZWNrID0gYXdhaXQgaXNBZG1pbihzdXBhYmFzZSk7XHJcbiAgICBpZiAoIWFkbWluQ2hlY2spIHtcclxuICAgICAgcmV0dXJuIHsgZGF0YTogbnVsbCwgZXJyb3I6ICdBY2Nlc3MgZGVuaWVkLiBBZG1pbiBvciB0ZWFjaGVyIHJvbGUgcmVxdWlyZWQuJyB9O1xyXG4gICAgfVxyXG5cclxuICAgIGNvbnN0IHsgZGF0YSwgZXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlXHJcbiAgICAgIC5mcm9tKCdhbm5vdW5jZW1lbnRzJylcclxuICAgICAgLmluc2VydChbeyB0aXRsZSwgYm9keSB9XSlcclxuICAgICAgLnNlbGVjdCgpXHJcbiAgICAgIC5zaW5nbGUoKTtcclxuXHJcbiAgICBpZiAoZXJyb3IpIHtcclxuICAgICAgcmV0dXJuIHsgZGF0YTogbnVsbCwgZXJyb3I6IGVycm9yLm1lc3NhZ2UgfTtcclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4geyBkYXRhLCBlcnJvcjogbnVsbCB9O1xyXG4gIH0gY2F0Y2ggKGVycm9yOiBhbnkpIHtcclxuICAgIHJldHVybiB7IGRhdGE6IG51bGwsIGVycm9yOiBlcnJvci5tZXNzYWdlIH07XHJcbiAgfVxyXG59XHJcblxyXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gdXBkYXRlQW5ub3VuY2VtZW50KGlkOiBzdHJpbmcsIHVwZGF0ZXM6IFBhcnRpYWw8QW5ub3VuY2VtZW50Pik6IFByb21pc2U8eyBkYXRhOiBBbm5vdW5jZW1lbnQgfCBudWxsOyBlcnJvcjogc3RyaW5nIHwgbnVsbCB9PiB7XHJcbiAgY29uc3Qgc3VwYWJhc2UgPSBhd2FpdCBjcmVhdGVTdXBhYmFzZUNsaWVudCgpO1xyXG4gIFxyXG4gIHRyeSB7XHJcbiAgICAvLyBDaGVjayBhZG1pbiBhY2Nlc3NcclxuICAgIGNvbnN0IGFkbWluQ2hlY2sgPSBhd2FpdCBpc0FkbWluKHN1cGFiYXNlKTtcclxuICAgIGlmICghYWRtaW5DaGVjaykge1xyXG4gICAgICByZXR1cm4geyBkYXRhOiBudWxsLCBlcnJvcjogJ0FjY2VzcyBkZW5pZWQuIEFkbWluIG9yIHRlYWNoZXIgcm9sZSByZXF1aXJlZC4nIH07XHJcbiAgICB9XHJcblxyXG4gICAgY29uc3QgeyBkYXRhLCBlcnJvciB9ID0gYXdhaXQgc3VwYWJhc2VcclxuICAgICAgLmZyb20oJ2Fubm91bmNlbWVudHMnKVxyXG4gICAgICAudXBkYXRlKHVwZGF0ZXMpXHJcbiAgICAgIC5lcSgnaWQnLCBpZClcclxuICAgICAgLnNlbGVjdCgpXHJcbiAgICAgIC5zaW5nbGUoKTtcclxuXHJcbiAgICBpZiAoZXJyb3IpIHtcclxuICAgICAgcmV0dXJuIHsgZGF0YTogbnVsbCwgZXJyb3I6IGVycm9yLm1lc3NhZ2UgfTtcclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4geyBkYXRhLCBlcnJvcjogbnVsbCB9O1xyXG4gIH0gY2F0Y2ggKGVycm9yOiBhbnkpIHtcclxuICAgIHJldHVybiB7IGRhdGE6IG51bGwsIGVycm9yOiBlcnJvci5tZXNzYWdlIH07XHJcbiAgfVxyXG59XHJcblxyXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZGVsZXRlQW5ub3VuY2VtZW50KGlkOiBzdHJpbmcpOiBQcm9taXNlPHsgZXJyb3I6IHN0cmluZyB8IG51bGwgfT4ge1xyXG4gIGNvbnN0IHN1cGFiYXNlID0gYXdhaXQgY3JlYXRlU3VwYWJhc2VDbGllbnQoKTtcclxuICBcclxuICB0cnkge1xyXG4gICAgLy8gQ2hlY2sgYWRtaW4gYWNjZXNzXHJcbiAgICBjb25zdCBhZG1pbkNoZWNrID0gYXdhaXQgaXNBZG1pbihzdXBhYmFzZSk7XHJcbiAgICBpZiAoIWFkbWluQ2hlY2spIHtcclxuICAgICAgcmV0dXJuIHsgZXJyb3I6ICdBY2Nlc3MgZGVuaWVkLiBBZG1pbiBvciB0ZWFjaGVyIHJvbGUgcmVxdWlyZWQuJyB9O1xyXG4gICAgfVxyXG5cclxuICAgIGNvbnN0IHsgZXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlXHJcbiAgICAgIC5mcm9tKCdhbm5vdW5jZW1lbnRzJylcclxuICAgICAgLmRlbGV0ZSgpXHJcbiAgICAgIC5lcSgnaWQnLCBpZCk7XHJcblxyXG4gICAgaWYgKGVycm9yKSB7XHJcbiAgICAgIHJldHVybiB7IGVycm9yOiBlcnJvci5tZXNzYWdlIH07XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIHsgZXJyb3I6IG51bGwgfTtcclxuICB9IGNhdGNoIChlcnJvcjogYW55KSB7XHJcbiAgICByZXR1cm4geyBlcnJvcjogZXJyb3IubWVzc2FnZSB9O1xyXG4gIH1cclxufSJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoieVNBcUlzQiwrTEFBQSJ9
}),
"[project]/src/components/admin/AnnouncementManager.tsx [app-ssr] (ecmascript)", ((__turbopack_context__) => {
"use strict";

__turbopack_context__.s([
    "default",
    ()=>__TURBOPACK__default__export__
]);
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/next/dist/server/route-modules/app-page/vendored/ssr/react-jsx-dev-runtime.js [app-ssr] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/next/dist/server/route-modules/app-page/vendored/ssr/react.js [app-ssr] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$actions$2f$data$3a$c307c8__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$text$2f$javascript$3e$__ = __turbopack_context__.i("[project]/src/actions/data:c307c8 [app-ssr] (ecmascript) <text/javascript>");
var __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$actions$2f$data$3a$fa1600__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$text$2f$javascript$3e$__ = __turbopack_context__.i("[project]/src/actions/data:fa1600 [app-ssr] (ecmascript) <text/javascript>");
var __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$actions$2f$data$3a$f43296__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$text$2f$javascript$3e$__ = __turbopack_context__.i("[project]/src/actions/data:f43296 [app-ssr] (ecmascript) <text/javascript>");
'use client';
;
;
;
const AnnouncementManager = ()=>{
    const [announcements, setAnnouncements] = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["useState"])([]);
    const [loading, setLoading] = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["useState"])(true);
    const [error, setError] = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["useState"])(null);
    const [showCreateForm, setShowCreateForm] = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["useState"])(false);
    const [newTitle, setNewTitle] = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["useState"])('');
    const [newBody, setNewBody] = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["useState"])('');
    (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["useEffect"])(()=>{
        loadAnnouncements();
    }, []);
    const loadAnnouncements = async ()=>{
        setLoading(true);
        setError(null);
        try {
            const result = await (0, __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$actions$2f$data$3a$c307c8__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$text$2f$javascript$3e$__["listAnnouncements"])();
            if (result.error) {
                setError(result.error);
            } else if (result.data) {
                setAnnouncements(result.data);
            }
        } catch (err) {
            setError('Failed to load announcements');
        } finally{
            setLoading(false);
        }
    };
    const handleCreateAnnouncement = async ()=>{
        if (!newTitle.trim() || !newBody.trim()) {
            setError('Title and body are required');
            return;
        }
        try {
            const result = await (0, __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$actions$2f$data$3a$fa1600__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$text$2f$javascript$3e$__["createAnnouncement"])(newTitle, newBody);
            if (result.error) {
                setError(result.error);
            } else if (result.data) {
                setAnnouncements([
                    result.data,
                    ...announcements
                ]);
                setNewTitle('');
                setNewBody('');
                setShowCreateForm(false);
            }
        } catch (err) {
            setError('Failed to create announcement');
        }
    };
    const handleDeleteAnnouncement = async (id)=>{
        if (!confirm('Are you sure you want to delete this announcement?')) {
            return;
        }
        try {
            const result = await (0, __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$actions$2f$data$3a$f43296__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$text$2f$javascript$3e$__["deleteAnnouncement"])(id);
            if (result.error) {
                setError(result.error);
            } else {
                setAnnouncements(announcements.filter((announcement)=>announcement.id !== id));
            }
        } catch (err) {
            setError('Failed to delete announcement');
        }
    };
    return /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
        className: "h-full flex flex-col",
        children: [
            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                className: "p-4 border-b border-gray-700",
                children: [
                    /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                        className: "flex justify-between items-center mb-4",
                        children: [
                            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("h3", {
                                className: "text-lg font-semibold text-white",
                                children: "Announcements"
                            }, void 0, false, {
                                fileName: "[project]/src/components/admin/AnnouncementManager.tsx",
                                lineNumber: 84,
                                columnNumber: 11
                            }, ("TURBOPACK compile-time value", void 0)),
                            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("button", {
                                onClick: ()=>setShowCreateForm(!showCreateForm),
                                className: "bg-accent-primary hover:bg-accent-primary/90 text-white px-3 py-1 rounded-md text-sm font-medium transition-colors hover-lift border border-accent-primary",
                                children: "+ New"
                            }, void 0, false, {
                                fileName: "[project]/src/components/admin/AnnouncementManager.tsx",
                                lineNumber: 85,
                                columnNumber: 11
                            }, ("TURBOPACK compile-time value", void 0))
                        ]
                    }, void 0, true, {
                        fileName: "[project]/src/components/admin/AnnouncementManager.tsx",
                        lineNumber: 83,
                        columnNumber: 9
                    }, ("TURBOPACK compile-time value", void 0)),
                    showCreateForm && /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                        className: "mb-4 p-3 bg-gray-800 rounded-lg",
                        children: [
                            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("input", {
                                type: "text",
                                value: newTitle,
                                onChange: (e)=>setNewTitle(e.target.value),
                                placeholder: "Announcement title",
                                className: "w-full p-2 mb-2 rounded bg-gray-700 border border-gray-600 text-white"
                            }, void 0, false, {
                                fileName: "[project]/src/components/admin/AnnouncementManager.tsx",
                                lineNumber: 95,
                                columnNumber: 13
                            }, ("TURBOPACK compile-time value", void 0)),
                            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("textarea", {
                                value: newBody,
                                onChange: (e)=>setNewBody(e.target.value),
                                placeholder: "Announcement content",
                                className: "w-full p-2 mb-2 rounded bg-gray-700 border border-gray-600 text-white",
                                rows: 3
                            }, void 0, false, {
                                fileName: "[project]/src/components/admin/AnnouncementManager.tsx",
                                lineNumber: 102,
                                columnNumber: 13
                            }, ("TURBOPACK compile-time value", void 0)),
                            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                                className: "flex gap-2",
                                children: [
                                    /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("button", {
                                        onClick: handleCreateAnnouncement,
                                        className: "bg-green-600 hover:bg-green-700 text-white px-3 py-1 rounded text-sm hover-lift",
                                        children: "Create"
                                    }, void 0, false, {
                                        fileName: "[project]/src/components/admin/AnnouncementManager.tsx",
                                        lineNumber: 110,
                                        columnNumber: 15
                                    }, ("TURBOPACK compile-time value", void 0)),
                                    /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("button", {
                                        onClick: ()=>{
                                            setShowCreateForm(false);
                                            setNewTitle('');
                                            setNewBody('');
                                        },
                                        className: "bg-gray-600 hover:bg-gray-700 text-white px-3 py-1 rounded text-sm hover-lift",
                                        children: "Cancel"
                                    }, void 0, false, {
                                        fileName: "[project]/src/components/admin/AnnouncementManager.tsx",
                                        lineNumber: 116,
                                        columnNumber: 15
                                    }, ("TURBOPACK compile-time value", void 0))
                                ]
                            }, void 0, true, {
                                fileName: "[project]/src/components/admin/AnnouncementManager.tsx",
                                lineNumber: 109,
                                columnNumber: 13
                            }, ("TURBOPACK compile-time value", void 0))
                        ]
                    }, void 0, true, {
                        fileName: "[project]/src/components/admin/AnnouncementManager.tsx",
                        lineNumber: 94,
                        columnNumber: 11
                    }, ("TURBOPACK compile-time value", void 0)),
                    error && /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                        className: "mb-4 p-2 bg-red-900/30 border border-red-700 rounded text-red-300 text-sm",
                        children: error
                    }, void 0, false, {
                        fileName: "[project]/src/components/admin/AnnouncementManager.tsx",
                        lineNumber: 131,
                        columnNumber: 11
                    }, ("TURBOPACK compile-time value", void 0))
                ]
            }, void 0, true, {
                fileName: "[project]/src/components/admin/AnnouncementManager.tsx",
                lineNumber: 82,
                columnNumber: 7
            }, ("TURBOPACK compile-time value", void 0)),
            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                className: "flex-1 overflow-y-auto",
                children: loading ? /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                    className: "p-4 text-center text-gray-400",
                    children: "Loading announcements..."
                }, void 0, false, {
                    fileName: "[project]/src/components/admin/AnnouncementManager.tsx",
                    lineNumber: 139,
                    columnNumber: 11
                }, ("TURBOPACK compile-time value", void 0)) : announcements.length === 0 ? /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                    className: "p-4 text-center text-gray-400",
                    children: "No announcements found"
                }, void 0, false, {
                    fileName: "[project]/src/components/admin/AnnouncementManager.tsx",
                    lineNumber: 141,
                    columnNumber: 11
                }, ("TURBOPACK compile-time value", void 0)) : /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("ul", {
                    className: "divide-y divide-gray-700",
                    children: announcements.map((announcement)=>/*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("li", {
                            className: "p-3 border-b border-gray-700",
                            children: /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                                className: "flex justify-between items-start",
                                children: [
                                    /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                                        className: "flex-1",
                                        children: [
                                            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("h4", {
                                                className: "font-medium text-white",
                                                children: announcement.title
                                            }, void 0, false, {
                                                fileName: "[project]/src/components/admin/AnnouncementManager.tsx",
                                                lineNumber: 148,
                                                columnNumber: 21
                                            }, ("TURBOPACK compile-time value", void 0)),
                                            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("p", {
                                                className: "text-sm text-gray-300 mt-1",
                                                children: announcement.body
                                            }, void 0, false, {
                                                fileName: "[project]/src/components/admin/AnnouncementManager.tsx",
                                                lineNumber: 149,
                                                columnNumber: 21
                                            }, ("TURBOPACK compile-time value", void 0)),
                                            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                                                className: "mt-2 text-xs text-gray-500",
                                                children: new Date(announcement.created_at).toLocaleString()
                                            }, void 0, false, {
                                                fileName: "[project]/src/components/admin/AnnouncementManager.tsx",
                                                lineNumber: 150,
                                                columnNumber: 21
                                            }, ("TURBOPACK compile-time value", void 0))
                                        ]
                                    }, void 0, true, {
                                        fileName: "[project]/src/components/admin/AnnouncementManager.tsx",
                                        lineNumber: 147,
                                        columnNumber: 19
                                    }, ("TURBOPACK compile-time value", void 0)),
                                    /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("button", {
                                        onClick: ()=>handleDeleteAnnouncement(announcement.id),
                                        className: "p-1 rounded text-red-400 hover:bg-red-900/20 ml-2 hover-lift",
                                        title: "Delete",
                                        children: /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("svg", {
                                            xmlns: "http://www.w3.org/2000/svg",
                                            width: "16",
                                            height: "16",
                                            viewBox: "0 0 24 24",
                                            fill: "none",
                                            stroke: "currentColor",
                                            strokeWidth: "2",
                                            strokeLinecap: "round",
                                            strokeLinejoin: "round",
                                            children: /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("path", {
                                                d: "M3 6h18M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6m3 0V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2"
                                            }, void 0, false, {
                                                fileName: "[project]/src/components/admin/AnnouncementManager.tsx",
                                                lineNumber: 160,
                                                columnNumber: 23
                                            }, ("TURBOPACK compile-time value", void 0))
                                        }, void 0, false, {
                                            fileName: "[project]/src/components/admin/AnnouncementManager.tsx",
                                            lineNumber: 159,
                                            columnNumber: 21
                                        }, ("TURBOPACK compile-time value", void 0))
                                    }, void 0, false, {
                                        fileName: "[project]/src/components/admin/AnnouncementManager.tsx",
                                        lineNumber: 154,
                                        columnNumber: 19
                                    }, ("TURBOPACK compile-time value", void 0))
                                ]
                            }, void 0, true, {
                                fileName: "[project]/src/components/admin/AnnouncementManager.tsx",
                                lineNumber: 146,
                                columnNumber: 17
                            }, ("TURBOPACK compile-time value", void 0))
                        }, announcement.id, false, {
                            fileName: "[project]/src/components/admin/AnnouncementManager.tsx",
                            lineNumber: 145,
                            columnNumber: 15
                        }, ("TURBOPACK compile-time value", void 0)))
                }, void 0, false, {
                    fileName: "[project]/src/components/admin/AnnouncementManager.tsx",
                    lineNumber: 143,
                    columnNumber: 11
                }, ("TURBOPACK compile-time value", void 0))
            }, void 0, false, {
                fileName: "[project]/src/components/admin/AnnouncementManager.tsx",
                lineNumber: 137,
                columnNumber: 7
            }, ("TURBOPACK compile-time value", void 0))
        ]
    }, void 0, true, {
        fileName: "[project]/src/components/admin/AnnouncementManager.tsx",
        lineNumber: 81,
        columnNumber: 5
    }, ("TURBOPACK compile-time value", void 0));
};
const __TURBOPACK__default__export__ = AnnouncementManager;
}),
"[project]/src/actions/data:3829ed [app-ssr] (ecmascript) <text/javascript>", ((__turbopack_context__) => {
"use strict";

__turbopack_context__.s([
    "listUsers",
    ()=>$$RSC_SERVER_ACTION_0
]);
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$build$2f$webpack$2f$loaders$2f$next$2d$flight$2d$loader$2f$action$2d$client$2d$wrapper$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/next/dist/build/webpack/loaders/next-flight-loader/action-client-wrapper.js [app-ssr] (ecmascript)");
/* __next_internal_action_entry_do_not_use__ [{"00fe4727cac8f70f5edc703838dabca6792c690f8e":"listUsers"},"src/actions/userActions.ts",""] */ "use turbopack no side effects";
;
const $$RSC_SERVER_ACTION_0 = /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$build$2f$webpack$2f$loaders$2f$next$2d$flight$2d$loader$2f$action$2d$client$2d$wrapper$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["createServerReference"])("00fe4727cac8f70f5edc703838dabca6792c690f8e", __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$build$2f$webpack$2f$loaders$2f$next$2d$flight$2d$loader$2f$action$2d$client$2d$wrapper$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["callServer"], void 0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$build$2f$webpack$2f$loaders$2f$next$2d$flight$2d$loader$2f$action$2d$client$2d$wrapper$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["findSourceMapURL"], "listUsers");
;
 //# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4vdXNlckFjdGlvbnMudHMiXSwic291cmNlc0NvbnRlbnQiOlsiJ3VzZSBzZXJ2ZXInO1xyXG5cclxuaW1wb3J0IHsgY29va2llcyB9IGZyb20gJ25leHQvaGVhZGVycyc7XHJcbmltcG9ydCB7IGNyZWF0ZVNlcnZlckNsaWVudCB9IGZyb20gJ0BzdXBhYmFzZS9zc3InO1xyXG5cclxuLy8gVHlwZSBkZWZpbml0aW9uc1xyXG50eXBlIFVzZXIgPSB7XHJcbiAgaWQ6IHN0cmluZztcclxuICB1c2VybmFtZTogc3RyaW5nO1xyXG4gIGVtYWlsOiBzdHJpbmc7XHJcbiAgcm9sZTogc3RyaW5nO1xyXG4gIHBsYW46IHN0cmluZztcclxuICBjcmVhdGVkX2F0OiBzdHJpbmc7XHJcbn07XHJcblxyXG4vLyBIZWxwZXIgZnVuY3Rpb24gdG8gY3JlYXRlIFN1cGFiYXNlIGNsaWVudCBmb3Igc2VydmVyIGFjdGlvbnNcclxuYXN5bmMgZnVuY3Rpb24gY3JlYXRlU3VwYWJhc2VDbGllbnQoKSB7XHJcbiAgY29uc3QgY29va2llU3RvcmUgPSBhd2FpdCBjb29raWVzKCk7XHJcbiAgcmV0dXJuIGNyZWF0ZVNlcnZlckNsaWVudChcclxuICAgIHByb2Nlc3MuZW52Lk5FWFRfUFVCTElDX1NVUEFCQVNFX1VSTCEsXHJcbiAgICBwcm9jZXNzLmVudi5ORVhUX1BVQkxJQ19TVVBBQkFTRV9BTk9OX0tFWSEsXHJcbiAgICB7XHJcbiAgICAgIGNvb2tpZXM6IHtcclxuICAgICAgICBnZXQ6IChuYW1lOiBzdHJpbmcpID0+IHtcclxuICAgICAgICAgIGNvbnN0IGNvb2tpZSA9IGNvb2tpZVN0b3JlLmdldChuYW1lKTtcclxuICAgICAgICAgIHJldHVybiBjb29raWUgPyBjb29raWUudmFsdWUgOiB1bmRlZmluZWQ7XHJcbiAgICAgICAgfSxcclxuICAgICAgfSxcclxuICAgIH1cclxuICApO1xyXG59XHJcblxyXG4vLyBDaGVjayBpZiB1c2VyIGlzIGFkbWluXHJcbmFzeW5jIGZ1bmN0aW9uIGlzQWRtaW4oc3VwYWJhc2U6IGFueSk6IFByb21pc2U8Ym9vbGVhbj4ge1xyXG4gIGNvbnN0IHtcclxuICAgIGRhdGE6IHsgdXNlciB9LFxyXG4gICAgZXJyb3I6IHVzZXJFcnJvcixcclxuICB9ID0gYXdhaXQgc3VwYWJhc2UuYXV0aC5nZXRVc2VyKCk7XHJcblxyXG4gIGlmICh1c2VyRXJyb3IgfHwgIXVzZXIpIHtcclxuICAgIHJldHVybiBmYWxzZTtcclxuICB9XHJcblxyXG4gIGNvbnN0IHsgZGF0YTogcHJvZmlsZSwgZXJyb3I6IHByb2ZpbGVFcnJvciB9ID0gYXdhaXQgc3VwYWJhc2VcclxuICAgIC5mcm9tKCdwcm9maWxlcycpXHJcbiAgICAuc2VsZWN0KCdyb2xlJylcclxuICAgIC5lcSgnaWQnLCB1c2VyLmlkKVxyXG4gICAgLnNpbmdsZSgpO1xyXG5cclxuICBpZiAocHJvZmlsZUVycm9yIHx8ICFwcm9maWxlKSB7XHJcbiAgICByZXR1cm4gZmFsc2U7XHJcbiAgfVxyXG5cclxuICByZXR1cm4gcHJvZmlsZS5yb2xlID09PSAnYWRtaW4nO1xyXG59XHJcblxyXG4vLyBVc2VyIEFjdGlvbnNcclxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGxpc3RVc2VycygpOiBQcm9taXNlPHsgZGF0YTogVXNlcltdIHwgbnVsbDsgZXJyb3I6IHN0cmluZyB8IG51bGwgfT4ge1xyXG4gIGNvbnN0IHN1cGFiYXNlID0gYXdhaXQgY3JlYXRlU3VwYWJhc2VDbGllbnQoKTtcclxuICBcclxuICB0cnkge1xyXG4gICAgLy8gQ2hlY2sgYWRtaW4gYWNjZXNzXHJcbiAgICBjb25zdCBhZG1pbkNoZWNrID0gYXdhaXQgaXNBZG1pbihzdXBhYmFzZSk7XHJcbiAgICBpZiAoIWFkbWluQ2hlY2spIHtcclxuICAgICAgcmV0dXJuIHsgZGF0YTogbnVsbCwgZXJyb3I6ICdBY2Nlc3MgZGVuaWVkLiBBZG1pbiByb2xlIHJlcXVpcmVkLicgfTtcclxuICAgIH1cclxuXHJcbiAgICAvLyBKb2luIHdpdGggYXV0aC51c2VycyB0byBnZXQgZW1haWxcclxuICAgIGNvbnN0IHsgZGF0YSwgZXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlXHJcbiAgICAgIC5mcm9tKCdwcm9maWxlcycpXHJcbiAgICAgIC5zZWxlY3QoYFxyXG4gICAgICAgIGlkLFxyXG4gICAgICAgIHVzZXJuYW1lLFxyXG4gICAgICAgIHJvbGUsXHJcbiAgICAgICAgcGxhbixcclxuICAgICAgICBjcmVhdGVkX2F0XHJcbiAgICAgIGApXHJcbiAgICAgIC5vcmRlcignY3JlYXRlZF9hdCcsIHsgYXNjZW5kaW5nOiBmYWxzZSB9KTtcclxuXHJcbiAgICBpZiAoZXJyb3IpIHtcclxuICAgICAgcmV0dXJuIHsgZGF0YTogbnVsbCwgZXJyb3I6IGVycm9yLm1lc3NhZ2UgfTtcclxuICAgIH1cclxuXHJcbiAgICAvLyBGb3Igbm93LCB3ZSdsbCByZXR1cm4gbW9jayBlbWFpbHMgc2luY2Ugd2UgY2FuJ3QgYWNjZXNzIGF1dGgudXNlcnMgZGlyZWN0bHkgZnJvbSBSTFNcclxuICAgIC8vIEluIGEgcmVhbCBpbXBsZW1lbnRhdGlvbiwgeW91J2QgbmVlZCBhIHNlcnZpY2Ugcm9sZSBrZXkgb3IgYSBkZWRpY2F0ZWQgUlBDIGZ1bmN0aW9uXHJcbiAgICBjb25zdCB1c2Vyc1dpdGhNb2NrRW1haWxzID0gZGF0YS5tYXAoKHVzZXI6IGFueSkgPT4gKHtcclxuICAgICAgLi4udXNlcixcclxuICAgICAgZW1haWw6IGAke3VzZXIudXNlcm5hbWV9QGV4YW1wbGUuY29tYCAvLyBNb2NrIGVtYWlsIGZvciBkZW1vIHB1cnBvc2VzXHJcbiAgICB9KSk7XHJcblxyXG4gICAgcmV0dXJuIHsgZGF0YTogdXNlcnNXaXRoTW9ja0VtYWlscyBhcyBVc2VyW10sIGVycm9yOiBudWxsIH07XHJcbiAgfSBjYXRjaCAoZXJyb3I6IGFueSkge1xyXG4gICAgcmV0dXJuIHsgZGF0YTogbnVsbCwgZXJyb3I6IGVycm9yLm1lc3NhZ2UgfTtcclxuICB9XHJcbn1cclxuXHJcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiB1cGRhdGVVc2VyKGlkOiBzdHJpbmcsIHVwZGF0ZXM6IFBhcnRpYWw8VXNlcj4pOiBQcm9taXNlPHsgZGF0YTogVXNlciB8IG51bGw7IGVycm9yOiBzdHJpbmcgfCBudWxsIH0+IHtcclxuICBjb25zdCBzdXBhYmFzZSA9IGF3YWl0IGNyZWF0ZVN1cGFiYXNlQ2xpZW50KCk7XHJcbiAgXHJcbiAgdHJ5IHtcclxuICAgIC8vIENoZWNrIGFkbWluIGFjY2Vzc1xyXG4gICAgY29uc3QgYWRtaW5DaGVjayA9IGF3YWl0IGlzQWRtaW4oc3VwYWJhc2UpO1xyXG4gICAgaWYgKCFhZG1pbkNoZWNrKSB7XHJcbiAgICAgIHJldHVybiB7IGRhdGE6IG51bGwsIGVycm9yOiAnQWNjZXNzIGRlbmllZC4gQWRtaW4gcm9sZSByZXF1aXJlZC4nIH07XHJcbiAgICB9XHJcblxyXG4gICAgLy8gVXNlIHRoZSBoYXJkZW5lZCBzZXJ2aWNlIGZ1bmN0aW9uXHJcbiAgICBjb25zdCB7IGRhdGEsIGVycm9yIH0gPSBhd2FpdCBzdXBhYmFzZVxyXG4gICAgICAuZnJvbSgncHJvZmlsZXMnKVxyXG4gICAgICAudXBkYXRlKHtcclxuICAgICAgICByb2xlOiB1cGRhdGVzLnJvbGUsXHJcbiAgICAgICAgcGxhbjogdXBkYXRlcy5wbGFuXHJcbiAgICAgIH0pXHJcbiAgICAgIC5lcSgnaWQnLCBpZClcclxuICAgICAgLnNlbGVjdCgpXHJcbiAgICAgIC5tYXliZVNpbmdsZSgpOyAvLyBDaGFuZ2VkIGZyb20gLnNpbmdsZSgpIHRvIC5tYXliZVNpbmdsZSgpXHJcblxyXG4gICAgaWYgKGVycm9yKSB7XHJcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ1tVU0VSIEFDVElPTl0gVXBkYXRlIGVycm9yOicsIGVycm9yKTtcclxuICAgICAgcmV0dXJuIHsgZGF0YTogbnVsbCwgZXJyb3I6IGVycm9yLm1lc3NhZ2UgfTtcclxuICAgIH1cclxuICAgIFxyXG4gICAgLy8gSGFuZGxlIGNhc2Ugd2hlcmUgbm8gcm93cyB3ZXJlIHVwZGF0ZWRcclxuICAgIGlmICghZGF0YSkge1xyXG4gICAgICBjb25zb2xlLmVycm9yKCdbVVNFUiBBQ1RJT05dIE5vIHByb2ZpbGUgZm91bmQgZm9yIHVwZGF0ZTonLCBpZCk7XHJcbiAgICAgIHJldHVybiB7IGRhdGE6IG51bGwsIGVycm9yOiAnTm8gcHJvZmlsZSBmb3VuZCBmb3IgdGhpcyB1c2VyJyB9O1xyXG4gICAgfVxyXG5cclxuICAgIC8vIEFkZCBtb2NrIGVtYWlsXHJcbiAgICBjb25zdCB1c2VyRGF0YSA9IHtcclxuICAgICAgLi4uZGF0YSxcclxuICAgICAgZW1haWw6IGAke2RhdGEudXNlcm5hbWV9QGV4YW1wbGUuY29tYFxyXG4gICAgfTtcclxuXHJcbiAgICByZXR1cm4geyBkYXRhOiB1c2VyRGF0YSBhcyBVc2VyLCBlcnJvcjogbnVsbCB9O1xyXG4gIH0gY2F0Y2ggKGVycm9yOiBhbnkpIHtcclxuICAgIGNvbnNvbGUuZXJyb3IoJ1tVU0VSIEFDVElPTl0gVW5leHBlY3RlZCBlcnJvcjonLCBlcnJvcik7XHJcbiAgICByZXR1cm4geyBkYXRhOiBudWxsLCBlcnJvcjogZXJyb3IubWVzc2FnZSB9O1xyXG4gIH1cclxufVxyXG5cclxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGRlbGV0ZVVzZXIoaWQ6IHN0cmluZyk6IFByb21pc2U8eyBlcnJvcjogc3RyaW5nIHwgbnVsbCB9PiB7XHJcbiAgY29uc3Qgc3VwYWJhc2UgPSBhd2FpdCBjcmVhdGVTdXBhYmFzZUNsaWVudCgpO1xyXG4gIFxyXG4gIHRyeSB7XHJcbiAgICAvLyBDaGVjayBhZG1pbiBhY2Nlc3NcclxuICAgIGNvbnN0IGFkbWluQ2hlY2sgPSBhd2FpdCBpc0FkbWluKHN1cGFiYXNlKTtcclxuICAgIGlmICghYWRtaW5DaGVjaykge1xyXG4gICAgICByZXR1cm4geyBlcnJvcjogJ0FjY2VzcyBkZW5pZWQuIEFkbWluIHJvbGUgcmVxdWlyZWQuJyB9O1xyXG4gICAgfVxyXG5cclxuICAgIC8vIE5vdGU6IEluIGEgcmVhbCBpbXBsZW1lbnRhdGlvbiwgeW91J2Qgd2FudCB0byBwcm9wZXJseSBkZWxldGUgdGhlIHVzZXJcclxuICAgIC8vIGZyb20gYXV0aC51c2VycyBhcyB3ZWxsLCBidXQgdGhhdCB0eXBpY2FsbHkgcmVxdWlyZXMgYSBzZXJ2aWNlIHJvbGUga2V5XHJcbiAgICAvLyBGb3Igbm93LCB3ZSdsbCBqdXN0IGRlbGV0ZSBmcm9tIHByb2ZpbGVzXHJcbiAgICBjb25zdCB7IGVycm9yIH0gPSBhd2FpdCBzdXBhYmFzZVxyXG4gICAgICAuZnJvbSgncHJvZmlsZXMnKVxyXG4gICAgICAuZGVsZXRlKClcclxuICAgICAgLmVxKCdpZCcsIGlkKTtcclxuXHJcbiAgICBpZiAoZXJyb3IpIHtcclxuICAgICAgcmV0dXJuIHsgZXJyb3I6IGVycm9yLm1lc3NhZ2UgfTtcclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4geyBlcnJvcjogbnVsbCB9O1xyXG4gIH0gY2F0Y2ggKGVycm9yOiBhbnkpIHtcclxuICAgIHJldHVybiB7IGVycm9yOiBlcnJvci5tZXNzYWdlIH07XHJcbiAgfVxyXG59XHJcblxyXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gc2VhcmNoVXNlcnMoc2VhcmNoVGVybTogc3RyaW5nKTogUHJvbWlzZTx7IGRhdGE6IFVzZXJbXSB8IG51bGw7IGVycm9yOiBzdHJpbmcgfCBudWxsIH0+IHtcclxuICBjb25zdCBzdXBhYmFzZSA9IGF3YWl0IGNyZWF0ZVN1cGFiYXNlQ2xpZW50KCk7XHJcbiAgXHJcbiAgdHJ5IHtcclxuICAgIC8vIENoZWNrIGFkbWluIGFjY2Vzc1xyXG4gICAgY29uc3QgYWRtaW5DaGVjayA9IGF3YWl0IGlzQWRtaW4oc3VwYWJhc2UpO1xyXG4gICAgaWYgKCFhZG1pbkNoZWNrKSB7XHJcbiAgICAgIHJldHVybiB7IGRhdGE6IG51bGwsIGVycm9yOiAnQWNjZXNzIGRlbmllZC4gQWRtaW4gcm9sZSByZXF1aXJlZC4nIH07XHJcbiAgICB9XHJcblxyXG4gICAgY29uc3QgeyBkYXRhLCBlcnJvciB9ID0gYXdhaXQgc3VwYWJhc2VcclxuICAgICAgLmZyb20oJ3Byb2ZpbGVzJylcclxuICAgICAgLnNlbGVjdChgXHJcbiAgICAgICAgaWQsXHJcbiAgICAgICAgdXNlcm5hbWUsXHJcbiAgICAgICAgcm9sZSxcclxuICAgICAgICBwbGFuLFxyXG4gICAgICAgIGNyZWF0ZWRfYXRcclxuICAgICAgYClcclxuICAgICAgLm9yKGB1c2VybmFtZS5pbGlrZS4lJHtzZWFyY2hUZXJtfSUscm9sZS5pbGlrZS4lJHtzZWFyY2hUZXJtfSVgKVxyXG4gICAgICAub3JkZXIoJ2NyZWF0ZWRfYXQnLCB7IGFzY2VuZGluZzogZmFsc2UgfSk7XHJcblxyXG4gICAgaWYgKGVycm9yKSB7XHJcbiAgICAgIHJldHVybiB7IGRhdGE6IG51bGwsIGVycm9yOiBlcnJvci5tZXNzYWdlIH07XHJcbiAgICB9XHJcblxyXG4gICAgLy8gQWRkIG1vY2sgZW1haWxzXHJcbiAgICBjb25zdCB1c2Vyc1dpdGhNb2NrRW1haWxzID0gZGF0YS5tYXAoKHVzZXI6IGFueSkgPT4gKHtcclxuICAgICAgLi4udXNlcixcclxuICAgICAgZW1haWw6IGAke3VzZXIudXNlcm5hbWV9QGV4YW1wbGUuY29tYFxyXG4gICAgfSkpO1xyXG5cclxuICAgIHJldHVybiB7IGRhdGE6IHVzZXJzV2l0aE1vY2tFbWFpbHMgYXMgVXNlcltdLCBlcnJvcjogbnVsbCB9O1xyXG4gIH0gY2F0Y2ggKGVycm9yOiBhbnkpIHtcclxuICAgIHJldHVybiB7IGRhdGE6IG51bGwsIGVycm9yOiBlcnJvci5tZXNzYWdlIH07XHJcbiAgfVxyXG59Il0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJ3UkF5RHNCLHNMQUFBIn0=
}),
"[project]/src/actions/data:bc614c [app-ssr] (ecmascript) <text/javascript>", ((__turbopack_context__) => {
"use strict";

__turbopack_context__.s([
    "updateUser",
    ()=>$$RSC_SERVER_ACTION_1
]);
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$build$2f$webpack$2f$loaders$2f$next$2d$flight$2d$loader$2f$action$2d$client$2d$wrapper$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/next/dist/build/webpack/loaders/next-flight-loader/action-client-wrapper.js [app-ssr] (ecmascript)");
/* __next_internal_action_entry_do_not_use__ [{"60b4ddf67d2006cf4a29da630db45e4a7a4beda1e4":"updateUser"},"src/actions/userActions.ts",""] */ "use turbopack no side effects";
;
const $$RSC_SERVER_ACTION_1 = /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$build$2f$webpack$2f$loaders$2f$next$2d$flight$2d$loader$2f$action$2d$client$2d$wrapper$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["createServerReference"])("60b4ddf67d2006cf4a29da630db45e4a7a4beda1e4", __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$build$2f$webpack$2f$loaders$2f$next$2d$flight$2d$loader$2f$action$2d$client$2d$wrapper$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["callServer"], void 0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$build$2f$webpack$2f$loaders$2f$next$2d$flight$2d$loader$2f$action$2d$client$2d$wrapper$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["findSourceMapURL"], "updateUser");
;
 //# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4vdXNlckFjdGlvbnMudHMiXSwic291cmNlc0NvbnRlbnQiOlsiJ3VzZSBzZXJ2ZXInO1xyXG5cclxuaW1wb3J0IHsgY29va2llcyB9IGZyb20gJ25leHQvaGVhZGVycyc7XHJcbmltcG9ydCB7IGNyZWF0ZVNlcnZlckNsaWVudCB9IGZyb20gJ0BzdXBhYmFzZS9zc3InO1xyXG5cclxuLy8gVHlwZSBkZWZpbml0aW9uc1xyXG50eXBlIFVzZXIgPSB7XHJcbiAgaWQ6IHN0cmluZztcclxuICB1c2VybmFtZTogc3RyaW5nO1xyXG4gIGVtYWlsOiBzdHJpbmc7XHJcbiAgcm9sZTogc3RyaW5nO1xyXG4gIHBsYW46IHN0cmluZztcclxuICBjcmVhdGVkX2F0OiBzdHJpbmc7XHJcbn07XHJcblxyXG4vLyBIZWxwZXIgZnVuY3Rpb24gdG8gY3JlYXRlIFN1cGFiYXNlIGNsaWVudCBmb3Igc2VydmVyIGFjdGlvbnNcclxuYXN5bmMgZnVuY3Rpb24gY3JlYXRlU3VwYWJhc2VDbGllbnQoKSB7XHJcbiAgY29uc3QgY29va2llU3RvcmUgPSBhd2FpdCBjb29raWVzKCk7XHJcbiAgcmV0dXJuIGNyZWF0ZVNlcnZlckNsaWVudChcclxuICAgIHByb2Nlc3MuZW52Lk5FWFRfUFVCTElDX1NVUEFCQVNFX1VSTCEsXHJcbiAgICBwcm9jZXNzLmVudi5ORVhUX1BVQkxJQ19TVVBBQkFTRV9BTk9OX0tFWSEsXHJcbiAgICB7XHJcbiAgICAgIGNvb2tpZXM6IHtcclxuICAgICAgICBnZXQ6IChuYW1lOiBzdHJpbmcpID0+IHtcclxuICAgICAgICAgIGNvbnN0IGNvb2tpZSA9IGNvb2tpZVN0b3JlLmdldChuYW1lKTtcclxuICAgICAgICAgIHJldHVybiBjb29raWUgPyBjb29raWUudmFsdWUgOiB1bmRlZmluZWQ7XHJcbiAgICAgICAgfSxcclxuICAgICAgfSxcclxuICAgIH1cclxuICApO1xyXG59XHJcblxyXG4vLyBDaGVjayBpZiB1c2VyIGlzIGFkbWluXHJcbmFzeW5jIGZ1bmN0aW9uIGlzQWRtaW4oc3VwYWJhc2U6IGFueSk6IFByb21pc2U8Ym9vbGVhbj4ge1xyXG4gIGNvbnN0IHtcclxuICAgIGRhdGE6IHsgdXNlciB9LFxyXG4gICAgZXJyb3I6IHVzZXJFcnJvcixcclxuICB9ID0gYXdhaXQgc3VwYWJhc2UuYXV0aC5nZXRVc2VyKCk7XHJcblxyXG4gIGlmICh1c2VyRXJyb3IgfHwgIXVzZXIpIHtcclxuICAgIHJldHVybiBmYWxzZTtcclxuICB9XHJcblxyXG4gIGNvbnN0IHsgZGF0YTogcHJvZmlsZSwgZXJyb3I6IHByb2ZpbGVFcnJvciB9ID0gYXdhaXQgc3VwYWJhc2VcclxuICAgIC5mcm9tKCdwcm9maWxlcycpXHJcbiAgICAuc2VsZWN0KCdyb2xlJylcclxuICAgIC5lcSgnaWQnLCB1c2VyLmlkKVxyXG4gICAgLnNpbmdsZSgpO1xyXG5cclxuICBpZiAocHJvZmlsZUVycm9yIHx8ICFwcm9maWxlKSB7XHJcbiAgICByZXR1cm4gZmFsc2U7XHJcbiAgfVxyXG5cclxuICByZXR1cm4gcHJvZmlsZS5yb2xlID09PSAnYWRtaW4nO1xyXG59XHJcblxyXG4vLyBVc2VyIEFjdGlvbnNcclxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGxpc3RVc2VycygpOiBQcm9taXNlPHsgZGF0YTogVXNlcltdIHwgbnVsbDsgZXJyb3I6IHN0cmluZyB8IG51bGwgfT4ge1xyXG4gIGNvbnN0IHN1cGFiYXNlID0gYXdhaXQgY3JlYXRlU3VwYWJhc2VDbGllbnQoKTtcclxuICBcclxuICB0cnkge1xyXG4gICAgLy8gQ2hlY2sgYWRtaW4gYWNjZXNzXHJcbiAgICBjb25zdCBhZG1pbkNoZWNrID0gYXdhaXQgaXNBZG1pbihzdXBhYmFzZSk7XHJcbiAgICBpZiAoIWFkbWluQ2hlY2spIHtcclxuICAgICAgcmV0dXJuIHsgZGF0YTogbnVsbCwgZXJyb3I6ICdBY2Nlc3MgZGVuaWVkLiBBZG1pbiByb2xlIHJlcXVpcmVkLicgfTtcclxuICAgIH1cclxuXHJcbiAgICAvLyBKb2luIHdpdGggYXV0aC51c2VycyB0byBnZXQgZW1haWxcclxuICAgIGNvbnN0IHsgZGF0YSwgZXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlXHJcbiAgICAgIC5mcm9tKCdwcm9maWxlcycpXHJcbiAgICAgIC5zZWxlY3QoYFxyXG4gICAgICAgIGlkLFxyXG4gICAgICAgIHVzZXJuYW1lLFxyXG4gICAgICAgIHJvbGUsXHJcbiAgICAgICAgcGxhbixcclxuICAgICAgICBjcmVhdGVkX2F0XHJcbiAgICAgIGApXHJcbiAgICAgIC5vcmRlcignY3JlYXRlZF9hdCcsIHsgYXNjZW5kaW5nOiBmYWxzZSB9KTtcclxuXHJcbiAgICBpZiAoZXJyb3IpIHtcclxuICAgICAgcmV0dXJuIHsgZGF0YTogbnVsbCwgZXJyb3I6IGVycm9yLm1lc3NhZ2UgfTtcclxuICAgIH1cclxuXHJcbiAgICAvLyBGb3Igbm93LCB3ZSdsbCByZXR1cm4gbW9jayBlbWFpbHMgc2luY2Ugd2UgY2FuJ3QgYWNjZXNzIGF1dGgudXNlcnMgZGlyZWN0bHkgZnJvbSBSTFNcclxuICAgIC8vIEluIGEgcmVhbCBpbXBsZW1lbnRhdGlvbiwgeW91J2QgbmVlZCBhIHNlcnZpY2Ugcm9sZSBrZXkgb3IgYSBkZWRpY2F0ZWQgUlBDIGZ1bmN0aW9uXHJcbiAgICBjb25zdCB1c2Vyc1dpdGhNb2NrRW1haWxzID0gZGF0YS5tYXAoKHVzZXI6IGFueSkgPT4gKHtcclxuICAgICAgLi4udXNlcixcclxuICAgICAgZW1haWw6IGAke3VzZXIudXNlcm5hbWV9QGV4YW1wbGUuY29tYCAvLyBNb2NrIGVtYWlsIGZvciBkZW1vIHB1cnBvc2VzXHJcbiAgICB9KSk7XHJcblxyXG4gICAgcmV0dXJuIHsgZGF0YTogdXNlcnNXaXRoTW9ja0VtYWlscyBhcyBVc2VyW10sIGVycm9yOiBudWxsIH07XHJcbiAgfSBjYXRjaCAoZXJyb3I6IGFueSkge1xyXG4gICAgcmV0dXJuIHsgZGF0YTogbnVsbCwgZXJyb3I6IGVycm9yLm1lc3NhZ2UgfTtcclxuICB9XHJcbn1cclxuXHJcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiB1cGRhdGVVc2VyKGlkOiBzdHJpbmcsIHVwZGF0ZXM6IFBhcnRpYWw8VXNlcj4pOiBQcm9taXNlPHsgZGF0YTogVXNlciB8IG51bGw7IGVycm9yOiBzdHJpbmcgfCBudWxsIH0+IHtcclxuICBjb25zdCBzdXBhYmFzZSA9IGF3YWl0IGNyZWF0ZVN1cGFiYXNlQ2xpZW50KCk7XHJcbiAgXHJcbiAgdHJ5IHtcclxuICAgIC8vIENoZWNrIGFkbWluIGFjY2Vzc1xyXG4gICAgY29uc3QgYWRtaW5DaGVjayA9IGF3YWl0IGlzQWRtaW4oc3VwYWJhc2UpO1xyXG4gICAgaWYgKCFhZG1pbkNoZWNrKSB7XHJcbiAgICAgIHJldHVybiB7IGRhdGE6IG51bGwsIGVycm9yOiAnQWNjZXNzIGRlbmllZC4gQWRtaW4gcm9sZSByZXF1aXJlZC4nIH07XHJcbiAgICB9XHJcblxyXG4gICAgLy8gVXNlIHRoZSBoYXJkZW5lZCBzZXJ2aWNlIGZ1bmN0aW9uXHJcbiAgICBjb25zdCB7IGRhdGEsIGVycm9yIH0gPSBhd2FpdCBzdXBhYmFzZVxyXG4gICAgICAuZnJvbSgncHJvZmlsZXMnKVxyXG4gICAgICAudXBkYXRlKHtcclxuICAgICAgICByb2xlOiB1cGRhdGVzLnJvbGUsXHJcbiAgICAgICAgcGxhbjogdXBkYXRlcy5wbGFuXHJcbiAgICAgIH0pXHJcbiAgICAgIC5lcSgnaWQnLCBpZClcclxuICAgICAgLnNlbGVjdCgpXHJcbiAgICAgIC5tYXliZVNpbmdsZSgpOyAvLyBDaGFuZ2VkIGZyb20gLnNpbmdsZSgpIHRvIC5tYXliZVNpbmdsZSgpXHJcblxyXG4gICAgaWYgKGVycm9yKSB7XHJcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ1tVU0VSIEFDVElPTl0gVXBkYXRlIGVycm9yOicsIGVycm9yKTtcclxuICAgICAgcmV0dXJuIHsgZGF0YTogbnVsbCwgZXJyb3I6IGVycm9yLm1lc3NhZ2UgfTtcclxuICAgIH1cclxuICAgIFxyXG4gICAgLy8gSGFuZGxlIGNhc2Ugd2hlcmUgbm8gcm93cyB3ZXJlIHVwZGF0ZWRcclxuICAgIGlmICghZGF0YSkge1xyXG4gICAgICBjb25zb2xlLmVycm9yKCdbVVNFUiBBQ1RJT05dIE5vIHByb2ZpbGUgZm91bmQgZm9yIHVwZGF0ZTonLCBpZCk7XHJcbiAgICAgIHJldHVybiB7IGRhdGE6IG51bGwsIGVycm9yOiAnTm8gcHJvZmlsZSBmb3VuZCBmb3IgdGhpcyB1c2VyJyB9O1xyXG4gICAgfVxyXG5cclxuICAgIC8vIEFkZCBtb2NrIGVtYWlsXHJcbiAgICBjb25zdCB1c2VyRGF0YSA9IHtcclxuICAgICAgLi4uZGF0YSxcclxuICAgICAgZW1haWw6IGAke2RhdGEudXNlcm5hbWV9QGV4YW1wbGUuY29tYFxyXG4gICAgfTtcclxuXHJcbiAgICByZXR1cm4geyBkYXRhOiB1c2VyRGF0YSBhcyBVc2VyLCBlcnJvcjogbnVsbCB9O1xyXG4gIH0gY2F0Y2ggKGVycm9yOiBhbnkpIHtcclxuICAgIGNvbnNvbGUuZXJyb3IoJ1tVU0VSIEFDVElPTl0gVW5leHBlY3RlZCBlcnJvcjonLCBlcnJvcik7XHJcbiAgICByZXR1cm4geyBkYXRhOiBudWxsLCBlcnJvcjogZXJyb3IubWVzc2FnZSB9O1xyXG4gIH1cclxufVxyXG5cclxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGRlbGV0ZVVzZXIoaWQ6IHN0cmluZyk6IFByb21pc2U8eyBlcnJvcjogc3RyaW5nIHwgbnVsbCB9PiB7XHJcbiAgY29uc3Qgc3VwYWJhc2UgPSBhd2FpdCBjcmVhdGVTdXBhYmFzZUNsaWVudCgpO1xyXG4gIFxyXG4gIHRyeSB7XHJcbiAgICAvLyBDaGVjayBhZG1pbiBhY2Nlc3NcclxuICAgIGNvbnN0IGFkbWluQ2hlY2sgPSBhd2FpdCBpc0FkbWluKHN1cGFiYXNlKTtcclxuICAgIGlmICghYWRtaW5DaGVjaykge1xyXG4gICAgICByZXR1cm4geyBlcnJvcjogJ0FjY2VzcyBkZW5pZWQuIEFkbWluIHJvbGUgcmVxdWlyZWQuJyB9O1xyXG4gICAgfVxyXG5cclxuICAgIC8vIE5vdGU6IEluIGEgcmVhbCBpbXBsZW1lbnRhdGlvbiwgeW91J2Qgd2FudCB0byBwcm9wZXJseSBkZWxldGUgdGhlIHVzZXJcclxuICAgIC8vIGZyb20gYXV0aC51c2VycyBhcyB3ZWxsLCBidXQgdGhhdCB0eXBpY2FsbHkgcmVxdWlyZXMgYSBzZXJ2aWNlIHJvbGUga2V5XHJcbiAgICAvLyBGb3Igbm93LCB3ZSdsbCBqdXN0IGRlbGV0ZSBmcm9tIHByb2ZpbGVzXHJcbiAgICBjb25zdCB7IGVycm9yIH0gPSBhd2FpdCBzdXBhYmFzZVxyXG4gICAgICAuZnJvbSgncHJvZmlsZXMnKVxyXG4gICAgICAuZGVsZXRlKClcclxuICAgICAgLmVxKCdpZCcsIGlkKTtcclxuXHJcbiAgICBpZiAoZXJyb3IpIHtcclxuICAgICAgcmV0dXJuIHsgZXJyb3I6IGVycm9yLm1lc3NhZ2UgfTtcclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4geyBlcnJvcjogbnVsbCB9O1xyXG4gIH0gY2F0Y2ggKGVycm9yOiBhbnkpIHtcclxuICAgIHJldHVybiB7IGVycm9yOiBlcnJvci5tZXNzYWdlIH07XHJcbiAgfVxyXG59XHJcblxyXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gc2VhcmNoVXNlcnMoc2VhcmNoVGVybTogc3RyaW5nKTogUHJvbWlzZTx7IGRhdGE6IFVzZXJbXSB8IG51bGw7IGVycm9yOiBzdHJpbmcgfCBudWxsIH0+IHtcclxuICBjb25zdCBzdXBhYmFzZSA9IGF3YWl0IGNyZWF0ZVN1cGFiYXNlQ2xpZW50KCk7XHJcbiAgXHJcbiAgdHJ5IHtcclxuICAgIC8vIENoZWNrIGFkbWluIGFjY2Vzc1xyXG4gICAgY29uc3QgYWRtaW5DaGVjayA9IGF3YWl0IGlzQWRtaW4oc3VwYWJhc2UpO1xyXG4gICAgaWYgKCFhZG1pbkNoZWNrKSB7XHJcbiAgICAgIHJldHVybiB7IGRhdGE6IG51bGwsIGVycm9yOiAnQWNjZXNzIGRlbmllZC4gQWRtaW4gcm9sZSByZXF1aXJlZC4nIH07XHJcbiAgICB9XHJcblxyXG4gICAgY29uc3QgeyBkYXRhLCBlcnJvciB9ID0gYXdhaXQgc3VwYWJhc2VcclxuICAgICAgLmZyb20oJ3Byb2ZpbGVzJylcclxuICAgICAgLnNlbGVjdChgXHJcbiAgICAgICAgaWQsXHJcbiAgICAgICAgdXNlcm5hbWUsXHJcbiAgICAgICAgcm9sZSxcclxuICAgICAgICBwbGFuLFxyXG4gICAgICAgIGNyZWF0ZWRfYXRcclxuICAgICAgYClcclxuICAgICAgLm9yKGB1c2VybmFtZS5pbGlrZS4lJHtzZWFyY2hUZXJtfSUscm9sZS5pbGlrZS4lJHtzZWFyY2hUZXJtfSVgKVxyXG4gICAgICAub3JkZXIoJ2NyZWF0ZWRfYXQnLCB7IGFzY2VuZGluZzogZmFsc2UgfSk7XHJcblxyXG4gICAgaWYgKGVycm9yKSB7XHJcbiAgICAgIHJldHVybiB7IGRhdGE6IG51bGwsIGVycm9yOiBlcnJvci5tZXNzYWdlIH07XHJcbiAgICB9XHJcblxyXG4gICAgLy8gQWRkIG1vY2sgZW1haWxzXHJcbiAgICBjb25zdCB1c2Vyc1dpdGhNb2NrRW1haWxzID0gZGF0YS5tYXAoKHVzZXI6IGFueSkgPT4gKHtcclxuICAgICAgLi4udXNlcixcclxuICAgICAgZW1haWw6IGAke3VzZXIudXNlcm5hbWV9QGV4YW1wbGUuY29tYFxyXG4gICAgfSkpO1xyXG5cclxuICAgIHJldHVybiB7IGRhdGE6IHVzZXJzV2l0aE1vY2tFbWFpbHMgYXMgVXNlcltdLCBlcnJvcjogbnVsbCB9O1xyXG4gIH0gY2F0Y2ggKGVycm9yOiBhbnkpIHtcclxuICAgIHJldHVybiB7IGRhdGE6IG51bGwsIGVycm9yOiBlcnJvci5tZXNzYWdlIH07XHJcbiAgfVxyXG59Il0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJ5UkFnR3NCLHVMQUFBIn0=
}),
"[project]/src/actions/data:ddf6de [app-ssr] (ecmascript) <text/javascript>", ((__turbopack_context__) => {
"use strict";

__turbopack_context__.s([
    "deleteUser",
    ()=>$$RSC_SERVER_ACTION_2
]);
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$build$2f$webpack$2f$loaders$2f$next$2d$flight$2d$loader$2f$action$2d$client$2d$wrapper$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/next/dist/build/webpack/loaders/next-flight-loader/action-client-wrapper.js [app-ssr] (ecmascript)");
/* __next_internal_action_entry_do_not_use__ [{"40b083290b2943a82c9a8c5f73798589e54bbc5ad3":"deleteUser"},"src/actions/userActions.ts",""] */ "use turbopack no side effects";
;
const $$RSC_SERVER_ACTION_2 = /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$build$2f$webpack$2f$loaders$2f$next$2d$flight$2d$loader$2f$action$2d$client$2d$wrapper$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["createServerReference"])("40b083290b2943a82c9a8c5f73798589e54bbc5ad3", __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$build$2f$webpack$2f$loaders$2f$next$2d$flight$2d$loader$2f$action$2d$client$2d$wrapper$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["callServer"], void 0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$build$2f$webpack$2f$loaders$2f$next$2d$flight$2d$loader$2f$action$2d$client$2d$wrapper$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["findSourceMapURL"], "deleteUser");
;
 //# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4vdXNlckFjdGlvbnMudHMiXSwic291cmNlc0NvbnRlbnQiOlsiJ3VzZSBzZXJ2ZXInO1xyXG5cclxuaW1wb3J0IHsgY29va2llcyB9IGZyb20gJ25leHQvaGVhZGVycyc7XHJcbmltcG9ydCB7IGNyZWF0ZVNlcnZlckNsaWVudCB9IGZyb20gJ0BzdXBhYmFzZS9zc3InO1xyXG5cclxuLy8gVHlwZSBkZWZpbml0aW9uc1xyXG50eXBlIFVzZXIgPSB7XHJcbiAgaWQ6IHN0cmluZztcclxuICB1c2VybmFtZTogc3RyaW5nO1xyXG4gIGVtYWlsOiBzdHJpbmc7XHJcbiAgcm9sZTogc3RyaW5nO1xyXG4gIHBsYW46IHN0cmluZztcclxuICBjcmVhdGVkX2F0OiBzdHJpbmc7XHJcbn07XHJcblxyXG4vLyBIZWxwZXIgZnVuY3Rpb24gdG8gY3JlYXRlIFN1cGFiYXNlIGNsaWVudCBmb3Igc2VydmVyIGFjdGlvbnNcclxuYXN5bmMgZnVuY3Rpb24gY3JlYXRlU3VwYWJhc2VDbGllbnQoKSB7XHJcbiAgY29uc3QgY29va2llU3RvcmUgPSBhd2FpdCBjb29raWVzKCk7XHJcbiAgcmV0dXJuIGNyZWF0ZVNlcnZlckNsaWVudChcclxuICAgIHByb2Nlc3MuZW52Lk5FWFRfUFVCTElDX1NVUEFCQVNFX1VSTCEsXHJcbiAgICBwcm9jZXNzLmVudi5ORVhUX1BVQkxJQ19TVVBBQkFTRV9BTk9OX0tFWSEsXHJcbiAgICB7XHJcbiAgICAgIGNvb2tpZXM6IHtcclxuICAgICAgICBnZXQ6IChuYW1lOiBzdHJpbmcpID0+IHtcclxuICAgICAgICAgIGNvbnN0IGNvb2tpZSA9IGNvb2tpZVN0b3JlLmdldChuYW1lKTtcclxuICAgICAgICAgIHJldHVybiBjb29raWUgPyBjb29raWUudmFsdWUgOiB1bmRlZmluZWQ7XHJcbiAgICAgICAgfSxcclxuICAgICAgfSxcclxuICAgIH1cclxuICApO1xyXG59XHJcblxyXG4vLyBDaGVjayBpZiB1c2VyIGlzIGFkbWluXHJcbmFzeW5jIGZ1bmN0aW9uIGlzQWRtaW4oc3VwYWJhc2U6IGFueSk6IFByb21pc2U8Ym9vbGVhbj4ge1xyXG4gIGNvbnN0IHtcclxuICAgIGRhdGE6IHsgdXNlciB9LFxyXG4gICAgZXJyb3I6IHVzZXJFcnJvcixcclxuICB9ID0gYXdhaXQgc3VwYWJhc2UuYXV0aC5nZXRVc2VyKCk7XHJcblxyXG4gIGlmICh1c2VyRXJyb3IgfHwgIXVzZXIpIHtcclxuICAgIHJldHVybiBmYWxzZTtcclxuICB9XHJcblxyXG4gIGNvbnN0IHsgZGF0YTogcHJvZmlsZSwgZXJyb3I6IHByb2ZpbGVFcnJvciB9ID0gYXdhaXQgc3VwYWJhc2VcclxuICAgIC5mcm9tKCdwcm9maWxlcycpXHJcbiAgICAuc2VsZWN0KCdyb2xlJylcclxuICAgIC5lcSgnaWQnLCB1c2VyLmlkKVxyXG4gICAgLnNpbmdsZSgpO1xyXG5cclxuICBpZiAocHJvZmlsZUVycm9yIHx8ICFwcm9maWxlKSB7XHJcbiAgICByZXR1cm4gZmFsc2U7XHJcbiAgfVxyXG5cclxuICByZXR1cm4gcHJvZmlsZS5yb2xlID09PSAnYWRtaW4nO1xyXG59XHJcblxyXG4vLyBVc2VyIEFjdGlvbnNcclxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGxpc3RVc2VycygpOiBQcm9taXNlPHsgZGF0YTogVXNlcltdIHwgbnVsbDsgZXJyb3I6IHN0cmluZyB8IG51bGwgfT4ge1xyXG4gIGNvbnN0IHN1cGFiYXNlID0gYXdhaXQgY3JlYXRlU3VwYWJhc2VDbGllbnQoKTtcclxuICBcclxuICB0cnkge1xyXG4gICAgLy8gQ2hlY2sgYWRtaW4gYWNjZXNzXHJcbiAgICBjb25zdCBhZG1pbkNoZWNrID0gYXdhaXQgaXNBZG1pbihzdXBhYmFzZSk7XHJcbiAgICBpZiAoIWFkbWluQ2hlY2spIHtcclxuICAgICAgcmV0dXJuIHsgZGF0YTogbnVsbCwgZXJyb3I6ICdBY2Nlc3MgZGVuaWVkLiBBZG1pbiByb2xlIHJlcXVpcmVkLicgfTtcclxuICAgIH1cclxuXHJcbiAgICAvLyBKb2luIHdpdGggYXV0aC51c2VycyB0byBnZXQgZW1haWxcclxuICAgIGNvbnN0IHsgZGF0YSwgZXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlXHJcbiAgICAgIC5mcm9tKCdwcm9maWxlcycpXHJcbiAgICAgIC5zZWxlY3QoYFxyXG4gICAgICAgIGlkLFxyXG4gICAgICAgIHVzZXJuYW1lLFxyXG4gICAgICAgIHJvbGUsXHJcbiAgICAgICAgcGxhbixcclxuICAgICAgICBjcmVhdGVkX2F0XHJcbiAgICAgIGApXHJcbiAgICAgIC5vcmRlcignY3JlYXRlZF9hdCcsIHsgYXNjZW5kaW5nOiBmYWxzZSB9KTtcclxuXHJcbiAgICBpZiAoZXJyb3IpIHtcclxuICAgICAgcmV0dXJuIHsgZGF0YTogbnVsbCwgZXJyb3I6IGVycm9yLm1lc3NhZ2UgfTtcclxuICAgIH1cclxuXHJcbiAgICAvLyBGb3Igbm93LCB3ZSdsbCByZXR1cm4gbW9jayBlbWFpbHMgc2luY2Ugd2UgY2FuJ3QgYWNjZXNzIGF1dGgudXNlcnMgZGlyZWN0bHkgZnJvbSBSTFNcclxuICAgIC8vIEluIGEgcmVhbCBpbXBsZW1lbnRhdGlvbiwgeW91J2QgbmVlZCBhIHNlcnZpY2Ugcm9sZSBrZXkgb3IgYSBkZWRpY2F0ZWQgUlBDIGZ1bmN0aW9uXHJcbiAgICBjb25zdCB1c2Vyc1dpdGhNb2NrRW1haWxzID0gZGF0YS5tYXAoKHVzZXI6IGFueSkgPT4gKHtcclxuICAgICAgLi4udXNlcixcclxuICAgICAgZW1haWw6IGAke3VzZXIudXNlcm5hbWV9QGV4YW1wbGUuY29tYCAvLyBNb2NrIGVtYWlsIGZvciBkZW1vIHB1cnBvc2VzXHJcbiAgICB9KSk7XHJcblxyXG4gICAgcmV0dXJuIHsgZGF0YTogdXNlcnNXaXRoTW9ja0VtYWlscyBhcyBVc2VyW10sIGVycm9yOiBudWxsIH07XHJcbiAgfSBjYXRjaCAoZXJyb3I6IGFueSkge1xyXG4gICAgcmV0dXJuIHsgZGF0YTogbnVsbCwgZXJyb3I6IGVycm9yLm1lc3NhZ2UgfTtcclxuICB9XHJcbn1cclxuXHJcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiB1cGRhdGVVc2VyKGlkOiBzdHJpbmcsIHVwZGF0ZXM6IFBhcnRpYWw8VXNlcj4pOiBQcm9taXNlPHsgZGF0YTogVXNlciB8IG51bGw7IGVycm9yOiBzdHJpbmcgfCBudWxsIH0+IHtcclxuICBjb25zdCBzdXBhYmFzZSA9IGF3YWl0IGNyZWF0ZVN1cGFiYXNlQ2xpZW50KCk7XHJcbiAgXHJcbiAgdHJ5IHtcclxuICAgIC8vIENoZWNrIGFkbWluIGFjY2Vzc1xyXG4gICAgY29uc3QgYWRtaW5DaGVjayA9IGF3YWl0IGlzQWRtaW4oc3VwYWJhc2UpO1xyXG4gICAgaWYgKCFhZG1pbkNoZWNrKSB7XHJcbiAgICAgIHJldHVybiB7IGRhdGE6IG51bGwsIGVycm9yOiAnQWNjZXNzIGRlbmllZC4gQWRtaW4gcm9sZSByZXF1aXJlZC4nIH07XHJcbiAgICB9XHJcblxyXG4gICAgLy8gVXNlIHRoZSBoYXJkZW5lZCBzZXJ2aWNlIGZ1bmN0aW9uXHJcbiAgICBjb25zdCB7IGRhdGEsIGVycm9yIH0gPSBhd2FpdCBzdXBhYmFzZVxyXG4gICAgICAuZnJvbSgncHJvZmlsZXMnKVxyXG4gICAgICAudXBkYXRlKHtcclxuICAgICAgICByb2xlOiB1cGRhdGVzLnJvbGUsXHJcbiAgICAgICAgcGxhbjogdXBkYXRlcy5wbGFuXHJcbiAgICAgIH0pXHJcbiAgICAgIC5lcSgnaWQnLCBpZClcclxuICAgICAgLnNlbGVjdCgpXHJcbiAgICAgIC5tYXliZVNpbmdsZSgpOyAvLyBDaGFuZ2VkIGZyb20gLnNpbmdsZSgpIHRvIC5tYXliZVNpbmdsZSgpXHJcblxyXG4gICAgaWYgKGVycm9yKSB7XHJcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ1tVU0VSIEFDVElPTl0gVXBkYXRlIGVycm9yOicsIGVycm9yKTtcclxuICAgICAgcmV0dXJuIHsgZGF0YTogbnVsbCwgZXJyb3I6IGVycm9yLm1lc3NhZ2UgfTtcclxuICAgIH1cclxuICAgIFxyXG4gICAgLy8gSGFuZGxlIGNhc2Ugd2hlcmUgbm8gcm93cyB3ZXJlIHVwZGF0ZWRcclxuICAgIGlmICghZGF0YSkge1xyXG4gICAgICBjb25zb2xlLmVycm9yKCdbVVNFUiBBQ1RJT05dIE5vIHByb2ZpbGUgZm91bmQgZm9yIHVwZGF0ZTonLCBpZCk7XHJcbiAgICAgIHJldHVybiB7IGRhdGE6IG51bGwsIGVycm9yOiAnTm8gcHJvZmlsZSBmb3VuZCBmb3IgdGhpcyB1c2VyJyB9O1xyXG4gICAgfVxyXG5cclxuICAgIC8vIEFkZCBtb2NrIGVtYWlsXHJcbiAgICBjb25zdCB1c2VyRGF0YSA9IHtcclxuICAgICAgLi4uZGF0YSxcclxuICAgICAgZW1haWw6IGAke2RhdGEudXNlcm5hbWV9QGV4YW1wbGUuY29tYFxyXG4gICAgfTtcclxuXHJcbiAgICByZXR1cm4geyBkYXRhOiB1c2VyRGF0YSBhcyBVc2VyLCBlcnJvcjogbnVsbCB9O1xyXG4gIH0gY2F0Y2ggKGVycm9yOiBhbnkpIHtcclxuICAgIGNvbnNvbGUuZXJyb3IoJ1tVU0VSIEFDVElPTl0gVW5leHBlY3RlZCBlcnJvcjonLCBlcnJvcik7XHJcbiAgICByZXR1cm4geyBkYXRhOiBudWxsLCBlcnJvcjogZXJyb3IubWVzc2FnZSB9O1xyXG4gIH1cclxufVxyXG5cclxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGRlbGV0ZVVzZXIoaWQ6IHN0cmluZyk6IFByb21pc2U8eyBlcnJvcjogc3RyaW5nIHwgbnVsbCB9PiB7XHJcbiAgY29uc3Qgc3VwYWJhc2UgPSBhd2FpdCBjcmVhdGVTdXBhYmFzZUNsaWVudCgpO1xyXG4gIFxyXG4gIHRyeSB7XHJcbiAgICAvLyBDaGVjayBhZG1pbiBhY2Nlc3NcclxuICAgIGNvbnN0IGFkbWluQ2hlY2sgPSBhd2FpdCBpc0FkbWluKHN1cGFiYXNlKTtcclxuICAgIGlmICghYWRtaW5DaGVjaykge1xyXG4gICAgICByZXR1cm4geyBlcnJvcjogJ0FjY2VzcyBkZW5pZWQuIEFkbWluIHJvbGUgcmVxdWlyZWQuJyB9O1xyXG4gICAgfVxyXG5cclxuICAgIC8vIE5vdGU6IEluIGEgcmVhbCBpbXBsZW1lbnRhdGlvbiwgeW91J2Qgd2FudCB0byBwcm9wZXJseSBkZWxldGUgdGhlIHVzZXJcclxuICAgIC8vIGZyb20gYXV0aC51c2VycyBhcyB3ZWxsLCBidXQgdGhhdCB0eXBpY2FsbHkgcmVxdWlyZXMgYSBzZXJ2aWNlIHJvbGUga2V5XHJcbiAgICAvLyBGb3Igbm93LCB3ZSdsbCBqdXN0IGRlbGV0ZSBmcm9tIHByb2ZpbGVzXHJcbiAgICBjb25zdCB7IGVycm9yIH0gPSBhd2FpdCBzdXBhYmFzZVxyXG4gICAgICAuZnJvbSgncHJvZmlsZXMnKVxyXG4gICAgICAuZGVsZXRlKClcclxuICAgICAgLmVxKCdpZCcsIGlkKTtcclxuXHJcbiAgICBpZiAoZXJyb3IpIHtcclxuICAgICAgcmV0dXJuIHsgZXJyb3I6IGVycm9yLm1lc3NhZ2UgfTtcclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4geyBlcnJvcjogbnVsbCB9O1xyXG4gIH0gY2F0Y2ggKGVycm9yOiBhbnkpIHtcclxuICAgIHJldHVybiB7IGVycm9yOiBlcnJvci5tZXNzYWdlIH07XHJcbiAgfVxyXG59XHJcblxyXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gc2VhcmNoVXNlcnMoc2VhcmNoVGVybTogc3RyaW5nKTogUHJvbWlzZTx7IGRhdGE6IFVzZXJbXSB8IG51bGw7IGVycm9yOiBzdHJpbmcgfCBudWxsIH0+IHtcclxuICBjb25zdCBzdXBhYmFzZSA9IGF3YWl0IGNyZWF0ZVN1cGFiYXNlQ2xpZW50KCk7XHJcbiAgXHJcbiAgdHJ5IHtcclxuICAgIC8vIENoZWNrIGFkbWluIGFjY2Vzc1xyXG4gICAgY29uc3QgYWRtaW5DaGVjayA9IGF3YWl0IGlzQWRtaW4oc3VwYWJhc2UpO1xyXG4gICAgaWYgKCFhZG1pbkNoZWNrKSB7XHJcbiAgICAgIHJldHVybiB7IGRhdGE6IG51bGwsIGVycm9yOiAnQWNjZXNzIGRlbmllZC4gQWRtaW4gcm9sZSByZXF1aXJlZC4nIH07XHJcbiAgICB9XHJcblxyXG4gICAgY29uc3QgeyBkYXRhLCBlcnJvciB9ID0gYXdhaXQgc3VwYWJhc2VcclxuICAgICAgLmZyb20oJ3Byb2ZpbGVzJylcclxuICAgICAgLnNlbGVjdChgXHJcbiAgICAgICAgaWQsXHJcbiAgICAgICAgdXNlcm5hbWUsXHJcbiAgICAgICAgcm9sZSxcclxuICAgICAgICBwbGFuLFxyXG4gICAgICAgIGNyZWF0ZWRfYXRcclxuICAgICAgYClcclxuICAgICAgLm9yKGB1c2VybmFtZS5pbGlrZS4lJHtzZWFyY2hUZXJtfSUscm9sZS5pbGlrZS4lJHtzZWFyY2hUZXJtfSVgKVxyXG4gICAgICAub3JkZXIoJ2NyZWF0ZWRfYXQnLCB7IGFzY2VuZGluZzogZmFsc2UgfSk7XHJcblxyXG4gICAgaWYgKGVycm9yKSB7XHJcbiAgICAgIHJldHVybiB7IGRhdGE6IG51bGwsIGVycm9yOiBlcnJvci5tZXNzYWdlIH07XHJcbiAgICB9XHJcblxyXG4gICAgLy8gQWRkIG1vY2sgZW1haWxzXHJcbiAgICBjb25zdCB1c2Vyc1dpdGhNb2NrRW1haWxzID0gZGF0YS5tYXAoKHVzZXI6IGFueSkgPT4gKHtcclxuICAgICAgLi4udXNlcixcclxuICAgICAgZW1haWw6IGAke3VzZXIudXNlcm5hbWV9QGV4YW1wbGUuY29tYFxyXG4gICAgfSkpO1xyXG5cclxuICAgIHJldHVybiB7IGRhdGE6IHVzZXJzV2l0aE1vY2tFbWFpbHMgYXMgVXNlcltdLCBlcnJvcjogbnVsbCB9O1xyXG4gIH0gY2F0Y2ggKGVycm9yOiBhbnkpIHtcclxuICAgIHJldHVybiB7IGRhdGE6IG51bGwsIGVycm9yOiBlcnJvci5tZXNzYWdlIH07XHJcbiAgfVxyXG59Il0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJ5UkE2SXNCLHVMQUFBIn0=
}),
"[project]/src/components/admin/UserManager.tsx [app-ssr] (ecmascript)", ((__turbopack_context__) => {
"use strict";

__turbopack_context__.s([
    "default",
    ()=>__TURBOPACK__default__export__
]);
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/next/dist/server/route-modules/app-page/vendored/ssr/react-jsx-dev-runtime.js [app-ssr] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/next/dist/server/route-modules/app-page/vendored/ssr/react.js [app-ssr] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$actions$2f$data$3a$3829ed__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$text$2f$javascript$3e$__ = __turbopack_context__.i("[project]/src/actions/data:3829ed [app-ssr] (ecmascript) <text/javascript>");
var __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$actions$2f$data$3a$bc614c__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$text$2f$javascript$3e$__ = __turbopack_context__.i("[project]/src/actions/data:bc614c [app-ssr] (ecmascript) <text/javascript>");
var __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$actions$2f$data$3a$ddf6de__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$text$2f$javascript$3e$__ = __turbopack_context__.i("[project]/src/actions/data:ddf6de [app-ssr] (ecmascript) <text/javascript>");
'use client';
;
;
;
const UserManager = ()=>{
    const [users, setUsers] = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["useState"])([]);
    const [loading, setLoading] = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["useState"])(true);
    const [error, setError] = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["useState"])(null);
    const [searchTerm, setSearchTerm] = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["useState"])('');
    const [originalUsers, setOriginalUsers] = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["useState"])([]);
    (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["useEffect"])(()=>{
        loadUsers();
    }, []);
    const loadUsers = async ()=>{
        setLoading(true);
        setError(null);
        try {
            const result = await (0, __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$actions$2f$data$3a$3829ed__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$text$2f$javascript$3e$__["listUsers"])();
            if (result.error) {
                setError(result.error);
            } else if (result.data) {
                setUsers(result.data);
                setOriginalUsers(result.data); // Store original for search
            }
        } catch (err) {
            setError('Failed to load users');
        } finally{
            setLoading(false);
        }
    };
    // Use original users for filtering
    const filteredUsers = originalUsers.filter((user)=>user.username.toLowerCase().includes(searchTerm.toLowerCase()) || user.email.toLowerCase().includes(searchTerm.toLowerCase()) || user.role.toLowerCase().includes(searchTerm.toLowerCase()));
    const updateUserRole = async (userId, newRole)=>{
        try {
            // Use the new hardened service function
            const result = await (0, __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$actions$2f$data$3a$bc614c__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$text$2f$javascript$3e$__["updateUser"])(userId, {
                role: newRole
            });
            if (result.error) {
                setError(result.error);
                console.error('Update user role error:', result.error);
            } else if (result.data) {
                setUsers(users.map((user)=>user.id === userId ? result.data : user));
            }
        } catch (err) {
            console.error('Failed to update user role:', err);
            setError('Failed to update user role');
        }
    };
    const updateUserPlan = async (userId, newPlan)=>{
        try {
            const result = await (0, __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$actions$2f$data$3a$bc614c__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$text$2f$javascript$3e$__["updateUser"])(userId, {
                plan: newPlan
            });
            if (result.error) {
                setError(result.error);
            } else if (result.data) {
                setUsers(users.map((user)=>user.id === userId ? result.data : user));
            }
        } catch (err) {
            setError('Failed to update user plan');
        }
    };
    return /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
        className: "h-full flex flex-col",
        children: [
            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                className: "p-4 border-b border-gray-700",
                children: [
                    /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("h3", {
                        className: "text-lg font-semibold text-white mb-4",
                        children: "Users"
                    }, void 0, false, {
                        fileName: "[project]/src/components/admin/UserManager.tsx",
                        lineNumber: 87,
                        columnNumber: 9
                    }, ("TURBOPACK compile-time value", void 0)),
                    /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                        className: "mb-4",
                        children: /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("input", {
                            type: "text",
                            value: searchTerm,
                            onChange: async (e)=>{
                                const value = e.target.value;
                                setSearchTerm(value);
                                // If search term is empty, load all users again
                                if (!value.trim()) {
                                    loadUsers();
                                } else {
                                // For now, we'll just filter client-side
                                // In a real implementation, you'd call searchUsers(value)
                                }
                            },
                            placeholder: "Search users...",
                            className: "w-full p-2 rounded bg-gray-800 border border-gray-600 text-white"
                        }, void 0, false, {
                            fileName: "[project]/src/components/admin/UserManager.tsx",
                            lineNumber: 90,
                            columnNumber: 11
                        }, ("TURBOPACK compile-time value", void 0))
                    }, void 0, false, {
                        fileName: "[project]/src/components/admin/UserManager.tsx",
                        lineNumber: 89,
                        columnNumber: 9
                    }, ("TURBOPACK compile-time value", void 0)),
                    error && /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                        className: "mb-4 p-2 bg-red-900/30 border border-red-700 rounded text-red-300 text-sm",
                        children: error
                    }, void 0, false, {
                        fileName: "[project]/src/components/admin/UserManager.tsx",
                        lineNumber: 111,
                        columnNumber: 11
                    }, ("TURBOPACK compile-time value", void 0))
                ]
            }, void 0, true, {
                fileName: "[project]/src/components/admin/UserManager.tsx",
                lineNumber: 86,
                columnNumber: 7
            }, ("TURBOPACK compile-time value", void 0)),
            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                className: "flex-1 overflow-y-auto",
                children: loading ? /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                    className: "p-4 text-center text-gray-400",
                    children: "Loading users..."
                }, void 0, false, {
                    fileName: "[project]/src/components/admin/UserManager.tsx",
                    lineNumber: 119,
                    columnNumber: 11
                }, ("TURBOPACK compile-time value", void 0)) : filteredUsers.length === 0 ? /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                    className: "p-4 text-center text-gray-400",
                    children: "No users found"
                }, void 0, false, {
                    fileName: "[project]/src/components/admin/UserManager.tsx",
                    lineNumber: 121,
                    columnNumber: 11
                }, ("TURBOPACK compile-time value", void 0)) : /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                    className: "overflow-x-auto",
                    children: /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("table", {
                        className: "min-w-full divide-y divide-gray-700",
                        children: [
                            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("thead", {
                                children: /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("tr", {
                                    children: [
                                        /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("th", {
                                            className: "px-4 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider",
                                            children: "Username"
                                        }, void 0, false, {
                                            fileName: "[project]/src/components/admin/UserManager.tsx",
                                            lineNumber: 127,
                                            columnNumber: 19
                                        }, ("TURBOPACK compile-time value", void 0)),
                                        /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("th", {
                                            className: "px-4 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider",
                                            children: "Email"
                                        }, void 0, false, {
                                            fileName: "[project]/src/components/admin/UserManager.tsx",
                                            lineNumber: 128,
                                            columnNumber: 19
                                        }, ("TURBOPACK compile-time value", void 0)),
                                        /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("th", {
                                            className: "px-4 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider",
                                            children: "Role"
                                        }, void 0, false, {
                                            fileName: "[project]/src/components/admin/UserManager.tsx",
                                            lineNumber: 129,
                                            columnNumber: 19
                                        }, ("TURBOPACK compile-time value", void 0)),
                                        /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("th", {
                                            className: "px-4 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider",
                                            children: "Plan"
                                        }, void 0, false, {
                                            fileName: "[project]/src/components/admin/UserManager.tsx",
                                            lineNumber: 130,
                                            columnNumber: 19
                                        }, ("TURBOPACK compile-time value", void 0)),
                                        /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("th", {
                                            className: "px-4 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider",
                                            children: "Actions"
                                        }, void 0, false, {
                                            fileName: "[project]/src/components/admin/UserManager.tsx",
                                            lineNumber: 131,
                                            columnNumber: 19
                                        }, ("TURBOPACK compile-time value", void 0))
                                    ]
                                }, void 0, true, {
                                    fileName: "[project]/src/components/admin/UserManager.tsx",
                                    lineNumber: 126,
                                    columnNumber: 17
                                }, ("TURBOPACK compile-time value", void 0))
                            }, void 0, false, {
                                fileName: "[project]/src/components/admin/UserManager.tsx",
                                lineNumber: 125,
                                columnNumber: 15
                            }, ("TURBOPACK compile-time value", void 0)),
                            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("tbody", {
                                className: "divide-y divide-gray-700",
                                children: filteredUsers.map((user)=>/*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("tr", {
                                        className: "hover:bg-gray-800/50",
                                        children: [
                                            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("td", {
                                                className: "px-4 py-3 whitespace-nowrap text-sm text-white",
                                                children: user.username
                                            }, void 0, false, {
                                                fileName: "[project]/src/components/admin/UserManager.tsx",
                                                lineNumber: 137,
                                                columnNumber: 21
                                            }, ("TURBOPACK compile-time value", void 0)),
                                            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("td", {
                                                className: "px-4 py-3 whitespace-nowrap text-sm text-gray-300",
                                                children: user.email
                                            }, void 0, false, {
                                                fileName: "[project]/src/components/admin/UserManager.tsx",
                                                lineNumber: 138,
                                                columnNumber: 21
                                            }, ("TURBOPACK compile-time value", void 0)),
                                            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("td", {
                                                className: "px-4 py-3 whitespace-nowrap",
                                                children: /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("select", {
                                                    value: user.role,
                                                    onChange: (e)=>updateUserRole(user.id, e.target.value),
                                                    className: "bg-gray-700 border border-gray-600 rounded text-white text-sm p-1",
                                                    children: [
                                                        /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("option", {
                                                            value: "student",
                                                            children: "Student"
                                                        }, void 0, false, {
                                                            fileName: "[project]/src/components/admin/UserManager.tsx",
                                                            lineNumber: 145,
                                                            columnNumber: 25
                                                        }, ("TURBOPACK compile-time value", void 0)),
                                                        /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("option", {
                                                            value: "teacher",
                                                            children: "Teacher"
                                                        }, void 0, false, {
                                                            fileName: "[project]/src/components/admin/UserManager.tsx",
                                                            lineNumber: 146,
                                                            columnNumber: 25
                                                        }, ("TURBOPACK compile-time value", void 0)),
                                                        /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("option", {
                                                            value: "admin",
                                                            children: "Admin"
                                                        }, void 0, false, {
                                                            fileName: "[project]/src/components/admin/UserManager.tsx",
                                                            lineNumber: 147,
                                                            columnNumber: 25
                                                        }, ("TURBOPACK compile-time value", void 0))
                                                    ]
                                                }, void 0, true, {
                                                    fileName: "[project]/src/components/admin/UserManager.tsx",
                                                    lineNumber: 140,
                                                    columnNumber: 23
                                                }, ("TURBOPACK compile-time value", void 0))
                                            }, void 0, false, {
                                                fileName: "[project]/src/components/admin/UserManager.tsx",
                                                lineNumber: 139,
                                                columnNumber: 21
                                            }, ("TURBOPACK compile-time value", void 0)),
                                            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("td", {
                                                className: "px-4 py-3 whitespace-nowrap",
                                                children: /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("select", {
                                                    value: user.plan,
                                                    onChange: (e)=>updateUserPlan(user.id, e.target.value),
                                                    className: "bg-gray-700 border border-gray-600 rounded text-white text-sm p-1",
                                                    children: [
                                                        /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("option", {
                                                            value: "free",
                                                            children: "Free"
                                                        }, void 0, false, {
                                                            fileName: "[project]/src/components/admin/UserManager.tsx",
                                                            lineNumber: 156,
                                                            columnNumber: 25
                                                        }, ("TURBOPACK compile-time value", void 0)),
                                                        /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("option", {
                                                            value: "premium",
                                                            children: "Premium"
                                                        }, void 0, false, {
                                                            fileName: "[project]/src/components/admin/UserManager.tsx",
                                                            lineNumber: 157,
                                                            columnNumber: 25
                                                        }, ("TURBOPACK compile-time value", void 0))
                                                    ]
                                                }, void 0, true, {
                                                    fileName: "[project]/src/components/admin/UserManager.tsx",
                                                    lineNumber: 151,
                                                    columnNumber: 23
                                                }, ("TURBOPACK compile-time value", void 0))
                                            }, void 0, false, {
                                                fileName: "[project]/src/components/admin/UserManager.tsx",
                                                lineNumber: 150,
                                                columnNumber: 21
                                            }, ("TURBOPACK compile-time value", void 0)),
                                            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("td", {
                                                className: "px-4 py-3 whitespace-nowrap text-sm",
                                                children: /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("button", {
                                                    className: "text-red-400 hover:text-red-300 text-sm hover-lift",
                                                    onClick: async ()=>{
                                                        if (window.confirm('Are you sure you want to delete this user?')) {
                                                            const result = await (0, __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$actions$2f$data$3a$ddf6de__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$text$2f$javascript$3e$__["deleteUser"])(user.id);
                                                            if (result.error) {
                                                                setError(result.error);
                                                            } else {
                                                                setUsers(users.filter((u)=>u.id !== user.id));
                                                            }
                                                        }
                                                    },
                                                    children: "Delete"
                                                }, void 0, false, {
                                                    fileName: "[project]/src/components/admin/UserManager.tsx",
                                                    lineNumber: 161,
                                                    columnNumber: 23
                                                }, ("TURBOPACK compile-time value", void 0))
                                            }, void 0, false, {
                                                fileName: "[project]/src/components/admin/UserManager.tsx",
                                                lineNumber: 160,
                                                columnNumber: 21
                                            }, ("TURBOPACK compile-time value", void 0))
                                        ]
                                    }, user.id, true, {
                                        fileName: "[project]/src/components/admin/UserManager.tsx",
                                        lineNumber: 136,
                                        columnNumber: 19
                                    }, ("TURBOPACK compile-time value", void 0)))
                            }, void 0, false, {
                                fileName: "[project]/src/components/admin/UserManager.tsx",
                                lineNumber: 134,
                                columnNumber: 15
                            }, ("TURBOPACK compile-time value", void 0))
                        ]
                    }, void 0, true, {
                        fileName: "[project]/src/components/admin/UserManager.tsx",
                        lineNumber: 124,
                        columnNumber: 13
                    }, ("TURBOPACK compile-time value", void 0))
                }, void 0, false, {
                    fileName: "[project]/src/components/admin/UserManager.tsx",
                    lineNumber: 123,
                    columnNumber: 11
                }, ("TURBOPACK compile-time value", void 0))
            }, void 0, false, {
                fileName: "[project]/src/components/admin/UserManager.tsx",
                lineNumber: 117,
                columnNumber: 7
            }, ("TURBOPACK compile-time value", void 0))
        ]
    }, void 0, true, {
        fileName: "[project]/src/components/admin/UserManager.tsx",
        lineNumber: 85,
        columnNumber: 5
    }, ("TURBOPACK compile-time value", void 0));
};
const __TURBOPACK__default__export__ = UserManager;
}),
"[project]/src/app/admin/page.tsx [app-ssr] (ecmascript)", ((__turbopack_context__) => {
"use strict";

__turbopack_context__.s([
    "default",
    ()=>__TURBOPACK__default__export__
]);
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/next/dist/server/route-modules/app-page/vendored/ssr/react-jsx-dev-runtime.js [app-ssr] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/next/dist/server/route-modules/app-page/vendored/ssr/react.js [app-ssr] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$context$2f$AuthContext$2e$tsx__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/src/context/AuthContext.tsx [app-ssr] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$lib$2f$supabase$2e$ts__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/src/lib/supabase.ts [app-ssr] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$components$2f$layout$2f$AppShell$2e$tsx__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/src/components/layout/AppShell.tsx [app-ssr] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$components$2f$admin$2f$CourseList$2e$tsx__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/src/components/admin/CourseList.tsx [app-ssr] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$components$2f$admin$2f$ModuleList$2e$tsx__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/src/components/admin/ModuleList.tsx [app-ssr] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$components$2f$admin$2f$LessonList$2e$tsx__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/src/components/admin/LessonList.tsx [app-ssr] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$components$2f$admin$2f$LessonEditor$2e$tsx__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/src/components/admin/LessonEditor.tsx [app-ssr] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$components$2f$admin$2f$AnnouncementManager$2e$tsx__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/src/components/admin/AnnouncementManager.tsx [app-ssr] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$components$2f$admin$2f$UserManager$2e$tsx__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/src/components/admin/UserManager.tsx [app-ssr] (ecmascript)");
'use client';
;
;
;
;
;
;
;
;
;
;
;
const AdminPage = ()=>{
    const { state } = (0, __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$context$2f$AuthContext$2e$tsx__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["useAuthStore"])();
    const user = state.user;
    const [profile, setProfile] = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["useState"])(null);
    const [loading, setLoading] = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["useState"])(true);
    const [activeTab, setActiveTab] = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["useState"])('courses');
    // Add state for password protection
    const [password, setPassword] = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["useState"])('');
    const [showPasswordInput, setShowPasswordInput] = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["useState"])(true);
    // Check if password is correct (hardcoded for now)
    const checkPassword = ()=>{
        if (password === '0026') {
            setShowPasswordInput(false);
        } else {
            alert('Incorrect password');
        }
    };
    // Course management state
    const [selectedCourseId, setSelectedCourseId] = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["useState"])(null);
    const [selectedModuleId, setSelectedModuleId] = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["useState"])(null);
    const [selectedLessonId, setSelectedLessonId] = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["useState"])(null);
    const [lessonEditorOpen, setLessonEditorOpen] = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["useState"])(false);
    const [editingLesson, setEditingLesson] = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["useState"])(null);
    // State for lesson editing
    const [lessons, setLessons] = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["useState"])([]);
    // Add debug prints to track course creation
    (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["useEffect"])(()=>{
        console.log('DEBUG: Admin page rendered, activeTab:', activeTab);
        console.log('DEBUG: Selected IDs - Course:', selectedCourseId, 'Module:', selectedModuleId, 'Lesson:', selectedLessonId);
    }, [
        activeTab,
        selectedCourseId,
        selectedModuleId,
        selectedLessonId
    ]);
    (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["useEffect"])(()=>{
        if (user) {
            fetchProfile();
        }
    }, [
        user
    ]);
    const fetchProfile = async ()=>{
        try {
            setLoading(true);
            const { data, error } = await __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$lib$2f$supabase$2e$ts__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["supabase"].from('profiles').select('*').eq('id', user.id).single();
            if (error) throw error;
            setProfile(data);
            // Debug print to show account role and plan
            console.log('DEBUG: Admin page - Account role and plan:', {
                userId: user.id,
                role: data?.role,
                plan: data?.plan,
                username: data?.username
            });
            // TEMPORARY: Update role to admin if not already set (for debugging purposes)
            if (data?.role !== 'admin' && data?.role !== 'teacher') {
                console.log('DEBUG: User does not have admin/teacher role. Showing role update option.');
            }
        } catch (error) {
            console.error('Error fetching profile:', error);
        } finally{
            setLoading(false);
        }
    };
    // Temporary function to update user role to admin (for debugging)
    const updateRoleToAdmin = async ()=>{
        if (!user || !profile) return;
        try {
            const { error } = await __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$lib$2f$supabase$2e$ts__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["supabase"].from('profiles').update({
                role: 'admin'
            }).eq('id', user.id);
            if (error) throw error;
            // Refresh the profile
            fetchProfile();
            alert('Role updated to admin. Please refresh the page.');
        } catch (error) {
            console.error('Error updating role:', error);
            alert('Error updating role');
        }
    };
    const handleCreateLesson = (moduleId)=>{
        setSelectedModuleId(moduleId);
        setEditingLesson(null);
        setLessonEditorOpen(true);
    };
    const handleEditLesson = (lesson)=>{
        setEditingLesson(lesson);
        setLessonEditorOpen(true);
    };
    const handleLessonSaved = (lesson)=>{
        // Update the selected lesson if it was edited
        if (selectedLessonId === lesson.id) {
            setSelectedLessonId(lesson.id);
        }
    };
    const handleLessonCreated = (lesson)=>{
        // Select the newly created lesson
        setSelectedLessonId(lesson.id);
    };
    // Function to trigger refresh of public UI
    const triggerPublicUIRefresh = ()=>{
        // In a real app, this would call router.refresh or similar
        // For now, we'll rely on the client-side cache invalidation
        console.log('Triggering public UI refresh');
    // We could potentially use router.refresh() if needed
    // router.refresh();
    };
    if (loading) {
        return /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$src$2f$components$2f$layout$2f$AppShell$2e$tsx__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["default"], {
            children: /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                className: "container mx-auto px-4 py-8",
                children: [
                    /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("h1", {
                        className: "text-3xl font-bold text-white mb-8",
                        children: "Admin Panel"
                    }, void 0, false, {
                        fileName: "[project]/src/app/admin/page.tsx",
                        lineNumber: 146,
                        columnNumber: 11
                    }, ("TURBOPACK compile-time value", void 0)),
                    /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("p", {
                        className: "text-gray-400",
                        children: "Loading..."
                    }, void 0, false, {
                        fileName: "[project]/src/app/admin/page.tsx",
                        lineNumber: 147,
                        columnNumber: 11
                    }, ("TURBOPACK compile-time value", void 0))
                ]
            }, void 0, true, {
                fileName: "[project]/src/app/admin/page.tsx",
                lineNumber: 145,
                columnNumber: 9
            }, ("TURBOPACK compile-time value", void 0))
        }, void 0, false, {
            fileName: "[project]/src/app/admin/page.tsx",
            lineNumber: 144,
            columnNumber: 7
        }, ("TURBOPACK compile-time value", void 0));
    }
    // Allow access if user has admin/teacher role OR if we're in development mode allowing role updates
    const hasAdminAccess = profile && (profile.role === 'admin' || profile.role === 'teacher');
    // If user doesn't have proper role, show a message with option to update role (temporary for debugging)
    if (!hasAdminAccess) {
        return /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$src$2f$components$2f$layout$2f$AppShell$2e$tsx__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["default"], {
            children: /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                className: "container mx-auto px-4 py-8",
                children: [
                    /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("h1", {
                        className: "text-3xl font-bold text-white mb-8",
                        children: "Admin Panel"
                    }, void 0, false, {
                        fileName: "[project]/src/app/admin/page.tsx",
                        lineNumber: 161,
                        columnNumber: 11
                    }, ("TURBOPACK compile-time value", void 0)),
                    /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                        className: "bg-yellow-900/20 border border-yellow-700 rounded-lg p-4 mb-4",
                        children: /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("p", {
                            className: "text-yellow-300",
                            children: [
                                "You do not have admin access yet. Your role is: ",
                                profile?.role || 'not set'
                            ]
                        }, void 0, true, {
                            fileName: "[project]/src/app/admin/page.tsx",
                            lineNumber: 163,
                            columnNumber: 13
                        }, ("TURBOPACK compile-time value", void 0))
                    }, void 0, false, {
                        fileName: "[project]/src/app/admin/page.tsx",
                        lineNumber: 162,
                        columnNumber: 11
                    }, ("TURBOPACK compile-time value", void 0)),
                    /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                        className: "flex gap-4",
                        children: [
                            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("button", {
                                onClick: updateRoleToAdmin,
                                className: "px-4 py-2 bg-accent-primary text-white rounded-md font-medium hover:bg-accent-primary/90 transition-colors border border-accent-primary",
                                children: "Grant Admin Access (Temporary)"
                            }, void 0, false, {
                                fileName: "[project]/src/app/admin/page.tsx",
                                lineNumber: 166,
                                columnNumber: 13
                            }, ("TURBOPACK compile-time value", void 0)),
                            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("button", {
                                onClick: ()=>window.location.reload(),
                                className: "px-4 py-2 bg-gray-700 text-white rounded-md font-medium hover:bg-gray-600 transition-colors",
                                children: "Refresh"
                            }, void 0, false, {
                                fileName: "[project]/src/app/admin/page.tsx",
                                lineNumber: 172,
                                columnNumber: 13
                            }, ("TURBOPACK compile-time value", void 0))
                        ]
                    }, void 0, true, {
                        fileName: "[project]/src/app/admin/page.tsx",
                        lineNumber: 165,
                        columnNumber: 11
                    }, ("TURBOPACK compile-time value", void 0))
                ]
            }, void 0, true, {
                fileName: "[project]/src/app/admin/page.tsx",
                lineNumber: 160,
                columnNumber: 9
            }, ("TURBOPACK compile-time value", void 0))
        }, void 0, false, {
            fileName: "[project]/src/app/admin/page.tsx",
            lineNumber: 159,
            columnNumber: 7
        }, ("TURBOPACK compile-time value", void 0));
    }
    return /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$src$2f$components$2f$layout$2f$AppShell$2e$tsx__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["default"], {
        children: [
            showPasswordInput ? /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                className: "container mx-auto px-4 py-8 flex flex-col items-center justify-center h-screen",
                children: /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                    className: "bg-gray-800 p-8 rounded-lg shadow-lg w-full max-w-md",
                    children: [
                        /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("h1", {
                            className: "text-3xl font-bold text-white mb-6 text-center",
                            children: "Admin Panel Access"
                        }, void 0, false, {
                            fileName: "[project]/src/app/admin/page.tsx",
                            lineNumber: 189,
                            columnNumber: 13
                        }, ("TURBOPACK compile-time value", void 0)),
                        /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("p", {
                            className: "text-gray-300 mb-6 text-center",
                            children: "Enter the admin password to continue"
                        }, void 0, false, {
                            fileName: "[project]/src/app/admin/page.tsx",
                            lineNumber: 190,
                            columnNumber: 13
                        }, ("TURBOPACK compile-time value", void 0)),
                        /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                            className: "space-y-4",
                            children: [
                                /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("input", {
                                    type: "password",
                                    value: password,
                                    onChange: (e)=>setPassword(e.target.value),
                                    placeholder: "Enter password",
                                    className: "w-full px-4 py-3 bg-gray-700 border border-gray-600 rounded-md text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-accent-primary"
                                }, void 0, false, {
                                    fileName: "[project]/src/app/admin/page.tsx",
                                    lineNumber: 192,
                                    columnNumber: 15
                                }, ("TURBOPACK compile-time value", void 0)),
                                /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("button", {
                                    onClick: checkPassword,
                                    className: "w-full bg-accent-primary hover:bg-accent-primary/90 text-white py-3 rounded-md font-medium transition-colors hover-lift border border-accent-primary",
                                    children: "Enter Admin Panel"
                                }, void 0, false, {
                                    fileName: "[project]/src/app/admin/page.tsx",
                                    lineNumber: 199,
                                    columnNumber: 15
                                }, ("TURBOPACK compile-time value", void 0))
                            ]
                        }, void 0, true, {
                            fileName: "[project]/src/app/admin/page.tsx",
                            lineNumber: 191,
                            columnNumber: 13
                        }, ("TURBOPACK compile-time value", void 0))
                    ]
                }, void 0, true, {
                    fileName: "[project]/src/app/admin/page.tsx",
                    lineNumber: 188,
                    columnNumber: 11
                }, ("TURBOPACK compile-time value", void 0))
            }, void 0, false, {
                fileName: "[project]/src/app/admin/page.tsx",
                lineNumber: 187,
                columnNumber: 9
            }, ("TURBOPACK compile-time value", void 0)) : /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                className: "container mx-auto px-4 py-8 h-screen flex flex-col",
                children: [
                    /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("h1", {
                        className: "text-3xl font-bold text-white mb-8",
                        children: "Admin Panel"
                    }, void 0, false, {
                        fileName: "[project]/src/app/admin/page.tsx",
                        lineNumber: 210,
                        columnNumber: 11
                    }, ("TURBOPACK compile-time value", void 0)),
                    /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                        className: "flex space-x-1 mb-6 bg-gray-800 p-1 rounded-lg w-fit",
                        children: [
                            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("button", {
                                onClick: ()=>{
                                    setActiveTab('courses');
                                    // Reset selection when switching tabs
                                    setSelectedCourseId(null);
                                    setSelectedModuleId(null);
                                    setSelectedLessonId(null);
                                },
                                className: `px-4 py-2 rounded-md transition-colors hover-lift ${activeTab === 'courses' ? 'bg-accent-primary text-white border border-accent-primary' : 'text-gray-300 hover:text-white'}`,
                                children: "Manage Courses"
                            }, void 0, false, {
                                fileName: "[project]/src/app/admin/page.tsx",
                                lineNumber: 213,
                                columnNumber: 13
                            }, ("TURBOPACK compile-time value", void 0)),
                            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("button", {
                                onClick: ()=>setActiveTab('announcements'),
                                className: `px-4 py-2 rounded-md transition-colors hover-lift ${activeTab === 'announcements' ? 'bg-accent-primary text-white border border-accent-primary' : 'text-gray-300 hover:text-white'}`,
                                children: "Announcements"
                            }, void 0, false, {
                                fileName: "[project]/src/app/admin/page.tsx",
                                lineNumber: 225,
                                columnNumber: 13
                            }, ("TURBOPACK compile-time value", void 0)),
                            profile?.role === 'admin' && /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("button", {
                                onClick: ()=>setActiveTab('users'),
                                className: `px-4 py-2 rounded-md transition-colors hover-lift ${activeTab === 'users' ? 'bg-accent-primary text-white border border-accent-primary' : 'text-gray-300 hover:text-white'}`,
                                children: "User Management"
                            }, void 0, false, {
                                fileName: "[project]/src/app/admin/page.tsx",
                                lineNumber: 232,
                                columnNumber: 15
                            }, ("TURBOPACK compile-time value", void 0))
                        ]
                    }, void 0, true, {
                        fileName: "[project]/src/app/admin/page.tsx",
                        lineNumber: 212,
                        columnNumber: 11
                    }, ("TURBOPACK compile-time value", void 0)),
                    activeTab === 'courses' && /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                        className: "flex-1 flex flex-col min-h-0",
                        children: /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                            className: "flex-1 flex gap-4",
                            children: [
                                /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                                    className: "w-1/3 flex flex-col",
                                    children: /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$src$2f$components$2f$admin$2f$CourseList$2e$tsx__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["default"], {
                                        selectedCourseId: selectedCourseId,
                                        onSelectCourse: (id)=>{
                                            setSelectedCourseId(id);
                                            setSelectedModuleId(null);
                                            setSelectedLessonId(null);
                                        },
                                        onCourseCreated: ()=>{
                                            // Refresh the course list when a new course is created
                                            console.log('DEBUG: Course created, triggering refresh');
                                            if (selectedCourseId) {
                                                setSelectedCourseId(selectedCourseId);
                                            }
                                        },
                                        onCourseUpdated: ()=>{
                                            // Refresh modules if current course was updated
                                            console.log('DEBUG: Course updated, triggering refresh');
                                            if (selectedCourseId) {
                                                setSelectedCourseId(selectedCourseId);
                                            }
                                            // Trigger public UI refresh after course update
                                            triggerPublicUIRefresh();
                                        }
                                    }, void 0, false, {
                                        fileName: "[project]/src/app/admin/page.tsx",
                                        lineNumber: 247,
                                        columnNumber: 19
                                    }, ("TURBOPACK compile-time value", void 0))
                                }, void 0, false, {
                                    fileName: "[project]/src/app/admin/page.tsx",
                                    lineNumber: 246,
                                    columnNumber: 17
                                }, ("TURBOPACK compile-time value", void 0)),
                                /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                                    className: "w-1/3 flex flex-col",
                                    children: /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$src$2f$components$2f$admin$2f$ModuleList$2e$tsx__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["default"], {
                                        courseId: selectedCourseId,
                                        selectedModuleId: selectedModuleId,
                                        onSelectModule: (id)=>{
                                            setSelectedModuleId(id);
                                            setSelectedLessonId(null);
                                        },
                                        onModuleCreated: ()=>{
                                            // Refresh the module list when a new module is created
                                            console.log('DEBUG: Module created, triggering refresh');
                                            if (selectedCourseId) {
                                                setSelectedModuleId(selectedModuleId);
                                            }
                                        },
                                        onModuleUpdated: ()=>{
                                            // Refresh lessons if current module was updated
                                            console.log('DEBUG: Module updated, triggering refresh');
                                            if (selectedModuleId) {
                                                setSelectedModuleId(selectedModuleId);
                                            }
                                            // Trigger public UI refresh after module update
                                            triggerPublicUIRefresh();
                                        }
                                    }, void 0, false, {
                                        fileName: "[project]/src/app/admin/page.tsx",
                                        lineNumber: 276,
                                        columnNumber: 19
                                    }, ("TURBOPACK compile-time value", void 0))
                                }, void 0, false, {
                                    fileName: "[project]/src/app/admin/page.tsx",
                                    lineNumber: 275,
                                    columnNumber: 17
                                }, ("TURBOPACK compile-time value", void 0)),
                                /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                                    className: "w-1/3 flex flex-col",
                                    children: [
                                        /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$src$2f$components$2f$admin$2f$LessonList$2e$tsx__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["default"], {
                                            moduleId: selectedModuleId,
                                            selectedLessonId: selectedLessonId,
                                            onSelectLesson: (id)=>setSelectedLessonId(id),
                                            onLessonCreated: ()=>{
                                                // Refresh lessons when a new lesson is created
                                                console.log('DEBUG: Lesson created, triggering refresh');
                                                if (selectedModuleId) {
                                                    // Force refresh by temporarily clearing the module selection
                                                    const tempModuleId = selectedModuleId;
                                                    setSelectedModuleId(null);
                                                    setTimeout(()=>setSelectedModuleId(tempModuleId), 100);
                                                }
                                                // Trigger public UI refresh after lesson creation
                                                triggerPublicUIRefresh();
                                            },
                                            onLessonUpdated: ()=>{},
                                            onEditLesson: handleEditLesson
                                        }, void 0, false, {
                                            fileName: "[project]/src/app/admin/page.tsx",
                                            lineNumber: 305,
                                            columnNumber: 19
                                        }, ("TURBOPACK compile-time value", void 0)),
                                        selectedModuleId && /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                                            className: "p-4 border-t border-gray-700",
                                            children: /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("button", {
                                                onClick: ()=>handleCreateLesson(selectedModuleId),
                                                className: "w-full bg-accent-primary hover:bg-accent-primary/90 text-white py-2 rounded-md font-medium transition-colors hover-lift border border-accent-primary",
                                                children: "+ Add Lesson"
                                            }, void 0, false, {
                                                fileName: "[project]/src/app/admin/page.tsx",
                                                lineNumber: 329,
                                                columnNumber: 23
                                            }, ("TURBOPACK compile-time value", void 0))
                                        }, void 0, false, {
                                            fileName: "[project]/src/app/admin/page.tsx",
                                            lineNumber: 328,
                                            columnNumber: 21
                                        }, ("TURBOPACK compile-time value", void 0))
                                    ]
                                }, void 0, true, {
                                    fileName: "[project]/src/app/admin/page.tsx",
                                    lineNumber: 304,
                                    columnNumber: 17
                                }, ("TURBOPACK compile-time value", void 0))
                            ]
                        }, void 0, true, {
                            fileName: "[project]/src/app/admin/page.tsx",
                            lineNumber: 244,
                            columnNumber: 15
                        }, ("TURBOPACK compile-time value", void 0))
                    }, void 0, false, {
                        fileName: "[project]/src/app/admin/page.tsx",
                        lineNumber: 242,
                        columnNumber: 13
                    }, ("TURBOPACK compile-time value", void 0)),
                    activeTab === 'announcements' && /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                        className: "flex-1 flex flex-col min-h-0",
                        children: [
                            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("h2", {
                                className: "text-xl font-bold text-white mb-4",
                                children: "Manage Announcements"
                            }, void 0, false, {
                                fileName: "[project]/src/app/admin/page.tsx",
                                lineNumber: 344,
                                columnNumber: 15
                            }, ("TURBOPACK compile-time value", void 0)),
                            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                                className: "flex-1 bg-gray-900 border border-gray-700 rounded-lg overflow-hidden",
                                children: /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$src$2f$components$2f$admin$2f$AnnouncementManager$2e$tsx__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["default"], {}, void 0, false, {
                                    fileName: "[project]/src/app/admin/page.tsx",
                                    lineNumber: 346,
                                    columnNumber: 17
                                }, ("TURBOPACK compile-time value", void 0))
                            }, void 0, false, {
                                fileName: "[project]/src/app/admin/page.tsx",
                                lineNumber: 345,
                                columnNumber: 15
                            }, ("TURBOPACK compile-time value", void 0))
                        ]
                    }, void 0, true, {
                        fileName: "[project]/src/app/admin/page.tsx",
                        lineNumber: 343,
                        columnNumber: 13
                    }, ("TURBOPACK compile-time value", void 0)),
                    activeTab === 'users' && profile?.role === 'admin' && /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                        className: "flex-1 flex flex-col min-h-0",
                        children: [
                            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("h2", {
                                className: "text-xl font-bold text-white mb-4",
                                children: "User Management"
                            }, void 0, false, {
                                fileName: "[project]/src/app/admin/page.tsx",
                                lineNumber: 353,
                                columnNumber: 15
                            }, ("TURBOPACK compile-time value", void 0)),
                            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                                className: "flex-1 bg-gray-900 border border-gray-700 rounded-lg overflow-hidden",
                                children: /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$src$2f$components$2f$admin$2f$UserManager$2e$tsx__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["default"], {}, void 0, false, {
                                    fileName: "[project]/src/app/admin/page.tsx",
                                    lineNumber: 355,
                                    columnNumber: 17
                                }, ("TURBOPACK compile-time value", void 0))
                            }, void 0, false, {
                                fileName: "[project]/src/app/admin/page.tsx",
                                lineNumber: 354,
                                columnNumber: 15
                            }, ("TURBOPACK compile-time value", void 0))
                        ]
                    }, void 0, true, {
                        fileName: "[project]/src/app/admin/page.tsx",
                        lineNumber: 352,
                        columnNumber: 13
                    }, ("TURBOPACK compile-time value", void 0))
                ]
            }, void 0, true, {
                fileName: "[project]/src/app/admin/page.tsx",
                lineNumber: 209,
                columnNumber: 9
            }, ("TURBOPACK compile-time value", void 0)),
            lessonEditorOpen && /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$src$2f$components$2f$admin$2f$LessonEditor$2e$tsx__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["default"], {
                lesson: editingLesson,
                moduleId: selectedModuleId,
                onSave: handleLessonSaved,
                onCreate: handleLessonCreated,
                onClose: ()=>{
                    setLessonEditorOpen(false);
                    setEditingLesson(null);
                }
            }, void 0, false, {
                fileName: "[project]/src/app/admin/page.tsx",
                lineNumber: 364,
                columnNumber: 9
            }, ("TURBOPACK compile-time value", void 0))
        ]
    }, void 0, true, {
        fileName: "[project]/src/app/admin/page.tsx",
        lineNumber: 185,
        columnNumber: 5
    }, ("TURBOPACK compile-time value", void 0));
};
const __TURBOPACK__default__export__ = AdminPage;
}),
];

//# sourceMappingURL=%5Broot-of-the-server%5D__fe285a10._.js.map