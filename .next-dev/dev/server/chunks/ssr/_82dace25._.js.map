{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/ROY0016/.qoder/VibeSchool/vibe-school/src/lib/youtubeParser.ts"],"sourcesContent":["/**\r\n * Parse YouTube URL or ID to extract video ID and create embed URL\r\n * @param input - Raw YouTube URL or video ID\r\n * @returns Object containing videoId, embedUrl, and optional error\r\n */\r\nexport function parseYouTube(input: string): { \r\n  videoId: string | null; \r\n  embedUrl: string | null; \r\n  error?: string \r\n} {\r\n  if (!input || typeof input !== 'string') {\r\n    return {\r\n      videoId: null,\r\n      embedUrl: null,\r\n      error: 'Input is required and must be a string'\r\n    };\r\n  }\r\n\r\n  // Clean the input by trimming whitespace\r\n  const cleanedInput = input.trim();\r\n\r\n  // Regular expression to validate YouTube video ID format (11 alphanumeric chars including hyphens and underscores)\r\n  const videoIdRegex = /^[a-zA-Z0-9_-]{11}$/;\r\n\r\n  // If input is exactly 11 characters and matches YouTube ID format, treat as raw ID\r\n  if (cleanedInput.length === 11 && videoIdRegex.test(cleanedInput)) {\r\n    return {\r\n      videoId: cleanedInput,\r\n      embedUrl: `https://www.youtube.com/embed/${cleanedInput}`,\r\n      error: undefined\r\n    };\r\n  }\r\n\r\n  // Regular expression to match various YouTube URL formats\r\n  const youtubeRegex = /(?:youtube\\.com\\/(?:[^\\/]+\\/.+\\/|(?:v|e(?:mbed)?)\\/|.*[?&]v=)|youtu\\.be\\/)([^\"&?\\/\\s]{11})/i;\r\n\r\n  const match = cleanedInput.match(youtubeRegex);\r\n\r\n  if (match && match[1]) {\r\n    const videoId = match[1];\r\n    return {\r\n      videoId,\r\n      embedUrl: `https://www.youtube.com/embed/${videoId}`,\r\n      error: undefined\r\n    };\r\n  }\r\n\r\n  // Check for YouTube Shorts format\r\n  const shortsRegex = /youtube\\.com\\/shorts\\/([^\"&?\\/\\s]{11})/i;\r\n  const shortsMatch = cleanedInput.match(shortsRegex);\r\n\r\n  if (shortsMatch && shortsMatch[1]) {\r\n    const videoId = shortsMatch[1];\r\n    return {\r\n      videoId,\r\n      embedUrl: `https://www.youtube.com/embed/${videoId}`,\r\n      error: undefined\r\n    };\r\n  }\r\n\r\n  // If no match found, return error\r\n  return {\r\n    videoId: null,\r\n    embedUrl: null,\r\n    error: 'Invalid YouTube URL or video ID. Please provide a valid YouTube URL or 11-character video ID.'\r\n  };\r\n}"],"names":[],"mappings":"AAAA;;;;CAIC;;;;AACM,SAAS,aAAa,KAAa;IAKxC,IAAI,CAAC,SAAS,OAAO,UAAU,UAAU;QACvC,OAAO;YACL,SAAS;YACT,UAAU;YACV,OAAO;QACT;IACF;IAEA,yCAAyC;IACzC,MAAM,eAAe,MAAM,IAAI;IAE/B,mHAAmH;IACnH,MAAM,eAAe;IAErB,mFAAmF;IACnF,IAAI,aAAa,MAAM,KAAK,MAAM,aAAa,IAAI,CAAC,eAAe;QACjE,OAAO;YACL,SAAS;YACT,UAAU,CAAC,8BAA8B,EAAE,cAAc;YACzD,OAAO;QACT;IACF;IAEA,0DAA0D;IAC1D,MAAM,eAAe;IAErB,MAAM,QAAQ,aAAa,KAAK,CAAC;IAEjC,IAAI,SAAS,KAAK,CAAC,EAAE,EAAE;QACrB,MAAM,UAAU,KAAK,CAAC,EAAE;QACxB,OAAO;YACL;YACA,UAAU,CAAC,8BAA8B,EAAE,SAAS;YACpD,OAAO;QACT;IACF;IAEA,kCAAkC;IAClC,MAAM,cAAc;IACpB,MAAM,cAAc,aAAa,KAAK,CAAC;IAEvC,IAAI,eAAe,WAAW,CAAC,EAAE,EAAE;QACjC,MAAM,UAAU,WAAW,CAAC,EAAE;QAC9B,OAAO;YACL;YACA,UAAU,CAAC,8BAA8B,EAAE,SAAS;YACpD,OAAO;QACT;IACF;IAEA,kCAAkC;IAClC,OAAO;QACL,SAAS;QACT,UAAU;QACV,OAAO;IACT;AACF"}},
    {"offset": {"line": 65, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/ROY0016/.qoder/VibeSchool/vibe-school/src/actions/courseActions.ts"],"sourcesContent":["'use server'\r\n\r\nimport { cookies } from 'next/headers';\r\nimport { createServerClient } from '@supabase/ssr';\r\nimport { revalidatePath } from 'next/cache';\r\nimport { parseYouTube } from '@/lib/youtubeParser';\r\n\r\n// Type definitions\r\ntype Course = {\r\n  id: string;\r\n  title: string;\r\n  description: string;\r\n  is_published: boolean;\r\n  created_at: string;\r\n  updated_at: string;\r\n};\r\n\r\ntype Module = {\r\n  id: string;\r\n  course_id: string;\r\n  title: string;\r\n  order_index: number;\r\n};\r\n\r\ntype Lesson = {\r\n  id: string;\r\n  module_id: string;\r\n  title: string;\r\n  description: string;\r\n  order_index: number;\r\n  video_provider: string;\r\n  video_url: string | null;\r\n  youtube_video_id: string | null;\r\n  is_preview: boolean;\r\n  is_published: boolean;\r\n  created_at: string;\r\n  updated_at: string;\r\n};\r\n\r\n// Helper function to create Supabase client for server actions\r\nasync function createSupabaseClient() {\r\n  const cookieStore = await cookies();\r\n  return createServerClient(\r\n    process.env.NEXT_PUBLIC_SUPABASE_URL!,\r\n    process.env.NEXT_PUBLIC_SUPABASE_ANON_KEY!,\r\n    {\r\n      cookies: {\r\n        get: (name: string) => {\r\n          const cookie = cookieStore.get(name);\r\n          return cookie ? cookie.value : undefined;\r\n        },\r\n      },\r\n    }\r\n  );\r\n}\r\n\r\n// Check if user is admin\r\nasync function isAdmin(supabase: any): Promise<boolean> {\r\n  const {\r\n    data: { user },\r\n    error: userError,\r\n  } = await supabase.auth.getUser();\r\n\r\n  if (userError || !user) {\r\n    return false;\r\n  }\r\n\r\n  const { data: profile, error: profileError } = await supabase\r\n    .from('profiles')\r\n    .select('role')\r\n    .eq('id', user.id)\r\n    .single();\r\n\r\n  if (profileError || !profile) {\r\n    return false;\r\n  }\r\n\r\n  return profile.role === 'admin' || profile.role === 'teacher';\r\n}\r\n\r\n// Course Actions\r\nexport async function listCourses(): Promise<{ data: Course[] | null; error: string | null }> {\r\n  const supabase = await createSupabaseClient();\r\n  \r\n  try {\r\n    // Check admin access\r\n    const adminCheck = await isAdmin(supabase);\r\n    if (!adminCheck) {\r\n      console.log('DEBUG: listCourses - Access denied, not admin/teacher');\r\n      return { data: null, error: 'Access denied. Admin or teacher role required.' };\r\n    }\r\n    \r\n    console.log('DEBUG: listCourses - Fetching all courses for admin');\r\n    \r\n    const { data, error } = await supabase\r\n      .from('courses')\r\n      .select('*')\r\n      .order('created_at', { ascending: false });\r\n    \r\n    console.log('DEBUG: listCourses - Query result:', { data: data?.length, error });\r\n    \r\n    if (error) {\r\n      console.error('DEBUG: listCourses - Supabase error:', error);\r\n      return { data: null, error: error.message };\r\n    }\r\n\r\n    console.log('DEBUG: listCourses - Returning courses:', data?.length);\r\n    return { data, error: null };\r\n  } catch (error: any) {\r\n    console.error('DEBUG: listCourses - Exception:', error);\r\n    return { data: null, error: error.message };\r\n  }\r\n}\r\n\r\nexport async function createCourse(title: string, description: string): Promise<{ data: Course | null; error: string | null }> {\r\n  const supabase = await createSupabaseClient();\r\n  \r\n  try {\r\n    // Check admin access\r\n    const adminCheck = await isAdmin(supabase);\r\n    if (!adminCheck) {\r\n      console.log('DEBUG: createCourse - Access denied, not admin/teacher');\r\n      return { data: null, error: 'Access denied. Admin or teacher role required.' };\r\n    }\r\n    \r\n    console.log('DEBUG: createCourse - Creating course:', { title, description });\r\n\r\n    const { data, error } = await supabase\r\n      .from('courses')\r\n      .insert([{ title, description }])\r\n      .select()\r\n      .single();\r\n    \r\n    console.log('DEBUG: createCourse - Insert result:', { data: !!data, error });\r\n\r\n    if (error) {\r\n      console.error('DEBUG: createCourse - Supabase error:', error);\r\n      return { data: null, error: error.message };\r\n    }\r\n\r\n    // Revalidate the cache to ensure frontend reflects changes\r\n    revalidatePath('/courses');\r\n    revalidatePath('/dashboard');\r\n    \r\n    console.log('DEBUG: createCourse - Course created successfully, cache invalidated');\r\n    \r\n    return { data, error: null };\r\n  } catch (error: any) {\r\n    console.error('DEBUG: createCourse - Exception:', error);\r\n    return { data: null, error: error.message };\r\n  }\r\n}\r\n\r\nexport async function updateCourse(id: string, updates: Partial<Course>): Promise<{ data: Course | null; error: string | null }> {\r\n  const supabase = await createSupabaseClient();\r\n  \r\n  try {\r\n    // Check admin access\r\n    const adminCheck = await isAdmin(supabase);\r\n    if (!adminCheck) {\r\n      return { data: null, error: 'Access denied. Admin or teacher role required.' };\r\n    }\r\n\r\n    const { data, error } = await supabase\r\n      .from('courses')\r\n      .update(updates)\r\n      .eq('id', id)\r\n      .select()\r\n      .single();\r\n\r\n    if (error) {\r\n      return { data: null, error: error.message };\r\n    }\r\n\r\n    // Revalidate the cache to ensure frontend reflects changes\r\n    revalidatePath('/courses');\r\n    revalidatePath('/dashboard');\r\n    \r\n    return { data, error: null };\r\n  } catch (error: any) {\r\n    return { data: null, error: error.message };\r\n  }\r\n}\r\n\r\nexport async function deleteCourse(id: string): Promise<{ error: string | null }> {\r\n  const supabase = await createSupabaseClient();\r\n  \r\n  try {\r\n    // Check admin access\r\n    const adminCheck = await isAdmin(supabase);\r\n    if (!adminCheck) {\r\n      return { error: 'Access denied. Admin or teacher role required.' };\r\n    }\r\n\r\n    const { error } = await supabase\r\n      .from('courses')\r\n      .delete()\r\n      .eq('id', id);\r\n\r\n    if (error) {\r\n      return { error: error.message };\r\n    }\r\n\r\n    // Revalidate the cache to ensure frontend reflects changes\r\n    revalidatePath('/courses');\r\n    revalidatePath('/dashboard');\r\n    \r\n    return { error: null };\r\n  } catch (error: any) {\r\n    return { error: error.message };\r\n  }\r\n}\r\n\r\nexport async function publishCourse(id: string, isPublished: boolean): Promise<{ data: Course | null; error: string | null }> {\r\n  const supabase = await createSupabaseClient();\r\n  \r\n  try {\r\n    // Check admin access\r\n    const adminCheck = await isAdmin(supabase);\r\n    if (!adminCheck) {\r\n      return { data: null, error: 'Access denied. Admin or teacher role required.' };\r\n    }\r\n\r\n    const { data, error } = await supabase\r\n      .from('courses')\r\n      .update({ is_published: isPublished })\r\n      .eq('id', id)\r\n      .select()\r\n      .single();\r\n\r\n    if (error) {\r\n      return { data: null, error: error.message };\r\n    }\r\n\r\n    // Revalidate the cache to ensure frontend reflects changes\r\n    revalidatePath('/courses');\r\n    revalidatePath('/dashboard');\r\n    \r\n    return { data, error: null };\r\n  } catch (error: any) {\r\n    return { data: null, error: error.message };\r\n  }\r\n}\r\n\r\n// Module Actions\r\nexport async function listModules(courseId: string): Promise<{ data: Module[] | null; error: string | null }> {\r\n  const supabase = await createSupabaseClient();\r\n  \r\n  try {\r\n    // Check admin access\r\n    const adminCheck = await isAdmin(supabase);\r\n    if (!adminCheck) {\r\n      return { data: null, error: 'Access denied. Admin or teacher role required.' };\r\n    }\r\n\r\n    const { data, error } = await supabase\r\n      .from('modules')\r\n      .select('*')\r\n      .eq('course_id', courseId)\r\n      .order('order_index', { ascending: true });\r\n\r\n    if (error) {\r\n      return { data: null, error: error.message };\r\n    }\r\n\r\n    return { data, error: null };\r\n  } catch (error: any) {\r\n    return { data: null, error: error.message };\r\n  }\r\n}\r\n\r\nexport async function createModule(courseId: string, title: string): Promise<{ data: Module | null; error: string | null }> {\r\n  const supabase = await createSupabaseClient();\r\n  \r\n  try {\r\n    // Check admin access\r\n    const adminCheck = await isAdmin(supabase);\r\n    if (!adminCheck) {\r\n      return { data: null, error: 'Access denied. Admin or teacher role required.' };\r\n    }\r\n\r\n    // Get the highest order_index to determine the new position\r\n    const { data: existingModules } = await supabase\r\n      .from('modules')\r\n      .select('order_index')\r\n      .eq('course_id', courseId)\r\n      .order('order_index', { ascending: false })\r\n      .limit(1);\r\n\r\n    const newOrderIndex = existingModules && existingModules.length > 0 \r\n      ? existingModules[0].order_index + 10 \r\n      : 0;\r\n\r\n    const { data, error } = await supabase\r\n      .from('modules')\r\n      .insert([{ course_id: courseId, title, order_index: newOrderIndex }])\r\n      .select()\r\n      .single();\r\n\r\n    if (error) {\r\n      return { data: null, error: error.message };\r\n    }\r\n\r\n    // Revalidate the cache to ensure frontend reflects changes\r\n    revalidatePath('/courses');\r\n    revalidatePath('/dashboard');\r\n    \r\n    return { data, error: null };\r\n  } catch (error: any) {\r\n    return { data: null, error: error.message };\r\n  }\r\n}\r\n\r\nexport async function updateModule(id: string, updates: Partial<Module>): Promise<{ data: Module | null; error: string | null }> {\r\n  const supabase = await createSupabaseClient();\r\n  \r\n  try {\r\n    // Check admin access\r\n    const adminCheck = await isAdmin(supabase);\r\n    if (!adminCheck) {\r\n      return { data: null, error: 'Access denied. Admin or teacher role required.' };\r\n    }\r\n\r\n    const { data, error } = await supabase\r\n      .from('modules')\r\n      .update(updates)\r\n      .eq('id', id)\r\n      .select()\r\n      .single();\r\n\r\n    if (error) {\r\n      return { data: null, error: error.message };\r\n    }\r\n\r\n    // Revalidate the cache to ensure frontend reflects changes\r\n    revalidatePath('/courses');\r\n    revalidatePath('/dashboard');\r\n    \r\n    return { data, error: null };\r\n  } catch (error: any) {\r\n    return { data: null, error: error.message };\r\n  }\r\n}\r\n\r\nexport async function deleteModule(id: string): Promise<{ error: string | null }> {\r\n  const supabase = await createSupabaseClient();\r\n  \r\n  try {\r\n    // Check admin access\r\n    const adminCheck = await isAdmin(supabase);\r\n    if (!adminCheck) {\r\n      return { error: 'Access denied. Admin or teacher role required.' };\r\n    }\r\n\r\n    const { error } = await supabase\r\n      .from('modules')\r\n      .delete()\r\n      .eq('id', id);\r\n\r\n    if (error) {\r\n      return { error: error.message };\r\n    }\r\n\r\n    // Revalidate the cache to ensure frontend reflects changes\r\n    revalidatePath('/courses');\r\n    revalidatePath('/dashboard');\r\n    \r\n    return { error: null };\r\n  } catch (error: any) {\r\n    return { error: error.message };\r\n  }\r\n}\r\n\r\nexport async function reorderModules(courseId: string, moduleIds: string[]): Promise<{ error: string | null }> {\r\n  const supabase = await createSupabaseClient();\r\n  \r\n  try {\r\n    // Check admin access\r\n    const adminCheck = await isAdmin(supabase);\r\n    if (!adminCheck) {\r\n      return { error: 'Access denied. Admin or teacher role required.' };\r\n    }\r\n\r\n    // Update all modules with their new positions in a single transaction\r\n    const updates = moduleIds.map((id, index) => ({\r\n      id,\r\n      order_index: index * 10 // Use increments of 10 to allow for future insertions between items\r\n    }));\r\n\r\n    // Perform updates in a batch\r\n    for (const update of updates) {\r\n      const { error } = await supabase\r\n        .from('modules')\r\n        .update({ order_index: update.order_index })\r\n        .eq('id', update.id)\r\n        .eq('course_id', courseId); // Additional safety check\r\n\r\n      if (error) {\r\n        return { error: error.message };\r\n      }\r\n    }\r\n\r\n    // Revalidate the cache to ensure frontend reflects changes\r\n    revalidatePath('/courses');\r\n    revalidatePath('/dashboard');\r\n    \r\n    return { error: null };\r\n  } catch (error: any) {\r\n    return { error: error.message };\r\n  }\r\n}\r\n\r\n// Lesson Actions\r\nexport async function listLessons(moduleId: string): Promise<{ data: Lesson[] | null; error: string | null }> {\r\n  const supabase = await createSupabaseClient();\r\n  \r\n  try {\r\n    // Check admin access\r\n    const adminCheck = await isAdmin(supabase);\r\n    if (!adminCheck) {\r\n      return { data: null, error: 'Access denied. Admin or teacher role required.' };\r\n    }\r\n\r\n    const { data, error } = await supabase\r\n      .from('lessons')\r\n      .select('*')\r\n      .eq('module_id', moduleId)\r\n      .order('order_index', { ascending: true });\r\n\r\n    if (error) {\r\n      return { data: null, error: error.message };\r\n    }\r\n\r\n    return { data, error: null };\r\n  } catch (error: any) {\r\n    return { data: null, error: error.message };\r\n  }\r\n}\r\n\r\nexport async function createLesson(\r\n  moduleId: string, \r\n  title: string, \r\n  description: string, \r\n  youtubeUrl: string\r\n): Promise<{ data: Lesson | null; error: string | null }> {\r\n  const supabase = await createSupabaseClient();\r\n  \r\n  try {\r\n    // Check admin access\r\n    const adminCheck = await isAdmin(supabase);\r\n    if (!adminCheck) {\r\n      return { data: null, error: 'Access denied. Admin or teacher role required.' };\r\n    }\r\n\r\n    // Parse the YouTube URL\r\n    const parsed = parseYouTube(youtubeUrl);\r\n    if (parsed.error) {\r\n      return { data: null, error: parsed.error };\r\n    }\r\n\r\n    // Get the highest order_index to determine the new position\r\n    const { data: existingLessons } = await supabase\r\n      .from('lessons')\r\n      .select('order_index')\r\n      .eq('module_id', moduleId)\r\n      .order('order_index', { ascending: false })\r\n      .limit(1);\r\n\r\n    const newOrderIndex = existingLessons && existingLessons.length > 0 \r\n      ? existingLessons[0].order_index + 10 \r\n      : 0;\r\n\r\n    const { data, error } = await supabase\r\n      .from('lessons')\r\n      .insert([{\r\n        module_id: moduleId,\r\n        title,\r\n        description,\r\n        youtube_video_id: parsed.videoId,\r\n        video_url: parsed.embedUrl,\r\n        order_index: newOrderIndex,\r\n        is_preview: false,\r\n        is_published: true\r\n      }])\r\n      .select()\r\n      .single();\r\n\r\n    if (error) {\r\n      return { data: null, error: error.message };\r\n    }\r\n\r\n    // Revalidate the cache to ensure frontend reflects changes\r\n    revalidatePath('/courses');\r\n    revalidatePath('/dashboard');\r\n    \r\n    return { data, error: null };\r\n  } catch (error: any) {\r\n    return { data: null, error: error.message };\r\n  }\r\n}\r\n\r\nexport async function updateLesson(\r\n  id: string, \r\n  updates: Partial<Omit<Lesson, 'id' | 'module_id' | 'created_at' | 'updated_at'>>\r\n): Promise<{ data: Lesson | null; error: string | null }> {\r\n  const supabase = await createSupabaseClient();\r\n  \r\n  try {\r\n    // Check admin access\r\n    const adminCheck = await isAdmin(supabase);\r\n    if (!adminCheck) {\r\n      return { data: null, error: 'Access denied. Admin or teacher role required.' };\r\n    }\r\n\r\n    // If updating YouTube URL, parse it first\r\n    if (updates.video_url) {\r\n      const parsed = parseYouTube(updates.video_url);\r\n      if (parsed.error) {\r\n        return { data: null, error: parsed.error };\r\n      }\r\n      updates.youtube_video_id = parsed.videoId;\r\n      updates.video_url = parsed.embedUrl;\r\n    }\r\n\r\n    const { data, error } = await supabase\r\n      .from('lessons')\r\n      .update(updates)\r\n      .eq('id', id)\r\n      .select()\r\n      .single();\r\n\r\n    if (error) {\r\n      return { data: null, error: error.message };\r\n    }\r\n\r\n    // Revalidate the cache to ensure frontend reflects changes\r\n    revalidatePath('/courses');\r\n    revalidatePath('/dashboard');\r\n    \r\n    return { data, error: null };\r\n  } catch (error: any) {\r\n    return { data: null, error: error.message };\r\n  }\r\n}\r\n\r\nexport async function deleteLesson(id: string): Promise<{ error: string | null }> {\r\n  const supabase = await createSupabaseClient();\r\n  \r\n  try {\r\n    // Check admin access\r\n    const adminCheck = await isAdmin(supabase);\r\n    if (!adminCheck) {\r\n      return { error: 'Access denied. Admin or teacher role required.' };\r\n    }\r\n\r\n    const { error } = await supabase\r\n      .from('lessons')\r\n      .delete()\r\n      .eq('id', id);\r\n\r\n    if (error) {\r\n      return { error: error.message };\r\n    }\r\n\r\n    // Revalidate the cache to ensure frontend reflects changes\r\n    revalidatePath('/courses');\r\n    revalidatePath('/dashboard');\r\n    \r\n    return { error: null };\r\n  } catch (error: any) {\r\n    return { error: error.message };\r\n  }\r\n}\r\n\r\nexport async function reorderLessons(moduleId: string, lessonIds: string[]): Promise<{ error: string | null }> {\r\n  const supabase = await createSupabaseClient();\r\n  \r\n  try {\r\n    // Check admin access\r\n    const adminCheck = await isAdmin(supabase);\r\n    if (!adminCheck) {\r\n      return { error: 'Access denied. Admin or teacher role required.' };\r\n    }\r\n\r\n    // Update all lessons with their new positions in a single transaction\r\n    const updates = lessonIds.map((id, index) => ({\r\n      id,\r\n      order_index: index * 10 // Use increments of 10 to allow for future insertions between items\r\n    }));\r\n\r\n    // Perform updates in a batch\r\n    for (const update of updates) {\r\n      const { error } = await supabase\r\n        .from('lessons')\r\n        .update({ order_index: update.order_index })\r\n        .eq('id', update.id)\r\n        .eq('module_id', moduleId); // Additional safety check\r\n\r\n      if (error) {\r\n        return { error: error.message };\r\n      }\r\n    }\r\n\r\n    // Revalidate the cache to ensure frontend reflects changes\r\n    revalidatePath('/courses');\r\n    revalidatePath('/dashboard');\r\n    \r\n    return { error: null };\r\n  } catch (error: any) {\r\n    return { error: error.message };\r\n  }\r\n}"],"names":[],"mappings":"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"}},
    {"offset": {"line": 722, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/ROY0016/.qoder/VibeSchool/vibe-school/src/actions/announcementActions.ts"],"sourcesContent":["'use server';\r\n\r\nimport { cookies } from 'next/headers';\r\nimport { createServerClient } from '@supabase/ssr';\r\n\r\n// Type definitions\r\ntype Announcement = {\r\n  id: string;\r\n  title: string;\r\n  body: string;\r\n  created_at: string;\r\n};\r\n\r\n// Helper function to create Supabase client for server actions\r\nasync function createSupabaseClient() {\r\n  const cookieStore = await cookies();\r\n  return createServerClient(\r\n    process.env.NEXT_PUBLIC_SUPABASE_URL!,\r\n    process.env.NEXT_PUBLIC_SUPABASE_ANON_KEY!,\r\n    {\r\n      cookies: {\r\n        get: (name: string) => {\r\n          const cookie = cookieStore.get(name);\r\n          return cookie ? cookie.value : undefined;\r\n        },\r\n      },\r\n    }\r\n  );\r\n}\r\n\r\n// Check if user is admin\r\nasync function isAdmin(supabase: any): Promise<boolean> {\r\n  const {\r\n    data: { user },\r\n    error: userError,\r\n  } = await supabase.auth.getUser();\r\n\r\n  if (userError || !user) {\r\n    return false;\r\n  }\r\n\r\n  const { data: profile, error: profileError } = await supabase\r\n    .from('profiles')\r\n    .select('role')\r\n    .eq('id', user.id)\r\n    .single();\r\n\r\n  if (profileError || !profile) {\r\n    return false;\r\n  }\r\n\r\n  return profile.role === 'admin' || profile.role === 'teacher';\r\n}\r\n\r\n// Announcement Actions\r\nexport async function listAnnouncements(): Promise<{ data: Announcement[] | null; error: string | null }> {\r\n  const supabase = await createSupabaseClient();\r\n  \r\n  try {\r\n    // Check admin access\r\n    const adminCheck = await isAdmin(supabase);\r\n    if (!adminCheck) {\r\n      return { data: null, error: 'Access denied. Admin or teacher role required.' };\r\n    }\r\n\r\n    const { data, error } = await supabase\r\n      .from('announcements')\r\n      .select('*')\r\n      .order('created_at', { ascending: false });\r\n\r\n    if (error) {\r\n      return { data: null, error: error.message };\r\n    }\r\n\r\n    return { data, error: null };\r\n  } catch (error: any) {\r\n    return { data: null, error: error.message };\r\n  }\r\n}\r\n\r\nexport async function createAnnouncement(title: string, body: string): Promise<{ data: Announcement | null; error: string | null }> {\r\n  const supabase = await createSupabaseClient();\r\n  \r\n  try {\r\n    // Check admin access\r\n    const adminCheck = await isAdmin(supabase);\r\n    if (!adminCheck) {\r\n      return { data: null, error: 'Access denied. Admin or teacher role required.' };\r\n    }\r\n\r\n    const { data, error } = await supabase\r\n      .from('announcements')\r\n      .insert([{ title, body }])\r\n      .select()\r\n      .single();\r\n\r\n    if (error) {\r\n      return { data: null, error: error.message };\r\n    }\r\n\r\n    return { data, error: null };\r\n  } catch (error: any) {\r\n    return { data: null, error: error.message };\r\n  }\r\n}\r\n\r\nexport async function updateAnnouncement(id: string, updates: Partial<Announcement>): Promise<{ data: Announcement | null; error: string | null }> {\r\n  const supabase = await createSupabaseClient();\r\n  \r\n  try {\r\n    // Check admin access\r\n    const adminCheck = await isAdmin(supabase);\r\n    if (!adminCheck) {\r\n      return { data: null, error: 'Access denied. Admin or teacher role required.' };\r\n    }\r\n\r\n    const { data, error } = await supabase\r\n      .from('announcements')\r\n      .update(updates)\r\n      .eq('id', id)\r\n      .select()\r\n      .single();\r\n\r\n    if (error) {\r\n      return { data: null, error: error.message };\r\n    }\r\n\r\n    return { data, error: null };\r\n  } catch (error: any) {\r\n    return { data: null, error: error.message };\r\n  }\r\n}\r\n\r\nexport async function deleteAnnouncement(id: string): Promise<{ error: string | null }> {\r\n  const supabase = await createSupabaseClient();\r\n  \r\n  try {\r\n    // Check admin access\r\n    const adminCheck = await isAdmin(supabase);\r\n    if (!adminCheck) {\r\n      return { error: 'Access denied. Admin or teacher role required.' };\r\n    }\r\n\r\n    const { error } = await supabase\r\n      .from('announcements')\r\n      .delete()\r\n      .eq('id', id);\r\n\r\n    if (error) {\r\n      return { error: error.message };\r\n    }\r\n\r\n    return { error: null };\r\n  } catch (error: any) {\r\n    return { error: error.message };\r\n  }\r\n}"],"names":[],"mappings":"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"}},
    {"offset": {"line": 898, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/ROY0016/.qoder/VibeSchool/vibe-school/src/actions/userActions.ts"],"sourcesContent":["'use server';\r\n\r\nimport { cookies } from 'next/headers';\r\nimport { createServerClient } from '@supabase/ssr';\r\n\r\n// Type definitions\r\ntype User = {\r\n  id: string;\r\n  username: string;\r\n  email: string;\r\n  role: string;\r\n  plan: string;\r\n  created_at: string;\r\n};\r\n\r\n// Helper function to create Supabase client for server actions\r\nasync function createSupabaseClient() {\r\n  const cookieStore = await cookies();\r\n  return createServerClient(\r\n    process.env.NEXT_PUBLIC_SUPABASE_URL!,\r\n    process.env.NEXT_PUBLIC_SUPABASE_ANON_KEY!,\r\n    {\r\n      cookies: {\r\n        get: (name: string) => {\r\n          const cookie = cookieStore.get(name);\r\n          return cookie ? cookie.value : undefined;\r\n        },\r\n      },\r\n    }\r\n  );\r\n}\r\n\r\n// Check if user is admin\r\nasync function isAdmin(supabase: any): Promise<boolean> {\r\n  const {\r\n    data: { user },\r\n    error: userError,\r\n  } = await supabase.auth.getUser();\r\n\r\n  if (userError || !user) {\r\n    return false;\r\n  }\r\n\r\n  const { data: profile, error: profileError } = await supabase\r\n    .from('profiles')\r\n    .select('role')\r\n    .eq('id', user.id)\r\n    .single();\r\n\r\n  if (profileError || !profile) {\r\n    return false;\r\n  }\r\n\r\n  return profile.role === 'admin';\r\n}\r\n\r\n// User Actions\r\nexport async function listUsers(): Promise<{ data: User[] | null; error: string | null }> {\r\n  const supabase = await createSupabaseClient();\r\n  \r\n  try {\r\n    // Check admin access\r\n    const adminCheck = await isAdmin(supabase);\r\n    if (!adminCheck) {\r\n      return { data: null, error: 'Access denied. Admin role required.' };\r\n    }\r\n\r\n    // Join with auth.users to get email\r\n    const { data, error } = await supabase\r\n      .from('profiles')\r\n      .select(`\r\n        id,\r\n        username,\r\n        role,\r\n        plan,\r\n        created_at\r\n      `)\r\n      .order('created_at', { ascending: false });\r\n\r\n    if (error) {\r\n      return { data: null, error: error.message };\r\n    }\r\n\r\n    // For now, we'll return mock emails since we can't access auth.users directly from RLS\r\n    // In a real implementation, you'd need a service role key or a dedicated RPC function\r\n    const usersWithMockEmails = data.map((user: any) => ({\r\n      ...user,\r\n      email: `${user.username}@example.com` // Mock email for demo purposes\r\n    }));\r\n\r\n    return { data: usersWithMockEmails as User[], error: null };\r\n  } catch (error: any) {\r\n    return { data: null, error: error.message };\r\n  }\r\n}\r\n\r\nexport async function updateUser(id: string, updates: Partial<User>): Promise<{ data: User | null; error: string | null }> {\r\n  const supabase = await createSupabaseClient();\r\n  \r\n  try {\r\n    // Check admin access\r\n    const adminCheck = await isAdmin(supabase);\r\n    if (!adminCheck) {\r\n      return { data: null, error: 'Access denied. Admin role required.' };\r\n    }\r\n\r\n    // Use the hardened service function\r\n    const { data, error } = await supabase\r\n      .from('profiles')\r\n      .update({\r\n        role: updates.role,\r\n        plan: updates.plan\r\n      })\r\n      .eq('id', id)\r\n      .select()\r\n      .maybeSingle(); // Changed from .single() to .maybeSingle()\r\n\r\n    if (error) {\r\n      console.error('[USER ACTION] Update error:', error);\r\n      return { data: null, error: error.message };\r\n    }\r\n    \r\n    // Handle case where no rows were updated\r\n    if (!data) {\r\n      console.error('[USER ACTION] No profile found for update:', id);\r\n      return { data: null, error: 'No profile found for this user' };\r\n    }\r\n\r\n    // Add mock email\r\n    const userData = {\r\n      ...data,\r\n      email: `${data.username}@example.com`\r\n    };\r\n\r\n    return { data: userData as User, error: null };\r\n  } catch (error: any) {\r\n    console.error('[USER ACTION] Unexpected error:', error);\r\n    return { data: null, error: error.message };\r\n  }\r\n}\r\n\r\nexport async function deleteUser(id: string): Promise<{ error: string | null }> {\r\n  const supabase = await createSupabaseClient();\r\n  \r\n  try {\r\n    // Check admin access\r\n    const adminCheck = await isAdmin(supabase);\r\n    if (!adminCheck) {\r\n      return { error: 'Access denied. Admin role required.' };\r\n    }\r\n\r\n    // Note: In a real implementation, you'd want to properly delete the user\r\n    // from auth.users as well, but that typically requires a service role key\r\n    // For now, we'll just delete from profiles\r\n    const { error } = await supabase\r\n      .from('profiles')\r\n      .delete()\r\n      .eq('id', id);\r\n\r\n    if (error) {\r\n      return { error: error.message };\r\n    }\r\n\r\n    return { error: null };\r\n  } catch (error: any) {\r\n    return { error: error.message };\r\n  }\r\n}\r\n\r\nexport async function searchUsers(searchTerm: string): Promise<{ data: User[] | null; error: string | null }> {\r\n  const supabase = await createSupabaseClient();\r\n  \r\n  try {\r\n    // Check admin access\r\n    const adminCheck = await isAdmin(supabase);\r\n    if (!adminCheck) {\r\n      return { data: null, error: 'Access denied. Admin role required.' };\r\n    }\r\n\r\n    const { data, error } = await supabase\r\n      .from('profiles')\r\n      .select(`\r\n        id,\r\n        username,\r\n        role,\r\n        plan,\r\n        created_at\r\n      `)\r\n      .or(`username.ilike.%${searchTerm}%,role.ilike.%${searchTerm}%`)\r\n      .order('created_at', { ascending: false });\r\n\r\n    if (error) {\r\n      return { data: null, error: error.message };\r\n    }\r\n\r\n    // Add mock emails\r\n    const usersWithMockEmails = data.map((user: any) => ({\r\n      ...user,\r\n      email: `${user.username}@example.com`\r\n    }));\r\n\r\n    return { data: usersWithMockEmails as User[], error: null };\r\n  } catch (error: any) {\r\n    return { data: null, error: error.message };\r\n  }\r\n}"],"names":[],"mappings":"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"}},
    {"offset": {"line": 1117, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/ROY0016/.qoder/VibeSchool/vibe-school/.next-internal/server/app/admin/page/actions.js%20%28server%20actions%20loader%29"],"sourcesContent":["export {listCourses as '00c729f0fcb13a9acca85acc69472af5affee8caf1'} from 'ACTIONS_MODULE0'\nexport {createCourse as '60b20a256cfaf7dc44fb26ead925cb0f33e7c114b3'} from 'ACTIONS_MODULE0'\nexport {deleteCourse as '40cada5192e4898fc97c2bec447f5f0c82920adcbf'} from 'ACTIONS_MODULE0'\nexport {publishCourse as '605841422bbcd60441154894f36579b80e85d9fcc3'} from 'ACTIONS_MODULE0'\nexport {listModules as '409d1156001915a04f18aaeda7086d1c6ae3b5eb26'} from 'ACTIONS_MODULE0'\nexport {createModule as '60c099a26d59c66b0d55e0af188374b1d738722fe8'} from 'ACTIONS_MODULE0'\nexport {deleteModule as '40d3794158f33f10553408babb4643c61f0a01e583'} from 'ACTIONS_MODULE0'\nexport {reorderModules as '60dfb916d99351656b3d40dd5fd4b0b67f331b7ba1'} from 'ACTIONS_MODULE0'\nexport {listLessons as '404001c0ab7c8ec1296d7f0e74492b7cb2781bc127'} from 'ACTIONS_MODULE0'\nexport {deleteLesson as '400a05ef8d432a3c4ed68bbb7dc7ea3e67e5767d27'} from 'ACTIONS_MODULE0'\nexport {reorderLessons as '60a56318eb6059efc1f0fdfdb4070a7fdc94305b9b'} from 'ACTIONS_MODULE0'\nexport {updateLesson as '609d5750ce9eb702195e2c54ba908d22b9c64a6264'} from 'ACTIONS_MODULE0'\nexport {createLesson as '7842ffb104e6a18f93868d6ff8498037ad7d65c330'} from 'ACTIONS_MODULE0'\nexport {listAnnouncements as '00721cff8990621339d8f211b753c247a8623d0334'} from 'ACTIONS_MODULE1'\nexport {createAnnouncement as '60193bb4f320ace54e465f7c3e29f92ce450ee210d'} from 'ACTIONS_MODULE1'\nexport {deleteAnnouncement as '400492345bb78809c3046bc3a072b760be7d685af4'} from 'ACTIONS_MODULE1'\nexport {listUsers as '00fe4727cac8f70f5edc703838dabca6792c690f8e'} from 'ACTIONS_MODULE2'\nexport {updateUser as '60b4ddf67d2006cf4a29da630db45e4a7a4beda1e4'} from 'ACTIONS_MODULE2'\nexport {deleteUser as '40b083290b2943a82c9a8c5f73798589e54bbc5ad3'} from 'ACTIONS_MODULE2'\n"],"names":[],"mappings":";AAAA;AAaA;AAGA"}}]
}